(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{102:function(t,e,n){"use strict";var o=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),r=this&&this.__assign||function(){return(r=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)};e.__esModule=!0;var i=function(t){function e(e,n,o){var i=t.call(this,e,n,o)||this;return i.mealyToMoore=function(){var t=new Map;i.edges.forEach(function(e){e.transitions.forEach(function(e){return e.forEach(function(e){var n=e.output;t.has(n)||t.set(n,t.size)})})});var e=[];t.forEach(function(t,n){return e.push(n)}),console.log(t),console.log(e);var n=i.edges.reduce(function(t,e){var n=[];return e.transitions.forEach(function(t){return t.forEach(function(t){return n.push({from:e.from,to:e.to,title:t.title,output:t.output?t.output:""})})}),n.forEach(function(e){return t.push(e)}),t},new Array);console.log("UUUU"),n.forEach(function(t){console.log(t)}),console.log("UU->I");var o=new Map;i.nodes.forEach(function(e){return o.set(e.id,new Array(t.size).fill(-1))});var a=1;n.forEach(function(e){if(void 0===o.get(e.to))throw new Error("Mealy to Moore");-1===o.get(e.to)[t.get(e.output)]&&(o.get(e.to)[t.get(e.output)]=a,a++)});var s=[];o.forEach(function(t,n){return t.map(function(t,n){return{value:t,out:e[n]}}).filter(function(t){return-1!==t.value}).forEach(function(t){s.push(r(r({},i.nodes.find(function(t){return t.id===n})),{id:t.value,output:t.out}))})}),console.log("LLKLKLKLLLKLL"),s.forEach(function(t){return console.log(t)}),console.log("LLKLKLKLLLKLL"),o.forEach(function(t,e){console.log(e+" ~~~ "+t)});var c=n.reduce(function(e,n){if(void 0===o.get(n.from))throw new Error("Mealy to Moore");return o.get(n.from).filter(function(t){return-1!==t}).forEach(function(r){var i=t.get(n.output);e.push({from:r,to:o.get(n.to)[i],title:n.title})}),e},new Array);console.log("________"),c.forEach(function(t){return console.log(t)}),console.log("________"),console.log("vsdfsdfsdf");var u=i.startStatements.map(function(t){return i.nodes[t.id]}),l=[];u.forEach(function(t){var e;return null===(e=o.get(t.id))||void 0===e?void 0:e.filter(function(t){return-1!==t}).forEach(function(t){return l.push(s.find(function(e){return e.id===t}))})}),u.forEach(function(t){return console.log(t)}),console.log("vsdfsdfsdf---||||--");var p=[];c.sort(function(t,e){return t.from-e.from||t.to-e.to}),console.log("vvvvvvvvvvvvvv"),c.forEach(function(t){return console.log(t)}),console.log("^^^^^^^^^^^^^^");for(var d=0;d<c.length;d++){for(var f=[],m=d;m<c.length&&c[d].from===c[m].from&&c[d].to===c[m].to;)f.push({title:c[m].title}),m++;d=m-1,p.push({from:c[d].from,to:c[d].to,transitions:new Set([f])})}return console.log("{{{{{{{v}}}}}}}"),p.forEach(function(t){console.log(t)}),console.log("{{{{{{{v}}}}}}}"),{graphcore:{edges:p,nodes:s},start:l}},i.step=i.oaStep,i.run=i.oaRun,i}return o(e,t),e}(n(115).OutputAutomata);e.Mealy=i;var a=new i({nodes:[{id:1,isAdmit:!1},{id:2,isAdmit:!1},{id:3,isAdmit:!1},{id:4,isAdmit:!1}],edges:[{from:1,to:2,transitions:new Set([[{title:"f",output:"n"}]])},{from:1,to:4,transitions:new Set([[{title:"t",output:"n"}]])},{from:2,to:3,transitions:new Set([[{title:"t",output:"n"}]])},{from:2,to:4,transitions:new Set([[{title:"f",output:"n"}]])},{from:3,to:1,transitions:new Set([[{title:"f",output:"0"},{title:"t",output:"5"}]])},{from:4,to:3,transitions:new Set([[{title:"f",output:"n"}]])},{from:4,to:1,transitions:new Set([[{title:"t",output:"0"}]])}]},[{id:1,isAdmit:!1}],[]).mealyToMoore();console.log(a)},103:function(t,e,n){"use strict";var o=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();e.__esModule=!0;var r=function(t){function e(e,n,o){var r=t.call(this,e,n,o)||this;return r.restart=function(){r.counterSteps=0,r.historiStep=[],r.curPosition=[],r.startStatements.forEach(function(t){r.curPosition.push({stmt:r.statements.get(t.id)})})},r.mooreToMealy=function(){var t=new Map;r.nodes.forEach(function(e){return t.set(e.id,{id:e.id,isAdmit:e.isAdmit,output:e.output})});var e=r.edges.map(function(e){var n=new Set,o=[];return e.transitions.forEach(function(n){return n.forEach(function(n){var r;o.push({title:n.title,output:null===(r=t.get(e.to))||void 0===r?void 0:r.output})})}),n.add(o),{from:e.from,to:e.to,transitions:n}});return console.log(">>>>",r.startStatements),{graphcore:{edges:e,nodes:r.nodes.map(function(t){return{id:t.id,isAdmit:t.isAdmit}})},start:r.startStatements.map(function(t){return{id:t.id,isAdmit:t.isAdmit}})}},r.step=r.oaStep,r.run=r.oaRun,r}return o(e,t),e}(n(115).OutputAutomata);e.Moore=r},114:function(t,e,n){"use strict";e.__esModule=!0;var o=function(){function t(t){void 0===t&&(t=1/0),this.capacity=t,this.storage=[]}return t.prototype.push=function(t){if(this.size()===this.capacity)throw Error("Stack has reached max capacity, you cannot add more items");this.storage.push(t)},t.prototype.pop=function(){return this.storage.pop()},t.prototype.peek=function(){return this.storage[this.size()-1]},t.prototype.size=function(){return this.storage.length},t.prototype.getStorage=function(){var t=[];return this.storage.forEach(function(e){return t.push(e)}),t},t.prototype.cpyTo=function(t){return this.storage.forEach(function(e){return t.push(e)}),t},t}();e.Stack=o},115:function(t,e,n){"use strict";var o=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),r=this&&this.__assign||function(){return(r=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)};e.__esModule=!0;var i=n(17),a=function(t){function e(e,n,o){var r=t.call(this,e,n)||this;return r.haveEpsilon=function(){return void 0!==r.alphabet.get(i.EPS)},r.restart=function(){r.counterSteps=0,r.historiStep=[],r.curPosition=[],r.startStatements.forEach(function(t){r.curPosition.push({stmt:r.statements.get(t.id)})})},r.oaRun=function(){var t,e=[];r.historiRun=[],r.counterStepsForResult=0;for(var n=0;n<r.input.length;n++){var o={counterSteps:r.counterStepsForResult,curPosition:r.curPosition,historiStep:r.historiRun},i=r._step(o,e);r.counterStepsForResult=o.counterSteps,console.log(r.counterStepsForResult),r.curPosition=o.curPosition,r.historiRun=o.historiStep,t=i.output}return{counter:r.counterStepsForResult,history:r.historiRun,isAdmit:r.haveAdmitting(r.curPosition),nodes:r.toNodes(r.curPosition),output:t,histTrace:e}},r.nextStepPosition=function(t,e){return r.cellMatrix(t.stmt.idLogic,e).map(function(n){return{position:{stmt:n,by:function(t){var e;return r.alphabet.forEach(function(n,o){t===n&&(e=o)}),e}(e),cur:r.nodes[n.idLogic],from:r.nodes[t.stmt.idLogic]},output:n.output}})},r.nextStepPositions=function(t,e){var n=t.map(function(t){return r.nextStepPosition(t,e)}),o=n.reduce(function(t,e){return e.forEach(function(e){return t.push(e.position)}),t},[]),i=n.reduce(function(t,e){return e.forEach(function(e){if(void 0===e.output)throw new Error("Output undefinded");t.push(e.output)}),t},[]);return o.forEach(function(t,e){return t.output=i[e]}),{positions:o,outputs:i}},r._step=function(t,e){var n,o=[],i=r.alphabet.get(null===(n=r.input[t.counterSteps])||void 0===n?void 0:n.value),a=r.nextStepPositions(t.curPosition,i);t.curPosition=a.positions;var s=r.toNodes(t.curPosition);return s.forEach(function(t){return o.push(t)}),t.historiStep.push({nodes:s,by:i}),t.curPosition.length>0&&t.counterSteps++,console.log("---\x3ebyLetter"),console.log(o),console.log("---\x3ebyLetter"),e.push({byLetter:o}),{counter:t.counterSteps,history:t.historiStep,isAdmit:r.haveAdmitting(t.curPosition),nodes:s,output:a.outputs,byLetter:o,histTrace:e}},r.oaStep=function(){var t={counterSteps:r.counterSteps,curPosition:r.curPosition,historiStep:r.historiStep},e=r._step(t,[]);return r.counterSteps=t.counterSteps,r.curPosition=t.curPosition,r.historiStep=t.historiStep,{counter:e.counter,history:e.history,isAdmit:e.isAdmit,nodes:e.nodes,output:e.output,byLetter:e.byLetter}},r.setInput=function(t){r.input=[],t.forEach(function(t){r.input.push({idLogic:r.alphabet.get(t),value:t})}),r.restart()},r.curPosition=[],n.forEach(function(t){r.curPosition.push({stmt:r.statements.get(t.id)})}),r.setInput(o),r.counterSteps=0,console.log("ALPHBT"),r.alphabet.forEach(function(t,e){return console.log(t,e)}),console.log("STMTS"),r.statements.forEach(function(t){return console.log(t)}),console.log(r.curPosition),r.matrix.forEach(function(t){console.log(),t.forEach(function(t){return console.log(t)})}),r}return o(e,t),e.prototype.isDeterministic=function(){var t=!0;return this.matrix.forEach(function(e){return e.forEach(function(e){var n=e[0],o=e.reduce(function(t,e){return t||e.stackDown===n.stackDown},!1);e.length>1&&o&&(t=!1)})}),t},e.prototype.toNodes=function(t){var e=this,n=[];return t.forEach(function(t){var o=r(r({},e.nodes[t.stmt.idLogic]),{from:t.from,cur:t.cur,by:t.by,output:t.output,stack:void 0===t.stack?void 0:t.stack.getStorage()});n.push(o)}),n},e.prototype.haveAdmitting=function(t){return t.reduce(function(t,e){return t&&e.stmt.isAdmit},!0)},e}(i.Computer);e.OutputAutomata=a},121:function(t,e,n){"use strict";var o=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();e.__esModule=!0;var r=n(82),i=n(43),a=function(t){function e(e,n,o){var r=t.call(this,e,n,o)||this;return r.minimizeDfa=function(){r.restart();var t=r.curPosition[0].stmt.idLogic,e=function(t){return function(e){return function(n){return t[e][n]}}},n=[],o=function(t){return n.push(t)},a=[],s=[],c=[];r.statements.forEach(function(t){var e={number:-1,node:{idLogic:-1,id:-1,isAdmit:!1}};t.isAdmit?(e={number:1,node:t},s.push(e)):(e={number:2,node:t},c.push(e)),a.push(e)});var u=r.matrix.reduce(function(t,e){return t&&e.reduce(function(t,e){return t&&e.length>0},t)},!0);if(s.length<1||!u)throw new i.NonMinimizable;var l=[];l.push(s),l.push(c);var p=function(t){var e,n=(e=t,function(t){return e[t]}),o=[];return r.alphabet.forEach(function(t){var e=[];(function(t){var e=[];return r.matrix.forEach(function(n,o){return e.push(r.cellMatrix(o,t)[0])}),e})(t).forEach(function(t){e.push(n(t.idLogic))}),o.push(e)}),o}(a);r.alphabet.forEach(function(t){l.forEach(function(t){return o(t)});for(var r=e(p)(t),i=function(t){return function(e){return function(n){var o=e(n[0].node.idLogic).number,r=[],i=t.length+1,a=[];n.forEach(function(t,n){e(t.node.idLogic).number!==o&&(t.number=i,a.push(t.node.idLogic),r.push(t))});for(var s=0;s<n.length;s++)a.includes(n[s].node.idLogic)&&(n.splice(s,1),s--);return r.length>0?(t.push(r),{fst:n,snd:r}):{fst:[],snd:[]}}}}(l)(r);n.length>0;){var a=n.shift();if(void 0===a)break;var s=i(a);s.fst.length>0&&(o(s.fst),o(s.snd))}});var d=function(t){return t.map(function(t){return{stmt:t.node}})},f=l.map(function(t){return{id:t[0].number,isAdmit:r.haveAdmitting(d(t))}}),m=l.reduce(function(t,n){return r.alphabet.forEach(function(o,r){var i,a;t.push({from:n[0].number,to:(i=n,a=o,e(p)(a)(i[0].node.idLogic).number),transitions:new Set([[{title:r}]])})}),t},[]);m.sort(function(t,e){return t.from-e.from||t.to-e.to});for(var h=[],v=0;v<m.length;v++){for(var g=[],E=v,b=function(){var t="";m[E].transitions.forEach(function(e){return e.forEach(function(e){return t=e.title})}),g.push({title:t}),E++};E<m.length&&m[v].from===m[E].from&&m[v].to===m[E].to;)b();v=E-1,h.push({from:m[v].from,to:m[v].to,transitions:new Set([g])})}return{graphcore:{nodes:f,edges:h},start:f[l.filter(function(e){return e.map(function(t){return t.node.idLogic}).includes(t)})[0][0].number-1]}},r.step=function(){if(!t.prototype.isDeterministic.call(r))throw new i.NonDeterministic;return r.enfaStep()},r.run=function(){if(!t.prototype.isDeterministic.call(r))throw new i.NonDeterministic;return r.enfaRun()},r.setInput(o),r}return o(e,t),e}(r.EpsilonNFA);e.DFA=a},122:function(t,e,n){"use strict";var o=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();e.__esModule=!0;var r=function(t){function e(e,n,o){var r=t.call(this,e,n,o)||this;if(r.haveEpsilon())throw new Error("Epsilon Transitions");return r}return o(e,t),e}(n(82).EpsilonNFA);e.NFA=r},123:function(t,e,n){"use strict";var o=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),r=this&&this.__assign||function(){return(r=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)};e.__esModule=!0;var i=n(29),a=n(68),s=n(43),c=function(){function t(){this.storage=["_"],this.pointer=0}return t.prototype.getPointer=function(){return this.pointer},t.prototype.reset=function(){this.storage=["_"],this.pointer=0},t.prototype.lookUp=function(){return this.storage[this.pointer]},t.prototype.initialize=function(t){var e=this;t.forEach(function(t){return e.mvRight("_",t)}),this.pointer=0},t.prototype.mvRight=function(t,e){this.storage[this.pointer]===t&&(this.storage[this.pointer]=e,this.pointer++),this.pointer===this.storage.length&&this.storage.push("_")},t.prototype.mvLeft=function(t,e){if(0===this.pointer){this.storage[this.pointer]===t&&(this.storage[this.pointer]=e,this.pointer=0);var n=["_"];this.storage.forEach(function(t){return n.push(t)}),this.storage=n}else this.storage[this.pointer]===t&&(this.storage[this.pointer]=e,this.pointer--)},t.prototype.getStorage=function(){return this.storage},t}();e.TMMemory=c;var u=function(t){function e(e,n,o){var a=t.call(this,e,n,o)||this;return a.mem=new c,a.__step=function(t,e,n){var o,r=[],s=a.curPosition[0].stmt,c="";return a.cellMatrix(a.curPosition[0].stmt.idLogic,e).forEach(function(t){t.stackDown===a.mem.lookUp()&&(t.move===i.Move.R&&(a.mem.mvRight(t.stackDown,t.stackPush[0]),o=t.move,c=t.stackDown),t.move===i.Move.L&&(a.mem.mvLeft(t.stackDown,t.stackPush[0]),o=t.move,c=t.stackDown),a.assignCurMt({stmt:a.statements.get(t.id)}))}),n.push({nodes:[a.nodes[a.curPosition[0].stmt.idLogic]],by:c}),t++,r.push({id:a.curPosition[0].stmt.id,isAdmit:a.curPosition[0].stmt.isAdmit,by:c,from:s,cur:a.curPosition[0].stmt,move:o}),{nodes:[a.nodes[a.curPosition[0].stmt.idLogic]],isAdmit:a.curPosition[0].stmt.isAdmit,counter:t,history:n,memory:a.mem.getStorage(),pointer:a.mem.getPointer(),byLetter:r}},a.restart=function(){a.counterSteps=0,a.historiStep=[],a.curPosition=[],a.mem.reset(),a.curPosition=[{stmt:a.statements.get(a.startStatements[0].id)}]},a.mtTrun=function(){throw Error("TM run")},a.setInput=function(t){a.input=[],a.mem.reset(),a.mem.initialize(t),a.counterSteps=0,a.historiStep=[],a.curPosition=[],a.curPosition=[{stmt:a.statements.get(a.startStatements[0].id)}],console.log(a.curPosition)},a.mtStep=function(){console.log("STPMT");var t=a.__step(a.counterSteps,0,a.historiStep);return a.counterSteps=t.counter,a.historiStep=t.history,""===t.history[t.history.length-1].by&&(t.nodes=[]),r(r({},t),{memory:a.mem.getStorage()})},a.step=function(){if(!a.isDeterministic())throw new s.NonDeterministic;return a.mtStep()},a.run=function(){if(!a.isDeterministic())throw new s.NonDeterministic;return a.mtTrun()},a.checkMemFormat(e),a.mem.initialize(o),a.curPosition=[{stmt:a.statements.get(a.startStatements[0].id)}],a}return o(e,t),e.prototype.checkMemFormat=function(t){var e=!0;if(t.edges.forEach(function(t){return t.transitions.forEach(function(t){t.forEach(function(t){var n,o;(null===(n=t.stackPush)||void 0===n?void 0:n.length)&&(null===(o=t.stackPush)||void 0===o?void 0:o.length)>1&&(e=!1)})})}),!e)throw Error("Not MT mem")},e.prototype.curMt=function(){return this.curPosition[0]},e.prototype.assignCurMt=function(t){this.curPosition[0]=t},e.prototype.isDeterministic=function(){var t=!0;return this.matrix.forEach(function(e){return e.forEach(function(e){var n=e[0],o=e.reduce(function(t,e,o){return 0!==o&&(t||e.stackDown===n.stackDown&&(r=e.stackPush,i=n.stackPush,!(!r||!i)&&r.length===i.length&&r.reduce(function(t,e,n){return t&&r[n]===i[n]},!0)));var r,i},!1);e.length>1&&o&&(t=!1)})}),t},e}(a.PDA);e.TM=u},124:function(t,e,n){"use strict";var o=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();e.__esModule=!0;var r=n(68),i=n(43),a=function(t){function e(e,n,o,r){var a=t.call(this,e,n,o,r)||this;return a.step=function(){if(!t.prototype.isDeterministic.call(a))throw new i.NonDeterministic;return a.pdaStep()},a.run=function(){if(!t.prototype.isDeterministic.call(a))throw new i.NonDeterministic;return a.pdaRun()},a.setInput(o),a}return o(e,t),e}(r.PDA);e.DPDA=a},125:function(t,e,n){"use strict";var o=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();e.__esModule=!0;var r=n(43),i=function(t){function e(e,n,o){var i=t.call(this,e,n,o)||this;return i.step=function(){if(!t.prototype.isDeterministic.call(i))throw new r.NonDeterministic;return i.oaStep()},i.run=function(){if(!t.prototype.isDeterministic.call(i))throw new r.NonDeterministic;return i.oaRun()},i}return o(e,t),e}(n(102).Mealy);e.DMealy=i;var a=new i({nodes:[{id:0,isAdmit:!1},{id:1,isAdmit:!1}],edges:[{from:0,to:0,transitions:new Set([[{title:"5",output:"n"}]])},{from:0,to:1,transitions:new Set([[{title:"5",output:"n"}]])}]},[{id:0,isAdmit:!1}],[]);console.log(a.isDeterministic())},126:function(t,e,n){"use strict";var o=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();e.__esModule=!0;var r=n(43),i=function(t){function e(e,n,o){var i=t.call(this,e,n,o)||this;return i.step=function(){if(!t.prototype.isDeterministic.call(i))throw new r.NonDeterministic;return i.oaStep()},i.run=function(){if(!t.prototype.isDeterministic.call(i))throw new r.NonDeterministic;return i.oaRun()},i}return o(e,t),e}(n(103).Moore);e.DMoore=i;var a=new i({nodes:[{id:0,isAdmit:!1},{id:1,isAdmit:!1},{id:2,isAdmit:!1}],edges:[{from:0,to:0,transitions:new Set([[{title:"1"}]])},{from:0,to:1,transitions:new Set([[{title:"1"}]])}]},[{id:0,isAdmit:!1}],[]);console.log(a.isDeterministic())},163:function(t,e,n){t.exports=n(188)},169:function(t,e,n){},17:function(t,e,n){"use strict";var o=this&&this.__assign||function(){return(o=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)};e.__esModule=!0,e.eof={isAdmit:!1,idLogic:-1,id:-1},e.EPS="Epsilon",e.BOTTOM="Z0";var r=function(){function t(t,e){var n=this;this.input=[],this.alphabet=new Map,this.statements=new Map,this.startStatements=[],this.edges=[],this.counterSteps=0,this.counterStepsForResult=0,this.historiStep=[],this.historiRun=[],this.matrix=[],this.byEmptyStackAdmt=function(t){throw new Error("PDA attribute")},this.nfaToDfa=function(){throw new Error("DFA conversion")},this.minimizeDfa=function(){throw new Error("DFA conversion")},this.mooreToMealy=function(){throw new Error("Moor conversion")},this.mealyToMoore=function(){throw new Error("Moor conversion")},this.getCurrNode=function(){return n.currentNode.id},this.getStartStatements=function(){return n.startStatements},t.edges.sort(function(t,e){return t.from-e.from}).forEach(function(t){return n.edges.push({transitions:void 0===t.transitions?new Set([[{title:""}]]):t.transitions,from:t.from,to:t.to,localValue:[]})});for(var o=function(t){r.edges[t].localValue=[],r.edges[t].transitions.forEach(function(e){return e.forEach(function(e){return n.edges[t].localValue.push(e)})})},r=this,i=0;i<this.edges.length;i++)o(i);this.getAlphabetFromEdges(),this.getStatementsFromNodes(t.nodes),this.startStatements=e,this.currentNode=e[0],this.nodes=t.nodes,this.createMatrix()}return t.prototype.getInput=function(){return this.input},t.prototype.getAlphabet=function(){return this.alphabet},t.prototype.getAlphabetFromEdges=function(){for(var t=this,e=new Set,n=0;n<this.edges.length;n++)this.edges[n].localValue.forEach(function(t){""!==t.title&&e.add(t.title)});var o=0;e.forEach(function(e){""!==e&&(t.alphabet.set(e,o),o++)})},t.prototype.getStatementsFromNodes=function(t){for(var e=0;e<t.length;e++)this.statements.set(t[e].id,{id:t[e].id,isAdmit:t[e].isAdmit,idLogic:e,output:t[e].output})},t.prototype.createMatrix=function(){for(var t=0;t<this.statements.size;t++){this.matrix[t]=[];for(var n=0;n<this.alphabet.size;n++)this.matrix[t][n]=[]}for(t=0;t<this.edges.length;t++){var r=this.statements.get(this.edges[t].from),i=this.statements.get(this.edges[t].to);for(n=0;n<this.edges[t].localValue.length;n++){var a=this.alphabet.get(this.edges[t].localValue[n].title);if(void 0!==a){console.log(a),console.log(this.edges[t].localValue[n].title);var s=this.edges[t].localValue[n].stackDown,c=this.edges[t].localValue[n].stackPush,u=this.edges[t].localValue[n].move,l=void 0===this.edges[t].localValue[n].output?i.output:this.edges[t].localValue[n].output;void 0!==s&&void 0!==c&&""!==s&&0!==c.length||(s=e.EPS,c=[e.EPS]),this.matrix[r.idLogic][a].push(o(o({},i),{stackDown:s,stackPush:c,move:u,output:l}))}}}this.alphabet.forEach(function(t,e){return console.log(t," ",e)}),this.statements.forEach(function(t){return console.log(t)}),this.matrix.forEach(function(t){console.log(),t.forEach(function(t){return console.log(t)})})},t.prototype.cellMatrix=function(t,e){return this.matrix[t][e]},t}();e.Computer=r},170:function(t,e,n){},171:function(t,e,n){},176:function(t,e,n){},178:function(t,e,n){},179:function(t,e,n){},180:function(t,e,n){},181:function(t,e,n){},182:function(t,e,n){},183:function(t,e,n){},184:function(t,e,n){},185:function(t,e,n){},186:function(t,e,n){},187:function(t,e,n){},188:function(t,e,n){"use strict";n.r(e);var o=n(0),r=n.n(o),i=n(57),a=n.n(i),s=n(12),c=n.n(s),u=n(15),l=n(24),p=n(25),d=n(39),f=n(38),m=(n(169),n(170),n(139)),h=(n(171),n(254)),v=n(198),g=["visible","title","style","className","children"],E=function(t){Object(d.a)(n,t);var e=Object(f.a)(n);function n(){return Object(l.a)(this,n),e.apply(this,arguments)}return Object(p.a)(n,[{key:"render",value:function(){var t=this.props,e=t.visible,n=t.title,o=t.style,i=t.className,a=t.children,s=Object(m.a)(t,g);return r.a.createElement(h.a,Object.assign({className:"control-wrapper".concat(e?"":"--hidden"," ").concat(i),variant:"outlined",style:o},s),r.a.createElement("div",{className:"control-wrapper--content"},r.a.createElement("div",null,r.a.createElement(v.a,{variant:"h6"},n)),r.a.createElement("div",{className:"control-wrapper--child"},a)))}}]),n}(r.a.Component);E.defaultProps={visible:!0};var b=E,y=n(248),k=n(245),w=n(250),S=n(257),_=n(255),C=function(t){Object(d.a)(n,t);var e=Object(f.a)(n);function n(t){var o,r,i,a,s;return Object(l.a)(this,n),(s=e.call(this,t)).onLabelChange=function(t){null!==s.props.node&&(s.props.changeNodeLabel(s.props.node.id,t.target.value),s.setState({label:t.target.value}))},s.onIsAdmitChanged=function(t){null!==s.props.node&&(s.props.changeStateIsAdmit(s.props.node.id,t.target.checked),s.setState({isAdmit:t.target.checked},function(){return s.props.reinitComputer()}))},s.onIsInitialChanged=function(t){null===s.props.node||s.props.node.isAdmit||(s.props.changeStateIsInitial(s.props.node.id,t.target.checked),s.setState({isInitial:t.target.checked},function(){return s.props.reinitComputer()}))},s.onDeleteClick=function(){null!==s.props.node&&s.props.deleteNode(s.props.node.id)},s.state={prevNodeId:null===(o=s.props.node)||void 0===o?void 0:o.id,label:(null===(r=s.props.node)||void 0===r?void 0:r.label)||"",isAdmit:(null===(i=s.props.node)||void 0===i?void 0:i.isAdmit)||!1,isInitial:(null===(a=s.props.node)||void 0===a?void 0:a.isInitial)||!1},s}return Object(p.a)(n,[{key:"componentDidUpdate",value:function(t,e){var n,o,r,i,a;(null===(n=this.props.node)||void 0===n?void 0:n.id)!==e.prevNodeId&&this.setState({label:(null===(o=this.props.node)||void 0===o?void 0:o.label)||"",isAdmit:(null===(r=this.props.node)||void 0===r?void 0:r.isAdmit)||!1,isInitial:(null===(i=this.props.node)||void 0===i?void 0:i.isInitial)||!1,prevNodeId:null===(a=this.props.node)||void 0===a?void 0:a.id})}},{key:"render",value:function(){return r.a.createElement(b,{title:"\u0421\u043e\u0441\u0442\u043e\u044f\u043d\u0438\u0435",visible:null!==this.props.node},r.a.createElement(_.a,null,r.a.createElement("div",{className:"node-control__item"},r.a.createElement(k.a,{label:"\u0418\u043c\u044f",size:"small",value:this.state.label,onChange:this.onLabelChange})),r.a.createElement("div",{className:"node-control__item"},r.a.createElement(S.a,{control:r.a.createElement(y.a,{checked:this.state.isInitial,onChange:this.onIsInitialChanged}),label:"\u041d\u0430\u0447\u0430\u043b\u044c\u043d\u043e\u0435"})),r.a.createElement("div",{className:"node-control__item"},r.a.createElement(S.a,{control:r.a.createElement(y.a,{checked:this.state.isAdmit,onChange:this.onIsAdmitChanged}),label:"\u0414\u043e\u043f\u0443\u0441\u043a\u0430\u044e\u0449\u0435\u0435"})),r.a.createElement("div",{className:"node-control__item"},r.a.createElement(w.a,{onClick:this.onDeleteClick},"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"))))}}]),n}(r.a.Component),x=n(19),O=n(17),P=n(29),N=n(41),j=function(t){return function(e){return e===O.EPS?t:e}},A=function(t){return function(e){return e.map(function(e){return j(t)(e)}).join(":")}},I=function(t){return 0===t?"L":"R"},T=function(t,e){for(var n=function(){var e=0;return void 0!==t&&t.forEach(function(t){t.forEach(function(t){if(void 0!==t.stackDown&&void 0!==t.stackPush){var n=Math.max.apply(Math,Object(x.a)(t.stackPush.map(function(t){return t===O.EPS?0:t.length})).concat([0])),o=t.title===O.EPS?0:t.title.length,r=t.stackDown===O.EPS?0:t.stackDown.length;e=Math.max.apply(Math,Object(x.a)([n,o,r,e].map(function(t){return t})).concat([0]))}})}),e},o="",r=0;r<7*n();r++)o+=" ";var i=j("\u03b5"),a=A("\u03b5"),s=""+(o="tm"===e?"       ":o);return void 0!==t&&("tm"===e?t.forEach(function(t){t.forEach(function(t){void 0!==t.stackDown&&void 0!==t.stackPush&&void 0!==t.move&&(s+=i(t.stackDown)+" | "+a(t.stackPush)+" "+I(t.move)+"\n"+o)})}):"pda"===e||"dpda"===e?t.forEach(function(t){t.forEach(function(t){void 0!==t.title&&t.title.length>0&&void 0!==t.stackDown&&t.stackDown.length>0&&void 0!==t.stackPush&&t.stackPush.length>0&&(s+=i(t.title)+", "+i(t.stackDown)+" | "+a(t.stackPush)+" \n"+o)})}):"dfa"===e||"nfa"===e||"nfa-eps"===e||"moore"===e||"dmoore"===e?t.forEach(function(t){t.forEach(function(t){void 0!==t.title&&t.title.length>0&&(s+=i(t.title)+" \n"+o)})}):"mealy"!==e&&"dmealy"!==e||t.forEach(function(t){t.forEach(function(t){void 0!==t.title&&t.title.length>0&&void 0!==t.output&&(s+=i(t.title)+" | "+t.output+"\n"+o)})})),s},M=function(t,e){var n=j("eps"),o=A("eps"),r="";return void 0!==t&&("tm"===e?t.forEach(function(t){t.forEach(function(t){void 0!==t.stackDown&&void 0!==t.stackPush&&void 0!==t.move&&(r+=n(t.stackDown)+" | "+o(t.stackPush)+">"+I(t.move)+";\n")})}):"pda"===e||"dpda"===e?t.forEach(function(t){t.forEach(function(t){void 0!==t.title&&t.title.length>0&&void 0!==t.stackDown&&t.stackDown.length>0&&void 0!==t.stackPush&&t.stackPush.length>0&&(r+=n(t.title)+", "+n(t.stackDown)+" | "+o(t.stackPush)+";\n")})}):"dfa"===e||"nfa"===e||"nfa-eps"===e||"moore"===e||"dmoore"===e?t.forEach(function(t){t.forEach(function(t){void 0!==t.title&&t.title.length>0&&(r+=n(t.title)+";\n")})}):"mealy"!==e&&"dmealy"!==e||t.forEach(function(t){t.forEach(function(t){void 0!==t.title&&t.title.length>0&&void 0!==t.output&&(r+=n(t.title)+" | "+t.output+";\n")})})),r},D=function(t,e){t.edges.forEach(function(n){t.edges.update({id:n.id,label:T(n.transitions,e)})}),t.nodes.forEach(function(e){var n=e.label.split("").filter(function(t){return" "!==t&&"\n"!==t}).join("").split("|"),o=void 0!==n[1]?n[1]:void 0;e.output=o;var r=e.isInitial?"#0041d0":e.isAdmit?"#ff0072":"#000000",i=e.isCurrent?"#ffff55":"#ffffff",a=1.5,s=2,c=4;t.nodes.update({id:e.id,color:{background:i,border:r,highlight:{border:r,background:i}},borderWidth:e.isInitial||e.isAdmit?s:a,borderWidthSelected:c})})},L=function(t){var e={nodes:new N.a,edges:new N.a};return t.nodes.forEach(function(t){e.nodes.add(t)}),t.edges.forEach(function(t){e.edges.add(t)}),e},R=function(t){var e={nodes:[],edges:[]};return t.nodes.forEach(function(t){e.nodes.push(t)}),t.edges.forEach(function(t){e.edges.push(t)}),e},z={dfa:{name:"\u0414\u041a\u0410",description:"\u041a\u043e\u043d\u0435\u0447\u043d\u044b\u0439 \u0430\u0432\u0442\u043e\u043c\u0430\u0442, \u043f\u0440\u0438\u043d\u0438\u043c\u0430\u044e\u0449\u0438\u0439 \u0438\u043b\u0438 \u043e\u0442\u043a\u043b\u043e\u043d\u044f\u044e\u0449\u0438\u0439 \u0437\u0430\u0434\u0430\u043d\u043d\u0443\u044e \u0441\u0442\u0440\u043e\u043a\u0443 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432",preview:"dfa.png",defaultGraph:{nodes:[{id:1,x:0,y:0,label:"S1",isAdmit:!1,isInitial:!0,isCurrent:!1},{id:2,x:100,y:0,label:"S2",isAdmit:!1,isInitial:!1,isCurrent:!1},{id:3,x:100,y:100,label:"S3",isAdmit:!1,isInitial:!1,isCurrent:!1},{id:4,x:200,y:0,label:"S4",isAdmit:!1,isInitial:!1,isCurrent:!1},{id:5,x:200,y:100,label:"S5",isAdmit:!0,isInitial:!1,isCurrent:!1},{id:6,x:300,y:0,label:"S6",isAdmit:!0,isInitial:!1,isCurrent:!1},{id:7,x:300,y:100,label:"S7",isAdmit:!1,isInitial:!1,isCurrent:!1}],edges:[{from:1,to:2,transitions:new Set([[{title:"a"}]])},{from:1,to:3,transitions:new Set([[{title:"b"}]])},{from:2,to:4,transitions:new Set([[{title:"a"}]])},{from:2,to:5,transitions:new Set([[{title:"b"}]])},{from:3,to:4,transitions:new Set([[{title:"a"}]])},{from:3,to:6,transitions:new Set([[{title:"b"}]])},{from:4,to:4,transitions:new Set([[{title:"a"},{title:"b"}]])},{from:5,to:5,transitions:new Set([[{title:"a"}]])},{from:5,to:7,transitions:new Set([[{title:"b"}]])},{from:6,to:6,transitions:new Set([[{title:"a"}]])},{from:6,to:7,transitions:new Set([[{title:"b"}]])},{from:7,to:7,transitions:new Set([[{title:"a"},{title:"b"}]])}]}},nfa:{name:"\u041d\u041a\u0410",description:"\u041c\u043e\u0436\u0435\u0442 \u043d\u0430\u0445\u043e\u0434\u0438\u0442\u044c\u0441\u044f \u0432 \u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u0438\u0445 \u0441\u043e\u0441\u0442\u043e\u044f\u043d\u0438\u044f\u0445 \u043e\u0434\u043d\u043e\u0432\u0440\u0435\u043c\u0435\u043d\u043d\u043e",preview:"nfa.png",defaultGraph:{nodes:[{id:1,x:0,y:0,label:"S0",isAdmit:!1,isInitial:!0,isCurrent:!1},{id:2,x:100,y:100,label:"S1",isAdmit:!1,isInitial:!1,isCurrent:!1},{id:3,x:200,y:200,label:"S2",isAdmit:!1,isInitial:!1,isCurrent:!1},{id:4,x:300,y:300,label:"S3",isAdmit:!0,isInitial:!1,isCurrent:!1}],edges:[{from:1,to:1,transitions:new Set([[{title:"0"},{title:"1"}]])},{from:1,to:2,transitions:new Set([[{title:"0"}]])},{from:2,to:3,transitions:new Set([[{title:"1"}]])},{from:3,to:4,transitions:new Set([[{title:"1"}]])},{from:4,to:4,transitions:new Set([[{title:"0"}]])}]}},"nfa-eps":{name:"\u03b5-\u041d\u041a\u0410",description:"\u0420\u0430\u0441\u0448\u0438\u0440\u0435\u043d\u0438\u0435 \u041d\u041a\u0410, \u0432 \u043a\u043e\u0442\u043e\u0440\u043e\u043c \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u044e\u0442\u0441\u044f \u03b5-\u043f\u0435\u0440\u0435\u0445\u043e\u0434\u044b",preview:"nfa-eps.png",defaultGraph:{nodes:[{id:1,x:0,y:100,label:"S",isAdmit:!1,isInitial:!0,isCurrent:!1},{id:2,x:100,y:100,label:"A1",isAdmit:!1,isInitial:!1,isCurrent:!1},{id:3,x:100,y:200,label:"B1",isAdmit:!1,isInitial:!1,isCurrent:!1},{id:4,x:200,y:100,label:"A2",isAdmit:!1,isInitial:!1,isCurrent:!1},{id:5,x:300,y:100,label:"A3",isAdmit:!1,isInitial:!1,isCurrent:!1},{id:6,x:400,y:100,label:"A4",isAdmit:!0,isInitial:!1,isCurrent:!1},{id:7,x:200,y:200,label:"B2",isAdmit:!1,isInitial:!1,isCurrent:!1},{id:8,x:300,y:200,label:"B3",isAdmit:!1,isInitial:!1,isCurrent:!1},{id:9,x:400,y:200,label:"B4",isAdmit:!0,isInitial:!1,isCurrent:!1}],edges:[{from:1,to:1,transitions:new Set([[{title:"0"},{title:"1"}]])},{from:1,to:2,transitions:new Set([[{title:O.EPS}]])},{from:1,to:3,transitions:new Set([[{title:O.EPS}]])},{from:2,to:4,transitions:new Set([[{title:"0"}]])},{from:4,to:5,transitions:new Set([[{title:"1"}]])},{from:5,to:6,transitions:new Set([[{title:"1"}]])},{from:3,to:7,transitions:new Set([[{title:"0"}]])},{from:7,to:8,transitions:new Set([[{title:"0"}]])},{from:8,to:9,transitions:new Set([[{title:"1"}]])},{from:9,to:9,transitions:new Set([[{title:"0"},{title:"1"}]])},{from:6,to:6,transitions:new Set([[{title:"0"},{title:"1"}]])}]}},pda:{name:"\u0410\u0432\u0442\u043e\u043c\u0430\u0442 \u0441 \u043c\u0430\u0433\u0430\u0437\u0438\u043d\u043d\u043e\u0439 \u043f\u0430\u043c\u044f\u0442\u044c\u044e",description:"\u0418\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u0442 \u0441\u0442\u0435\u043a \u0434\u043b\u044f \u0445\u0440\u0430\u043d\u0435\u043d\u0438\u044f \u0441\u043e\u0441\u0442\u043e\u044f\u043d\u0438\u0439",preview:"pda.png",defaultGraph:{nodes:[{id:1,x:0,y:0,label:"S0",isAdmit:!1,isInitial:!0,isCurrent:!1},{id:2,x:100,y:0,label:"S1",isAdmit:!1,isInitial:!1,isCurrent:!1},{id:3,x:200,y:0,label:"S2",isAdmit:!1,isInitial:!1,isCurrent:!1}],edges:[{from:1,to:1,transitions:new Set([[{title:"0",stackDown:"Z0",stackPush:["0","Z0"]},{title:"1",stackDown:"Z0",stackPush:["1","Z0"]},{title:"0",stackDown:"0",stackPush:["0","0"]},{title:"0",stackDown:"1",stackPush:["0","1"]},{title:"1",stackDown:"0",stackPush:["1","0"]},{title:"1",stackDown:"1",stackPush:["1","1"]}]])},{from:1,to:2,transitions:new Set([[{title:O.EPS,stackDown:"Z0",stackPush:["Z0"]},{title:O.EPS,stackDown:"0",stackPush:["0"]},{title:O.EPS,stackDown:"1",stackPush:["1"]}]])},{from:2,to:2,transitions:new Set([[{title:"0",stackDown:"0",stackPush:[O.EPS]},{title:"1",stackDown:"1",stackPush:[O.EPS]}]])},{from:2,to:3,transitions:new Set([[{title:O.EPS,stackDown:"Z0",stackPush:[O.EPS]}]])}]}},dpda:{name:"\u0414\u0435\u0442\u0435\u0440\u043c\u0438\u043d\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u044b\u0439 \u0430\u0432\u0442\u043e\u043c\u0430\u0442 \u0441 \u043c\u0430\u0433\u0430\u0437\u0438\u043d\u043d\u043e\u0439 \u043f\u0430\u043c\u044f\u0442\u044c\u044e",description:"",preview:"pda.png",defaultGraph:{nodes:[{id:1,x:0,y:0,label:"S0",isAdmit:!1,isInitial:!0,isCurrent:!1}],edges:[{from:1,to:1,transitions:new Set([[{title:"0",stackDown:"Z0",stackPush:["0","Z0"]}]])}]}},tm:{name:"\u041c\u0430\u0448\u0438\u043d\u0430 \u0422\u044c\u044e\u0440\u0438\u043d\u0433\u0430",description:"\u041c\u0430\u0448\u0438\u043d\u0430 \u0422\u044c\u044e\u0440\u0438\u043d\u0433\u0430 \u0441 \u043e\u0434\u043d\u043e\u0439 \u043b\u0435\u043d\u0442\u043e\u0439",preview:"tm.png",defaultGraph:{nodes:[{id:1,x:0,y:0,label:"S0",isAdmit:!1,isInitial:!0,isCurrent:!1},{id:2,x:200,y:0,label:"S1",isAdmit:!1,isInitial:!1,isCurrent:!1},{id:3,x:0,y:200,label:"S2",isAdmit:!0,isInitial:!1,isCurrent:!1},{id:4,x:200,y:200,label:"S3",isAdmit:!0,isInitial:!1,isCurrent:!1}],edges:[{from:1,to:1,transitions:new Set([[{title:O.EPS,stackDown:"0",stackPush:["0"],move:P.Move.R},{title:O.EPS,stackDown:"1",stackPush:["1"],move:P.Move.R}]])},{from:1,to:2,transitions:new Set([[{title:O.EPS,stackDown:"_",stackPush:["_"],move:P.Move.L}]])},{from:2,to:2,transitions:new Set([[{title:O.EPS,stackDown:"1",stackPush:["0"],move:P.Move.L}]])},{from:2,to:3,transitions:new Set([[{title:O.EPS,stackDown:"0",stackPush:["1"],move:P.Move.L}]])},{from:2,to:4,transitions:new Set([[{title:O.EPS,stackDown:"_",stackPush:["1"],move:P.Move.L}]])}]}},mealy:{name:"\u0410\u0432\u0442\u043e\u043c\u0430\u0442 \u041c\u0438\u043b\u0438",preview:"mealy.png",description:"\u0410\u0432\u0442\u043e\u043c\u0430\u0442, \u0441 \u0432\u044b\u0445\u043e\u0434\u043d\u044b\u043c\u0438 \u0441\u0438\u043c\u0432\u043e\u043b\u0430\u043c\u0438 \u043d\u0430 \u0440\u0435\u0431\u0440\u0430\u0445",defaultGraph:{nodes:[{x:0,y:0,id:1,isAdmit:!1,isCurrent:!1,isInitial:!0,label:"0 rub"},{x:300,y:-200,id:2,isAdmit:!1,isCurrent:!1,isInitial:!1,label:"5 rub"},{x:500,y:-300,id:3,isAdmit:!1,isCurrent:!1,isInitial:!1,label:"15 rub"},{x:-100,y:-500,id:4,isAdmit:!1,isCurrent:!1,isInitial:!1,label:"10 rub"}],edges:[{from:1,to:2,transitions:new Set([[{title:"f",output:"n"}]])},{from:1,to:4,transitions:new Set([[{title:"t",output:"n"}]])},{from:2,to:3,transitions:new Set([[{title:"t",output:"n"}]])},{from:2,to:4,transitions:new Set([[{title:"f",output:"n"}]])},{from:3,to:1,transitions:new Set([[{title:"f",output:"0"},{title:"t",output:"5"}]])},{from:4,to:3,transitions:new Set([[{title:"f",output:"n"}]])},{from:4,to:1,transitions:new Set([[{title:"t",output:"0"}]])}]}},dmealy:{name:"\u0414\u0435\u0442\u0435\u0440\u043c\u0438\u043d\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u044b\u0439 \u0430\u0432\u0442\u043e\u043c\u0430\u0442 \u041c\u0438\u043b\u0438",preview:"mealy.png",description:"",defaultGraph:{nodes:[{x:0,y:0,id:1,isAdmit:!1,isCurrent:!1,isInitial:!0,label:"0 rub"},{x:300,y:-200,id:2,isAdmit:!1,isCurrent:!1,isInitial:!1,label:"5 rub"},{x:500,y:-300,id:3,isAdmit:!1,isCurrent:!1,isInitial:!1,label:"15 rub"},{x:-100,y:-500,id:4,isAdmit:!1,isCurrent:!1,isInitial:!1,label:"10 rub"}],edges:[{from:1,to:2,transitions:new Set([[{title:"f",output:"n"}]])},{from:1,to:4,transitions:new Set([[{title:"t",output:"n"}]])},{from:2,to:3,transitions:new Set([[{title:"t",output:"n"}]])},{from:2,to:4,transitions:new Set([[{title:"f",output:"n"}]])},{from:3,to:1,transitions:new Set([[{title:"f",output:"0"},{title:"t",output:"5"}]])},{from:4,to:3,transitions:new Set([[{title:"f",output:"n"}]])},{from:4,to:1,transitions:new Set([[{title:"t",output:"0"}]])}]}},moore:{name:"\u0410\u0432\u0442\u043e\u043c\u0430\u0442 \u041c\u0443\u0440\u0430",description:"\u0410\u0432\u0442\u043e\u043c\u0430\u0442, \u0441 \u0432\u044b\u0445\u043e\u0434\u043d\u044b\u043c\u0438 \u0441\u0438\u043c\u0432\u043e\u043b\u0430\u043c\u0438 \u0432 \u0441\u043e\u0441\u0442\u043e\u044f\u043d\u0438\u044f\u0445",preview:"moore.png",defaultGraph:{nodes:[{x:0,y:0,id:1,isAdmit:!1,isCurrent:!1,isInitial:!0,label:"S0 | b"},{x:300,y:0,id:2,isAdmit:!1,isCurrent:!1,isInitial:!1,label:"S1 | b"},{x:100,y:100,id:3,isAdmit:!1,isCurrent:!1,isInitial:!1,label:"S2 | a"}],edges:[{from:1,to:1,transitions:new Set([[{title:"1"}]])},{from:1,to:2,transitions:new Set([[{title:"0"}]])},{from:2,to:2,transitions:new Set([[{title:"0"}]])},{from:2,to:3,transitions:new Set([[{title:"1"}]])},{from:3,to:2,transitions:new Set([[{title:"0"}]])},{from:3,to:1,transitions:new Set([[{title:"1"}]])}]}},dmoore:{name:"\u0414\u0435\u0442\u0435\u0440\u043c\u0438\u043d\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u044b\u0439 \u0430\u0432\u0442\u043e\u043c\u0430\u0442 \u041c\u0443\u0440\u0430",description:"",preview:"moore.png",defaultGraph:{nodes:[{x:0,y:0,id:0,isAdmit:!1,isCurrent:!1,isInitial:!0,label:"S0 | b"},{x:300,y:0,id:1,isAdmit:!1,isCurrent:!1,isInitial:!1,label:"S1 | b"},{x:100,y:100,id:2,isAdmit:!1,isCurrent:!1,isInitial:!1,label:"S2 | a"}],edges:[{from:0,to:0,transitions:new Set([[{title:"1"}]])},{from:0,to:1,transitions:new Set([[{title:"0"}]])},{from:1,to:1,transitions:new Set([[{title:"0"}]])},{from:1,to:2,transitions:new Set([[{title:"1"}]])},{from:2,to:1,transitions:new Set([[{title:"0"}]])},{from:2,to:0,transitions:new Set([[{title:"1"}]])}]}}},H=function(t){var e,n="; ".concat(document.cookie).split("; ".concat(t,"="));if(2===n.length)return null===(e=n.pop())||void 0===e?void 0:e.split(";").shift()},B=(n(176),n(120)),F=n.n(B),V=function(t){return function(e){return r.a.createElement(Ie.Consumer,null,function(n){return r.a.createElement(t,Object.assign({computerType:n},e))})}},U=V(function(t){Object(d.a)(n,t);var e=Object(f.a)(n);function n(t){var o,r,i,a,s;return Object(l.a)(this,n),(s=e.call(this,t)).selectTransition=function(t){s.state.activeTransition===t?s.setState({activeTransition:null}):s.setState({activeTransition:t})},s.changeTransitions=function(){var t=Object(u.a)(c.a.mark(function t(e){var n,o,r,i;return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n=e.target.value,s.setState({transitionsText:n}),o=[],r=[],"tm"===s.props.computerType&&s.state.transitionsText.split("").filter(function(t){return" "!==t&&"\n"!==t}).join("").split(";").forEach(function(t){var e,n=t.split(""),r=n.shift(),i=n=n.join("").split("|"),a=n.join("").split(">");a.reverse(),e=a.shift(),a.reverse(),i=a,o.push({fst:O.EPS,snd:r,trd:i.join(":"),fth:e})}),"mealy"===s.props.computerType||"dmealy"===s.props.computerType?(s.state.transitionsText.split("").filter(function(t){return" "!==t&&"\n"!==t}).join("").split(";").forEach(function(t){var e=t.split("|"),n=e.shift(),r=e.shift();o.push({fst:n,snd:r,trd:void 0,fth:void 0})}),o.forEach(function(t){void 0!==t.fst&&r.push({title:"eps"===t.fst?O.EPS:t.fst,output:t.snd})})):(s.state.transitionsText.split("").filter(function(t){return" "!==t&&"\n"!==t}).join("").split(";").forEach(function(t){var e=t.split(","),n=e.shift(),r=(e=e.join("").split("|")).shift(),i=e;o.push({fst:n,snd:r,trd:i.join(":"),fth:void 0})}),o.forEach(function(t){var e;void 0!==t.fst&&r.push({title:"eps"===t.fst?O.EPS:t.fst,stackDown:"eps"===t.snd?O.EPS:t.snd,stackPush:null===(e=t.trd)||void 0===e?void 0:e.split(":").map(function(t){return"eps"===t?O.EPS:t}),move:"L"===t.fth?P.Move.L:"R"===t.fth?P.Move.R:void 0})})),i=new Set([r]),s.props.changeEdgeTransitions(s.props.edge.id,i),console.log("ALLLOO"),s.setState({transitionsText:n,transitions:i},function(){return s.props.reinitComputer()});case 10:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}(),s.deleteEdge=Object(u.a)(c.a.mark(function t(){return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return null!==s.props.edge&&s.props.deleteEdge(s.props.edge.id),t.next=3,s.props.reinitComputer();case 3:case"end":return t.stop()}},t)})),s.changeEditMode=function(){s.setState({editMode:!s.state.editMode}),s.updateTransitions()},s.updateTransitions=Object(u.a)(c.a.mark(function t(){var e,n,o;return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=[],"tm"===s.props.computerType&&s.state.transitionsText.split("").filter(function(t){return" "!==t&&"\n"!==t}).join("").split(";").forEach(function(t){var n,o=t.split(""),r=o.shift(),i=o=o.join("").split("|"),a=o.join("").split(">");a.reverse(),n=a.shift(),a.reverse(),i=a,console.log("tmp"),console.log(a),e.push({fst:O.EPS,snd:r,trd:i.join(":"),fth:n,out:void 0})}),"mealy"===s.props.computerType||"dmealy"===s.props.computerType?s.state.transitionsText.split("").filter(function(t){return" "!==t&&"\n"!==t}).join("").split(";").forEach(function(t){var n=t.split("|"),o=n.shift(),r=n.shift();e.push({fst:o,snd:void 0,trd:void 0,fth:void 0,out:r})}):s.state.transitionsText.split("").filter(function(t){return" "!==t&&"\n"!==t}).join("").split(";").forEach(function(t){var n=t.split(","),o=n.shift(),r=(n=n.join("").split("|")).shift(),i=n;e.push({fst:o,snd:r,trd:i.join(":"),fth:void 0,out:void 0})}),n=[],e.forEach(function(t){var e;void 0!==t.fst&&n.push({title:"eps"===t.fst?O.EPS:t.fst,stackDown:"eps"===t.snd?O.EPS:t.snd,stackPush:null===(e=t.trd)||void 0===e?void 0:e.split(":").map(function(t){return"eps"===t?O.EPS:t}),move:"L"===t.fth?P.Move.L:"R"===t.fth?P.Move.R:void 0,output:t.out})}),o=new Set([n]),s.setState({transitionsText:M(o,s.props.computerType),transitions:o}),t.next=9,s.props.reinitComputer();case 9:case"end":return t.stop()}},t)})),s.deleteTransition=function(){if(null!==s.props.edge&&null!==s.state.activeTransition){var t=s.state.transitions;t.delete(s.state.activeTransition),s.props.changeEdgeTransitions(s.props.edge.id,t),s.setState({transitions:t,transitionsText:M(t,s.props.computerType)})}},s.helperText=function(){switch(s.props.computerType){case"dfa":case"nfa":case"nfa-eps":case"moore":case"dmoore":return'\u0421\u043f\u0438\u0441\u043e\u043a \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432 \u0438\u043b\u0438 "eps" \u0447\u0435\u0440\u0435\u0437 \u0442\u043e\u0447\u043a\u0443 \u0441 \u0437\u0430\u043f\u044f\u0442\u043e\u0439';case"dmealy":case"mealy":return'"f | n;", "eps" \u0434\u043b\u044f \u03b5';case"dpda":case"pda":return'"a, a | a:Z0;", "eps" \u0434\u043b\u044f \u03b5. \u041d\u0430 \u0434\u043d\u0435 \u0441\u0442\u0435\u043a\u0430 "Z0"';case"tm":return'"a | a>R;", eps \u0434\u043b\u044f \u03b5. "R" - \u0432\u043f\u0440\u0430\u0432\u043e, "L" - \u0432\u043b\u0435\u0432\u043e';default:return""}},s.state={prevEdgeId:null===(o=s.props.edge)||void 0===o?void 0:o.id,transitions:(null===(r=s.props.edge)||void 0===r?void 0:r.transitions)||new Set,transitionsText:M((null===(i=s.props.edge)||void 0===i?void 0:i.transitions)||new Set,s.props.computerType),displayedTransitionText:M((null===(a=s.props.edge)||void 0===a?void 0:a.transitions)||new Set,s.props.computerType),activeTransition:null,editMode:!1,countRules:1,rules:[{id:1,value:" "}]},s}return Object(p.a)(n,[{key:"componentDidUpdate",value:function(t,e){var n,o,r,i;(null===(n=this.props.edge)||void 0===n?void 0:n.id)!==e.prevEdgeId&&this.setState({transitions:(null===(o=this.props.edge)||void 0===o?void 0:o.transitions)||new Set,prevEdgeId:null===(r=this.props.edge)||void 0===r?void 0:r.id,transitionsText:M((null===(i=this.props.edge)||void 0===i?void 0:i.transitions)||new Set,this.props.computerType),activeTransition:null,editMode:!1})}},{key:"addInstruction",value:function(t){var e={id:this.state.rules.length,value:t};this.setState({rules:this.state.rules.concat(e)})}},{key:"render",value:function(){return r.a.createElement(b,{title:"\u041f\u0435\u0440\u0435\u0445\u043e\u0434",visible:null!==this.props.edge},r.a.createElement("div",{className:"edge-control__container"},r.a.createElement("div",{className:"edge-control__item edge-control__transitions"},r.a.createElement(k.a,{id:"filled-multiline-static",multiline:!0,rows:3,variant:"standard",label:"\u041f\u0435\u0440\u0435\u0445\u043e\u0434\u044b",size:"small",value:this.state.transitionsText,onChange:this.changeTransitions,helperText:this.helperText(),onBlur:this.updateTransitions}),r.a.createElement("div",{className:"edge-control__edit-transitions",onClick:this.changeEditMode},r.a.createElement(F.a,null))),r.a.createElement("div",{className:"edge-control__item"},r.a.createElement(w.a,{onClick:this.deleteEdge},"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"))))}}]),n}(r.a.Component)),G=n(121),W=n(101),J=n(122),K=(n(178),n(127)),Z=n.n(K),Y=n(128),X=n.n(Y),q=n(82),Q=n(68),$=n(123),tt=n(102),et=n(103),nt=n(43),ot=n(124),rt=n(125),it=n(126),at=n(244),st=function(t){return r.a.createElement("div",{className:"run-control__item run-control__history"},r.a.createElement("div",{className:"run-control__history__header"},r.a.createElement(v.a,{variant:"h6"},"\u0418\u0441\u0442\u043e\u0440\u0438\u044f")),0!==t.history.length?r.a.createElement("div",{className:"run-control__history__scroll"},void 0!==t.startNode?r.a.createElement("div",{className:"run-control__history__row",key:0},r.a.createElement("span",{className:"run-control__history__index"},0),r.a.createElement(at.a,{title:r.a.createElement(v.a,{className:"display-linebreak"},"~")},r.a.createElement("div",{className:"run-control__history__node",style:{border:"".concat(t.startNode.isInitial?"#0041d0":t.startNode.isAdmit?"#ff0072":"#000000"," 2px solid")}},t.startNode.label))):r.a.createElement("div",null),t.history.map(function(t,e){return r.a.createElement("div",{className:"run-control__history__row",key:e},r.a.createElement("span",{className:"run-control__history__index"},e+1),t.map(function(t,e){return r.a.createElement(at.a,{title:r.a.createElement(v.a,{className:"display-linebreak"},void 0!==t.note?t.note.join("\n"):"")},r.a.createElement("div",{className:"run-control__history__node",style:{border:"".concat(t.node.isInitial?"#0041d0":t.node.isAdmit?"#ff0072":"#000000"," 2px solid")}},t.node.label))}))}),r.a.createElement("div",null,r.a.createElement("div",{ref:t.historyEndRef}))):r.a.createElement("div",{className:"run-control__history__placeholder"},"\u0418\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0439\u0442\u0435 \u043f\u043e\u0448\u0430\u0433\u043e\u0432\u044b\u0439 \u0437\u0430\u043f\u0443\u0441\u043a, \u0447\u0442\u043e\u0431\u044b \u043d\u0430\u0431\u043b\u044e\u0434\u0430\u0442\u044c \u0437\u0430 \u0438\u0441\u0442\u043e\u0440\u0438\u0435\u0439"))},ct=function(t){var e=t.reduce(function(t,e){return t.push(r.a.createElement("div",{className:"run-control__item run-control__buttons"},e.map(function(t){return r.a.createElement("div",{className:"run-control__button"},r.a.createElement(w.a,{variant:"outlined",onClick:function(){t.onClick()}},t.name()))}))),t},[]);return r.a.createElement("div",null,e)},ut=V(function(t){Object(d.a)(n,t);var e=Object(f.a)(n);function n(t){var o;return Object(l.a)(this,n),(o=e.call(this,t)).computerShouldBeUpdated=function(t,e){return t.edges.length!==e.edges.length||t.edges.some(function(t,n){var o=e.edges[n];return t.id!==o.id||t.from!==o.from||t.to!==o.to||!Object(W.isEqual)(o.transitions,t.transitions)})||t.nodes.length!==e.nodes.length||t.nodes.some(function(t,n){var o=e.nodes[n];return t.id!==o.id||t.isAdmit!==o.isAdmit||t.isInitial!==o.isInitial})},o.getComputer=function(t,e,n,r){switch(t){case"dfa":try{return new G.DFA(e,n,r)}catch(i){return}case"nfa":return new J.NFA(e,n,r);case"nfa-eps":return new q.EpsilonNFA(e,n,r);case"pda":return new Q.PDA(e,n,r,o.state.byEmptyStack);case"dpda":return new ot.DPDA(e,n,r,o.state.byEmptyStack);case"tm":return new $.TM(e,n,r);case"mealy":return new tt.Mealy(e,n,r);case"dmealy":return new rt.DMealy(e,n,r);case"moore":return new et.Moore(e,n,r);case"dmoore":return new it.DMoore(e,n,r)}},o.initializeComputer=function(){console.warn("Reinitializing computer"),o.setState({gElements:R(o.props.elements)},function(){o.props.resetHistTree();var t=R(o.props.elements).nodes.filter(function(t){return t.isInitial}),e=o.state.input.split("");void 0!==t?o.setState({computer:o.getComputer(o.props.computerType,o.state.gElements,t,e),result:void 0},Object(u.a)(c.a.mark(function t(){var e;return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=[],(void 0!==o.state.computer?o.state.computer.getStartStatements():[]).forEach(function(t,n){var r=n+1;e.push({stack:t.stack?Object(x.a)(t.stack):[],from:t.from,by:t.by,stackDown:t.stackDown,label:"".concat(t.id),isAdmit:t.isAdmit,isInitial:!0,isCurrent:!1,id:o.props.getLastHistNodeId()+r,idd:t.id})}),"pda"===o.props.computerType||"dpda"===o.props.computerType?e.forEach(function(t){var e=o.state.gElements.nodes.find(function(e){return e.id===t.idd}),n=(null===e||void 0===e?void 0:e.label)+"\n\u2015"+t.stack.reduce(function(t,e){return"\n"+e+t},"");o.props.createHistNode(t.idd,n,t.isAdmit,t.isInitial,t.isCurrent)}):e.forEach(function(t){var e=o.state.gElements.nodes.find(function(e){return e.id===t.idd});o.props.createHistNode(t.idd,e.label,t.isAdmit,t.isInitial,t.isCurrent)}),t.next=6,o.setState({lastHistUnits:e});case 6:case"end":return t.stop()}},t)}))):console.warn("There is no initial node. Computer will not be initialized")})},o.onInputChanged=function(t){var e,n=t.target.value;o.reset(),null===(e=o.state.computer)||void 0===e||e.setInput(n.split("")),o.setState({input:n})},o.drawTreeLayot=function(t,e,n){t.forEach(function(t,e){var r=e+1,i=o.state.gElements.nodes.find(function(e){return e.id===t.id});n.push({stack:t.stack?Object(x.a)(t.stack):[],from:t.from,by:t.by,stackDown:t.stackDown,move:t.move,output:t.output,label:"".concat(t.id),isAdmit:t.isAdmit,isInitial:i.isInitial,isCurrent:i.isCurrent,id:o.props.getLastHistNodeId()+r,idd:t.id})}),"pda"===o.props.computerType||"dpda"===o.props.computerType?n.forEach(function(t){var e=o.state.gElements.nodes.find(function(e){return e.id===t.idd}),n=(null===e||void 0===e?void 0:e.label)+"\n\u2015"+t.stack.reduce(function(t,e){return"\n"+e+t},"");o.props.createHistNode(t.idd,n,t.isAdmit,t.isInitial,t.isCurrent)}):n.forEach(function(t){var e=o.state.gElements.nodes.find(function(e){return e.id===t.idd});o.props.createHistNode(t.idd,e.label,t.isAdmit,t.isInitial,t.isCurrent)});var r=function(t){return t===O.EPS?"\u03b5":t},i=function(t,e,n,i){return r(t)+function(t){return"pda"===o.props.computerType||"dpda"===o.props.computerType?", "+r(t):""}(e)+function(t){return"tm"===o.props.computerType?t===P.Move.L?", L":", R":""}(n)+function(t){return"mealy"===o.props.computerType||"dmealy"===o.props.computerType?", "+t:""}(i)},a=n.reduce(function(t,n){return t.push({from:function(){switch(o.props.computerType){case"tm":case"moore":case"dmoore":case"mealy":case"dmealy":return e.filter(function(t){var e;return n.from&&t.idd===(null===(e=n.from)||void 0===e?void 0:e.id)})[0].id;default:return e.filter(function(t){var e,o,r;return n.from&&t.idd===(null===(e=n.from)||void 0===e?void 0:e.id)&&(null===(o=t.stack)||void 0===o?void 0:o.toString)===(null===(r=n.from.stack)||void 0===r?void 0:r.toString)})[0].id}}(),to:[n.id],by:i(n.by,n.stackDown,n.move,n.output)}),t},[]);console.log("\n\n\n"),a.forEach(function(t){return t.to.forEach(function(e){return o.props.createHistEdge(t.from,e,t.by)})}),o.setState({lastHistUnits:n})},o.treeEps=function(t,e,n){console.log("\n"),console.log("EPS>>>",t),console.log("LTR>>>",e),console.log("EPS>>>",n),console.log("\n");var r=[];o.drawTreeLayot(t,o.state.lastHistUnits,r);var i=[];o.drawTreeLayot(e,r,i);o.drawTreeLayot(n,i,[])},o.tree=function(t){o.drawTreeLayot(t,o.state.lastHistUnits,[])},o.step=Object(u.a)(c.a.mark(function t(){var e,n,i,a,s,u,l,p;return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(void 0!==o.state.computer){t.next=3;break}return console.error("Computer is not initialized yet"),t.abrupt("return");case 3:if(o.props.setResettedStatus(!0),!o.state.wasRuned){t.next=9;break}return o.setState({wasRuned:!1}),o.reset(),t.next=9,o.props.resetHistTree();case 9:if(o.state.currentInputIndex!==o.state.input.length-1||"tm"===o.props.computerType){t.next=11;break}return t.abrupt("return");case 11:if(void 0===o.state.result||-1===o.state.currentInputIndex||"tm"===o.props.computerType){t.next=13;break}return t.abrupt("return");case 13:if(t.prev=13,0!==(e=o.state.computer.step()).nodes.length){t.next=17;break}return t.abrupt("return");case 17:o.props.changeStateIsCurrent(e.nodes.map(function(t){return t.id}),!0),o.props.updMem(e.memory,e.pointer),n=void 0,e.counter===o.state.input.length?n=e.isAdmit:o.state.currentInputIndex+2!==e.counter&&(n=!1),i=e.nodes.map(function(t){return o.state.gElements.nodes.find(function(e){return e.id===t.id})}).filter(function(t){return void 0!==t}),a=e.byEpsPred?e.byEpsPred:[],s=e.byLetter?e.byLetter:[],u=e.byEpsAfter?e.byEpsAfter:[],"tm"!==o.props.computerType&&o.state.computer.haveEpsilon()?(console.log("byEpsAfter>>>",u),o.treeEps(a,s,u)):(console.log("byLetter",s),l=[],o.drawTreeLayot(s,o.state.lastHistUnits,l)),p=i.map(function(t,n){var o=e.nodes[n].stack;return{node:t,note:void 0!==o?o.reverse():void 0!==e.output?e.output:void 0}}),o.setState({result:n,currentInputIndex:o.state.currentInputIndex+1,history:[].concat(Object(x.a)(o.state.history),[p]),memory:e.memory},function(){o.props.setHistory(function(){return r.a.createElement(st,{startNode:o.state.startNode,history:o.state.history,historyEndRef:o.props.historyEndRef})})}),t.next=33;break;case 30:t.prev=30,t.t0=t.catch(13),t.t0 instanceof nt.NonDeterministic?(o.props.setIsNonDetermenistic(!0),console.log("NonDeterministic")):console.log(t.t0);case 33:case"end":return t.stop()}},t,null,[[13,30]])})),o.reset=function(){var t,e;null===(t=o.state.computer)||void 0===t||t.restart(),o.props.changeStateIsCurrent([],!0),o.setState({result:void 0,currentInputIndex:-1,history:[]},function(){o.initializeComputer(),o.props.setHistory(function(){return r.a.createElement(st,{startNode:o.state.startNode,history:o.state.history,historyEndRef:o.props.historyEndRef})})}),null===(e=o.state.computer)||void 0===e||e.setInput(o.state.input.split("")),o.props.setResettedStatus(!1),o.props.resetHistTree()},o.run=Object(u.a)(c.a.mark(function t(){var e;return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(void 0!==o.state.computer){t.next=3;break}return console.error("Computer is not initialized yet"),t.abrupt("return");case 3:return t.next=5,o.reset();case 5:try{e=o.state.computer.run(),(e.histTrace?e.histTrace:[]).forEach(function(){var t=Object(u.a)(c.a.mark(function t(e){var n,r,i;return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n=e.byEpsPred?e.byEpsPred:[],r=e.byLetter?e.byLetter:[],i=e.byEpsAfter?e.byEpsAfter:[],o.state.computer&&o.state.computer.haveEpsilon()?o.treeEps(n,r,i):o.tree(r);case 4:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()),o.setState({result:e.isAdmit,currentInputIndex:-1,history:[]}),o.setState({wasRuned:!0})}catch(n){n instanceof nt.NonDeterministic&&(o.props.setIsNonDetermenistic(!0),console.log("NonDeterministic"))}case 6:case"end":return t.stop()}},t)})),o.nfaToDfa=function(){var t=o.state.computer.nfaToDfa(),e={nodes:t.nodes.map(function(t,e){return{id:t.id,isAdmit:t.isAdmit,label:t.id.toString(),isInitial:0===e,isCurrent:!1}}),edges:t.edges};o.setState({gElements:e},function(){o.props.updateElements(L(e)),o.props.setComputerType("dfa")})},o.admitByStack=function(){var t=o.state.byEmptyStack;o.setState({byEmptyStack:!t}),o.props.setByEmptyStack(!t),o.state.computer.byEmptyStackAdmt(!t),o.reset()},o.minimizeDfa=function(){o.initializeComputer(),o.reset();try{var t=o.state.computer.minimizeDfa(),e={nodes:t.graphcore.nodes.map(function(e){return{id:e.id,isAdmit:e.isAdmit,label:"G"+e.id.toString(),isInitial:e.id===t.start.id,isCurrent:!1}}),edges:t.graphcore.edges};o.setState({gElements:e},function(){o.props.updateElements(L(e))})}catch(n){n instanceof nt.NonMinimizable&&(o.props.setIsNonMinimizable(!0),console.log("NonDeterministic"))}},o.mooreToMealy=function(){o.initializeComputer(),o.reset();var t=o.state.computer.mooreToMealy(),e=t.start.map(function(t){return t.id}),n={nodes:t.graphcore.nodes.map(function(t){return{id:t.id,isAdmit:t.isAdmit,label:"S"+t.id.toString(),isInitial:e.includes(t.id),isCurrent:!1}}),edges:t.graphcore.edges};o.setState({gElements:n},function(){o.props.updateElements(L(n)),o.props.setComputerType("mealy")})},o.mealyToMoore=function(){o.initializeComputer(),o.reset();var t=o.state.computer.mealyToMoore(),e=t.start.map(function(t){return t.id}),n={nodes:t.graphcore.nodes.map(function(t){return{id:t.id,isAdmit:t.isAdmit,label:"S"+t.id.toString()+" | "+t.output,isInitial:e.includes(t.id),isCurrent:!1}}),edges:t.graphcore.edges};o.setState({gElements:n},function(){o.props.updateElements(L(n)),o.props.setComputerType("moore")})},o.defaultButtonsLine=[{name:function(){return"\u0428\u0430\u0433"},onClick:function(){return o.step()}},{name:function(){return"\u0417\u0430\u043f\u0443\u0441\u043a"},onClick:function(){return o.run()}},{name:function(){return"\u0421\u0431\u0440\u043e\u0441\u0438\u0442\u044c"},onClick:function(){return o.reset()}}],o.defaultButtons=[o.defaultButtonsLine],o.buttonsTree=[o.defaultButtonsLine,[{name:o.props.treeContextInfo,onClick:o.props.treeVisible}]],o.buttonNfa=[o.defaultButtonsLine,[{name:o.props.treeContextInfo,onClick:o.props.treeVisible}],[{name:function(){return"\u0414\u041a\u0410"},onClick:function(){return o.nfaToDfa()}}]],o.buttonDfa=[o.defaultButtonsLine,[{name:o.props.treeContextInfo,onClick:o.props.treeVisible}],[{name:function(){return"\u041c\u0438\u043d\u0438\u043c\u0438\u0437\u0438\u0440\u043e\u0432\u0430\u0442\u044c"},onClick:function(){return o.minimizeDfa()}}]],o.buttonMealy=[o.defaultButtonsLine,[{name:o.props.treeContextInfo,onClick:o.props.treeVisible}],[{name:function(){return"\u041c\u0443\u0440"},onClick:function(){return o.mealyToMoore()}}]],o.buttonMoore=[o.defaultButtonsLine,[{name:o.props.treeContextInfo,onClick:o.props.treeVisible}],[{name:function(){return"\u041c\u0438\u043b\u0438"},onClick:function(){return o.mooreToMealy()}}]],o.buttonsByStackByState=[o.defaultButtonsLine,[{name:function(){return o.props.byEmptyStack?"\u041f\u043e \u0441\u0442\u0435\u043a\u0443":"\u041f\u043e \u0441\u043e\u0441\u0442\u043e\u044f\u043d\u0438\u044e"},onClick:function(){return o.props.changerStack()}},{name:o.props.treeContextInfo,onClick:o.props.treeVisible}]],o.buttonsNoRun=[[{name:function(){return"\u0428\u0430\u0433"},onClick:function(){return o.step()}},{name:function(){return"\u0421\u0431\u0440\u043e\u0441\u0438\u0442\u044c"},onClick:function(){return o.reset()}}],[{name:o.props.treeContextInfo,onClick:o.props.treeVisible}]],o.getButtons=function(){switch(o.props.computerType){case"dfa":return ct(o.buttonDfa);case"nfa":case"nfa-eps":return ct(o.buttonNfa);case"tm":return ct(o.buttonsNoRun);case"pda":case"dpda":return ct(o.buttonsByStackByState);case"mealy":case"dmealy":return ct(o.buttonMealy);case"moore":case"dmoore":return ct(o.buttonMoore);default:return ct(o.buttonsTree)}},o.state={input:"",result:void 0,computer:void 0,editMode:!0,currentInputIndex:-1,history:[],byEmptyStack:!1,wasRuned:!1,memory:void 0,gElements:R(o.props.elements),startNode:void 0,lastHistUnits:[],startStatements:[]},o}return Object(p.a)(n,[{key:"componentDidMount",value:function(){var t=this;this.props.setInit(function(){var e=!1;if(t.props.elements.edges.forEach(function(t){""===t.label&&(e=!0)}),!e)return t.initializeComputer()}),this.props.setNfaToDfa(this.nfaToDfa),this.props.setMinimizeDfa(this.minimizeDfa),this.props.setMooreToMealy(this.mooreToMealy),this.props.setMealyToMoore(this.mealyToMoore),this.props.setChangerByStack(this.admitByStack),this.props.setRun(this.run),this.props.setStep(this.step),this.props.setReset(this.reset),this.props.setHistory(function(){return r.a.createElement(st,{startNode:t.state.startNode,history:t.state.history,historyEndRef:t.props.historyEndRef})}),this.initializeComputer()}},{key:"componentDidUpdate",value:function(t,e,n){this.computerShouldBeUpdated(R(t.elements),R(this.props.elements))&&this.initializeComputer()}},{key:"render",value:function(){var t=this;return r.a.createElement(b,{title:"\u0417\u0430\u043f\u0443\u0441\u043a"},r.a.createElement("div",null,r.a.createElement("div",{className:"run-control__item run-control__input__row"},this.state.editMode?r.a.createElement(k.a,{label:"\u0412\u0445\u043e\u0434\u043d\u0430\u044f \u0441\u0442\u0440\u043e\u043a\u0430",size:"small",value:this.state.input,onChange:this.onInputChanged,onBlur:function(){t.state.input.length&&t.setState({editMode:!1},function(){return t.initializeComputer()})}}):r.a.createElement("div",{className:"run-control__input-value",onClick:function(){t.setState({editMode:!0})}},Array.from(this.state.input).map(function(e,n){return r.a.createElement("span",{className:"run-control__input__span"+(t.state.currentInputIndex===n?"--current":""),key:n},e)})),r.a.createElement("div",{className:"run-control__result"},void 0===this.state.result?null:this.state.result?r.a.createElement(Z.a,{style:{color:"var(--commerce)"}}):r.a.createElement(X.a,{style:{color:"var(--destructive)"}}))),this.getButtons()))}}]),n}(r.a.Component)),lt=n(7),pt=(n(98),function(){function t(){Object(l.a)(this,t)}return Object(p.a)(t,[{key:"getSavesMeta",value:function(){var e=t.getSaves();return new Promise(function(t){t(e)})}},{key:"getSave",value:function(e){var n=t.getSaves().find(function(t){return t.id==e.id});return new Promise(function(t){t(n||null)})}},{key:"save",value:function(e,n,o){if(!localStorage)throw new Error("no local storage");var r=t.getSaves(),i=(Math.max.apply(Math,Object(x.a)(r.map(function(t){return Number(t.id)})))+1).toString(),a=r.findIndex(function(t){return t.name==e}),s={id:"0",name:e,save:{graph:n,type:o}};-1==a?(s.id=i,r.push(s)):(s.id=r[a].id,r[a]=s);var c=JSON.stringify(r,function(t,e){return e instanceof Set?Array.from(e):e});return localStorage.setItem("saves",c),new Promise(function(t){t()})}}],[{key:"getSaves",value:function(){if(!localStorage)throw new Error("no local storage");var t=[];try{t=JSON.parse(localStorage.getItem("saves")||"")}catch(e){return console.warn("Invalid saves in local storage: "+e),[]}return t}}]),t}()),dt=null!=="https://sscss.ru"?"https://sscss.ru":"http://localhost";function ft(){var t=new Headers;return t.set("Authorization","Bearer ".concat(H("jwt"))),t}function mt(t){return{method:"GET",headers:t}}function ht(t){return new Promise(function(e,n){var o=dt+"/save",r=mt(ft());fetch(o,r).then(function(e){if(401==e.status&&t(),!e.ok)throw new Error(e.status+e.statusText);return e.json()}).then(function(t){return e(t)}).catch(function(t){return n(t)})})}function vt(t,e){return new Promise(function(n,o){var r=dt+"/save/".concat(t.id),i=mt(ft());fetch(r,i).then(function(t){if(401==t.status&&e(),!t.ok)throw new Error(t.status+t.statusText);return t.json()}).then(function(t){return n(t)}).catch(function(t){return o(t)})})}function gt(t,e){return new Promise(function(n,o){var r=dt+"/save",i=JSON.stringify(t),a=function(t,e){return t.set("Content-Type","application/json"),{method:"POST",headers:t,body:e}}(ft(),i);fetch(r,a).then(function(t){if(401==t.status&&e(),!t.ok)throw new Error(t.status+t.statusText);n()}).catch(function(t){return o(t)})})}var Et=function(){function t(e){Object(l.a)(this,t),this.onAuthFailed=void 0,this.onAuthFailed=e}return Object(p.a)(t,[{key:"getSave",value:function(){var t=Object(u.a)(c.a.mark(function t(e){var n,o,r;return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n={id:e.id},o=null,t.prev=2,t.next=5,vt(n,this.onAuthFailed);case 5:r=t.sent,o={id:r.id,name:r.name,save:JSON.parse(r.data)},t.next=12;break;case 9:t.prev=9,t.t0=t.catch(2),console.error(t.t0);case 12:return t.abrupt("return",o);case 13:case"end":return t.stop()}},t,this,[[2,9]])}));return function(e){return t.apply(this,arguments)}}()},{key:"getSavesMeta",value:function(){var t=Object(u.a)(c.a.mark(function t(){var e;return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=[],t.prev=1,t.next=4,ht(this.onAuthFailed);case 4:e=t.sent,t.next=10;break;case 7:t.prev=7,t.t0=t.catch(1),console.error(t.t0);case 10:return t.abrupt("return",e.map(function(t){return{id:t.id,name:t.name}}));case 11:case"end":return t.stop()}},t,this,[[1,7]])}));return function(){return t.apply(this,arguments)}}()},{key:"save",value:function(){var t=Object(u.a)(c.a.mark(function t(e,n,o){var r,i;return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=JSON.stringify({graph:n,type:o},function(t,e){return e instanceof Set?Array.from(e):e}),i={name:e,data:r},t.prev=2,t.next=5,gt(i,this.onAuthFailed);case 5:t.next=10;break;case 7:t.prev=7,t.t0=t.catch(2),console.error(t.t0);case 10:case"end":return t.stop()}},t,this,[[2,7]])}));return function(e,n,o){return t.apply(this,arguments)}}()}]),t}(),bt=n(258),yt=n(241),kt=n(259),wt=n(256),St=n(249),_t=n(260),Ct=n(261),xt=n(251),Ot=n(129),Pt=n.n(Ot),Nt=(n(179),n(268)),jt=function(t){var e=t.open,n=t.onClose,i=t.onAuthFailed,a=t.changeComputerType,s=new pt,l=new Et(i),p=function(){var t=Object(u.a)(c.a.mark(function t(e){var o;return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,l.getSave(e);case 2:(o=t.sent)&&(a(o.save.type,o.save.graph),n());case 4:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}(),d=function(){var t=Object(u.a)(c.a.mark(function t(e){var o;return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s.getSave(e);case 2:(o=t.sent)&&(a(o.save.type,o.save.graph),n());case 4:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}(),f=function(){var t=Object(u.a)(c.a.mark(function t(){var e;return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return P(!0),t.next=3,l.getSavesMeta();case 3:e=t.sent,b(e),P(!1);case 6:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}(),m=function(){var t=Object(u.a)(c.a.mark(function t(){var e;return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s.getSavesMeta();case 2:e=t.sent,_(e);case 4:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}(),v=Object(o.useState)([]),g=Object(lt.a)(v,2),E=g[0],b=g[1],y=Object(o.useState)([]),k=Object(lt.a)(y,2),S=k[0],_=k[1],C=Object(o.useState)(!1),x=Object(lt.a)(C,2),O=x[0],P=x[1];return Object(o.useEffect)(function(){e&&(m(),f())},[e]),r.a.createElement(bt.a,{open:e,onClose:n,maxWidth:"md",fullWidth:!0},r.a.createElement(yt.a,null,r.a.createElement("p",null,"\u0421\u0438\u043c\u0443\u043b\u044f\u0442\u043e\u0440 \u0430\u0432\u0442\u043e\u043c\u0430\u0442\u043e\u0432")),r.a.createElement(kt.a,null,r.a.createElement(h.a,{className:"welcome-popout__body",variant:"outlined"},r.a.createElement(wt.a,{dense:!0},0!==E.length?r.a.createElement(_t.a,null,"\u041e\u0442\u043a\u0440\u044b\u0442\u044c \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u0435 \u0432 \u043e\u0431\u043b\u0430\u043a\u0435"):null,O?r.a.createElement("div",{className:"welcome-popout__body__cloud-skeleton"},r.a.createElement(xt.a,{className:"welcome-popout__body__cloud-skeleton__rectangle",animation:"wave",variant:"rectangular",height:28}),r.a.createElement(xt.a,{className:"welcome-popout__body__cloud-skeleton__rectangle",animation:"wave",variant:"rectangular",height:28}),r.a.createElement(xt.a,{className:"welcome-popout__body__cloud-skeleton__rectangle",animation:"wave",variant:"rectangular",height:28})):0!==E.length?E.map(function(t){return r.a.createElement(St.a,{key:t.id,secondaryAction:r.a.createElement(w.a,{variant:"contained",size:"small",onClick:function(){return p(t)}},"\u041e\u0442\u043a\u0440\u044b\u0442\u044c")},r.a.createElement(Ct.a,null,t.name))}):null,0!==S.length?r.a.createElement(_t.a,null,"\u041e\u0442\u043a\u0440\u044b\u0442\u044c \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u0435 \u0432 \u0431\u0440\u0430\u0443\u0437\u0435\u0440\u0435"):null,0!==S.length?S.map(function(t){return r.a.createElement(St.a,{key:t.id,secondaryAction:r.a.createElement(w.a,{variant:"contained",size:"small",onClick:function(){return d(t)}},"\u041e\u0442\u043a\u0440\u044b\u0442\u044c")},r.a.createElement(Ct.a,null,t.name))}):null,r.a.createElement(_t.a,null,"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u043d\u043e\u0432\u044b\u0439 \u0432\u044b\u0447\u0438\u0441\u043b\u0438\u0442\u0435\u043b\u044c"),Object.entries(z).map(function(t){return r.a.createElement(St.a,{key:t[1].name,secondaryAction:r.a.createElement("div",null,r.a.createElement(w.a,{className:"welcome-popout__create-empty-button",variant:"text",size:"small",onClick:function(){return e=t[0],a(e,{nodes:[],edges:[]}),void n();var e}},"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u043f\u0443\u0441\u0442\u044b\u043c"),r.a.createElement(w.a,{variant:"contained",size:"small",onClick:function(){return e=t[0],a(e,null),void n();var e}},"\u0421\u043e\u0437\u0434\u0430\u0442\u044c"))},r.a.createElement(Ct.a,{primary:t[1].name,secondary:t[1].description}))}))),r.a.createElement("div",{className:"welcome-popout__footer"},r.a.createElement(Nt.a,{href:"https://github.com/spbu-se/WebAutomataConstructor"},r.a.createElement(Pt.a,{className:"welcome-popout__github-icon"})))))},At=n(263),It=n(252),Tt=n(262),Mt=n(242),Dt=(n(180),function(t){var e=t.open,n=t.onClose,i=t.isLogin,a=t.onAuthFailed,s=t.graph,l=t.computerType,p=function(){var t=Object(u.a)(c.a.mark(function t(){var e;return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:j(!0),e=[],t.t0=b,t.next="cloud"===t.t0?5:"browser"===t.t0?9:13;break;case 5:return t.next=7,v.getSavesMeta();case 7:return e=t.sent,t.abrupt("break",15);case 9:return t.next=11,f.getSavesMeta();case 11:return e=t.sent,t.abrupt("break",15);case 13:return x([]),t.abrupt("break",15);case 15:x(e),j(!1);case 17:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}(),d=Object(o.useState)(new pt),f=Object(lt.a)(d,1)[0],m=Object(o.useState)(new Et(a)),v=Object(lt.a)(m,1)[0],g=Object(o.useState)(i?"cloud":"browser"),E=Object(lt.a)(g,2),b=E[0],y=E[1],S=Object(o.useState)([]),_=Object(lt.a)(S,2),C=_[0],x=_[1],O=Object(o.useState)(!1),P=Object(lt.a)(O,2),N=P[0],j=P[1],A=Object(o.useState)(""),I=Object(lt.a)(A,2),T=I[0],M=I[1];return Object(o.useEffect)(function(){e&&(y(i?"cloud":"browser"),p())},[e]),Object(o.useEffect)(function(){p()},[b]),Object(o.useEffect)(function(){M("")},[b,e]),r.a.createElement(bt.a,{open:e,onClose:n},r.a.createElement(yt.a,null,r.a.createElement("p",null,"\u0421\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u0435")),r.a.createElement(kt.a,null,r.a.createElement("div",{className:"saving-popout__body"},r.a.createElement("div",{className:"saving-popout__body__sidebar"},r.a.createElement(It.a,{orientation:"vertical",exclusive:!0,value:b,onChange:function(t,e){y(e=e||b)}},r.a.createElement(Tt.a,{value:"cloud",disabled:!i},"\u041e\u0431\u043b\u0430\u043a\u043e"),r.a.createElement(Tt.a,{value:"browser"},"\u0411\u0440\u0430\u0443\u0437\u0435\u0440"))),r.a.createElement("div",{className:"saving-popout__body__main"},r.a.createElement(h.a,{className:"saving-popout__body__main__paper",variant:"outlined"},N?r.a.createElement("div",{className:"saving-popout__body__main__skeleton"},r.a.createElement(xt.a,{className:"saving-popout__body__main__skeleton__bar",animation:"wave",variant:"rectangular",height:"36"}),r.a.createElement(xt.a,{className:"saving-popout__body__main__skeleton__bar",animation:"wave",variant:"rectangular",height:"36"}),r.a.createElement(xt.a,{className:"saving-popout__body__main__skeleton__bar",animation:"wave",variant:"rectangular",height:"36"})):r.a.createElement(wt.a,{dense:!0},C.map(function(t){return r.a.createElement(St.a,{key:t.id,disablePadding:!0},r.a.createElement(Mt.a,{onClick:function(e){return function(t,e){M(e.name)}(0,t)}},r.a.createElement(Ct.a,{primary:t.name})))}))))),r.a.createElement(k.a,{className:"saving-popout__save-name-input",variant:"standard",size:"small",label:"\u0418\u043c\u044f \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u044f",value:T,onChange:function(t){var e=t.target.value;M(e)}}),r.a.createElement(At.a,null,r.a.createElement(w.a,{color:"primary",onClick:function(t){switch(b){case"cloud":v.save(T,s,l);break;case"browser":f.save(T,s,l)}p(),n()}},"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"),r.a.createElement(w.a,{color:"primary",onClick:n},"\u041e\u0442\u043c\u0435\u043d\u0430"))))}),Lt=n(34),Rt=n(16),zt=n(64),Ht=(n(181),n(269)),Bt=n(243),Ft=n(246);function Vt(t){return new Promise(function(e,n){var o=dt+"/auth/signin",r=JSON.stringify(t),i=new Headers;i.set("Content-Type","application/json"),fetch(o,{method:"POST",headers:i,body:r,redirect:"manual"}).then(function(t){if(t.ok)return t.text();n()}).then(function(t){t?e(t):n()}).catch(function(t){return n(t)})})}var Ut=function(t){Object(zt.a)(t);var e=Object(Rt.f)(),n=Object(o.useState)(""),i=Object(lt.a)(n,2),a=i[0],s=i[1],l=Object(o.useState)(""),p=Object(lt.a)(l,2),d=p[0],f=p[1],m=Object(o.useState)(null),h=Object(lt.a)(m,2),g=h[0],E=h[1],b=function(){var t=Object(u.a)(c.a.mark(function t(){var n;return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n={email:a,password:d},t.next=3,Vt(n).then(function(t){return e("/success-login?jwt=".concat(t))}).catch(function(t){return E("\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u0432\u043e\u0439\u0442\u0438 \u0432 \u0430\u043a\u043a\u0430\u0443\u043d\u0442 (".concat(t,")"))});case 3:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}(),y=function(t){window.location.href="https://sscss.ru/auth"+"/external/signin?provider=".concat(t)};return Object(o.useEffect)(function(){E(null)},[a,d]),r.a.createElement("div",{className:"login-page"},r.a.createElement(Ht.a,{maxWidth:"xs"},r.a.createElement(Bt.a,{spacing:1,justifyContent:"center",style:{minHeight:"100vh"}},r.a.createElement(v.a,{variant:"h5",align:"center",sx:{paddingBottom:"24px"}},"\u0412\u0445\u043e\u0434 \u0432 \u0430\u043a\u043a\u0430\u0443\u043d\u0442"),g&&r.a.createElement(Ft.a,{severity:"error"},g),r.a.createElement(k.a,{size:"small",label:"\u042d\u043b\u0435\u043a\u0442\u0440\u043e\u043f\u043e\u0447\u0442\u0430",type:"email",value:a,onChange:function(t){var e=t.target.value;s(e)}}),r.a.createElement(k.a,{size:"small",label:"\u041f\u0430\u0440\u043e\u043b\u044c",type:"password",value:d,onChange:function(t){var e=t.target.value;f(e)}}),r.a.createElement(w.a,{variant:"contained",onClick:b},"\u0412\u043e\u0439\u0442\u0438"),r.a.createElement(v.a,{variant:"overline",align:"center"},"\u0438\u043b\u0438"),r.a.createElement(w.a,{variant:"outlined",onClick:function(){return y("Google")}},"\u0412\u043e\u0439\u0442\u0438 \u0447\u0435\u0440\u0435\u0437 \u0430\u043a\u043a\u0430\u0443\u043d\u0442 Google"),r.a.createElement(w.a,{variant:"outlined",onClick:function(){return y("Yandex")}},"\u0412\u043e\u0439\u0442\u0438 \u0447\u0435\u0440\u0435\u0437 \u0430\u043a\u043a\u0430\u0443\u043d\u0442 \u042f\u043d\u0434\u0435\u043a\u0441"),r.a.createElement(v.a,{variant:"overline",align:"center"},"\u0438\u043b\u0438"),r.a.createElement(w.a,{variant:"outlined",onClick:function(){e("/register")}},"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f"))))};n(182);function Gt(t){return new Promise(function(e,n){var o=dt+"/auth/signup",r=JSON.stringify(t),i=new Headers;i.set("Content-Type","application/json"),fetch(o,{method:"POST",headers:i,body:r}).then(function(t){t.ok?e():n()}).catch(function(t){return n(t)})})}var Wt=function(t){Object(zt.a)(t);var e=Object(Rt.f)(),n=Object(o.useState)(""),i=Object(lt.a)(n,2),a=i[0],s=i[1],l=Object(o.useState)(""),p=Object(lt.a)(l,2),d=p[0],f=p[1],m=Object(o.useState)(""),h=Object(lt.a)(m,2),g=h[0],E=h[1],b=Object(o.useState)(null),y=Object(lt.a)(b,2),S=y[0],_=y[1],C=function(){var t=Object(u.a)(c.a.mark(function t(){var n;return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n={email:a,password:d,about:g},t.next=3,Gt(n).then(function(){return e("/registered")}).catch(function(){return _("\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043d\u043e\u0432\u043e\u0433\u043e \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f")});case 3:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}();return Object(o.useEffect)(function(){_(null)},[a,d,g]),r.a.createElement("div",{className:"login-page"},r.a.createElement(Ht.a,{maxWidth:"xs"},r.a.createElement(Bt.a,{spacing:1,justifyContent:"center",style:{minHeight:"100vh"}},r.a.createElement(v.a,{variant:"h5",align:"center",sx:{paddingBottom:"24px"}},"\u041d\u043e\u0432\u044b\u0439 \u0430\u043a\u043a\u0430\u0443\u043d\u0442"),S&&r.a.createElement(Ft.a,{severity:"error"},S),r.a.createElement(k.a,{size:"small",label:"\u042d\u043b\u0435\u043a\u0442\u0440\u043e\u043f\u043e\u0447\u0442\u0430",type:"email",value:a,onChange:function(t){var e=t.target.value;s(e)}}),r.a.createElement(k.a,{size:"small",label:"\u041f\u0430\u0440\u043e\u043b\u044c",type:"password",value:d,onChange:function(t){var e=t.target.value;f(e)}}),r.a.createElement(k.a,{label:"\u041e \u0441\u0435\u0431\u0435",type:"text",multiline:!0,rows:3,value:g,onChange:function(t){var e=t.target.value;E(e)}}),r.a.createElement(w.a,{variant:"contained",onClick:C},"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f"),r.a.createElement(v.a,{variant:"overline",align:"center"},"\u0438\u043b\u0438"),r.a.createElement(w.a,{variant:"outlined",onClick:function(){e("/login")}},"\u0412\u043e\u0439\u0442\u0438"))))},Jt=n(264),Kt=n(265),Zt=(n(183),function(t){var e=t.onMenuButtonClicked,n=t.onSaveButtonClicked,o=t.onLogoutButtonClicked,i=t.isLogin,a=Object(Rt.f)();return r.a.createElement(Jt.a,{position:"sticky"},r.a.createElement(Kt.a,{variant:"dense"},r.a.createElement("div",{className:"app__header__left"},r.a.createElement(w.a,{className:"app__header__button",color:"inherit",onClick:e},"\u041c\u0435\u043d\u044e"),r.a.createElement(w.a,{className:"app__header__button",color:"inherit",onClick:n},"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c")),r.a.createElement("div",{className:"app__header__right"},i&&r.a.createElement(w.a,{className:"app__header__button",color:"inherit",onClick:function(){a("/me")}},"\u041f\u0440\u043e\u0444\u0438\u043b\u044c"),r.a.createElement(w.a,{className:"app__header__button",color:"inherit",onClick:i?function(){document.cookie="jwt=; path=/; secure; max-age=-99999999",o()}:function(){a("/login")}},i?"\u0412\u044b\u0439\u0442\u0438":"\u0412\u043e\u0439\u0442\u0438"))))}),Yt=(n(184),function(t){var e=t.updateCurrentUser,n=Object(o.useState)(null),i=Object(lt.a)(n,2),a=i[0],s=i[1],l=Object(Rt.f)(),p=function(){var t=Object(u.a)(c.a.mark(function t(){var n;return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=f.get("jwt")){t.next=4;break}return s("\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u0432\u043e\u0439\u0442\u0438 \u0432 \u0430\u043a\u043a\u0430\u0443\u043d\u0442"),t.abrupt("return");case 4:return console.log("Jwt = ".concat(n)),document.cookie="jwt=".concat(n,"; path=/; secure; max-age=2592000"),t.next=8,e();case 8:l("/");case 9:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}();Object(o.useEffect)(function(){p()},[]);var d=Object(Lt.b)(),f=Object(lt.a)(d,1)[0];return r.a.createElement("div",{className:"success-login-page"},r.a.createElement(Ht.a,{maxWidth:"xs"},r.a.createElement(Bt.a,{spacing:1,justifyContent:"center",style:{minHeight:"100vh"}},r.a.createElement(v.a,{variant:"h5",align:"center",sx:{paddingBottom:"24px"}},"\u0412\u0445\u043e\u0434\u0438\u043c \u0432 \u0430\u043a\u043a\u0430\u0443\u043d\u0442..."),a&&r.a.createElement(Ft.a,{severity:"error"},a))))}),Xt=(n(185),function(t){Object(zt.a)(t);var e=Object(Rt.f)();return r.a.createElement("div",{className:"registered-page"},r.a.createElement(Ht.a,{maxWidth:"xs"},r.a.createElement(Bt.a,{spacing:1,justifyContent:"center",style:{minHeight:"100vh"}},r.a.createElement(v.a,{variant:"h5",align:"center",sx:{paddingBottom:"24px"}},"\u041d\u043e\u0432\u044b\u0439 \u0430\u043a\u043a\u0430\u0443\u043d\u0442 \u0441\u043e\u0437\u0434\u0430\u043d"),r.a.createElement(w.a,{variant:"outlined",onClick:function(){e("/login")}},"\u0412\u043e\u0439\u0442\u0438"))))}),qt=n(137),Qt=n(138),$t=n(135),te=function(t){var e=Object(o.useState)(Object(o.useRef)(null)),n=Object(lt.a)(e,2),i=n[0],a=(n[1],Object(o.useState)({edges:{smooth:{enabled:!0,type:"discrete",roundness:.5},color:"#000000",width:.5,arrows:{to:{enabled:!0,scaleFactor:.5}},length:200},manipulation:{enabled:!1,addEdge:function(e,n){console.log("add edge",e),n(e),E(!1),t.network.current.disableEditMode()}},layout:{improvedLayout:!1},nodes:{shapeProperties:{interpolation:!1},shape:"circle",font:"18px Roboto black",labelHighlightBold:!1,size:40,borderWidth:2,color:{background:"#ffffff",border:"#000000",highlight:{border:"#000000",background:"#ffffff"}}},physics:{enabled:!1}})),s=Object(lt.a)(a,2),c=s[0],u=(s[1],r.a.useState(null)),l=Object(lt.a)(u,2),p=l[0],d=l[1],f=function(t){t.preventDefault(),d(null===p?{mouseX:t.clientX-2,mouseY:t.clientY-4}:null)},m=function(){d(null)},h=Object(o.useState)(!1),v=Object(lt.a)(h,2),g=v[0],E=v[1],b=Object(o.useCallback)(function(e){17===e.keyCode&&(g||(console.log("handleUserKeyPress"),t.network.current.addEdgeMode(),E(!0),console.log("--\x3e"+g)))},[g]),y=Object(o.useCallback)(function(e){17===e.keyCode&&g&&(console.log("handleUserKeyUnPress"),t.network.current.disableEditMode(),E(!1),console.log("--\x3e"+g))},[g]),k=Object(o.useState)(Object(o.useRef)(null)),w=Object(lt.a)(k,2);w[0],w[1],new Qt.a([{id:1,content:"item 1",start:"2014-04-20"},{id:2,content:"item 2",start:"2014-04-14"},{id:3,content:"item 3",start:"2014-04-18"},{id:4,content:"item 4",start:"2014-04-16",end:"2014-04-19"},{id:5,content:"item 5",start:"2014-04-25"},{id:6,content:"item 6",start:"2014-04-27",type:"point"}]);Object(o.useEffect)(function(){return window.addEventListener("keydown",b),window.addEventListener("keyup",y),console.log("--"+g),function(){window.removeEventListener("keydown",b),window.removeEventListener("keyup",y)}},[b]);r.a.createRef();Object(o.useLayoutEffect)(function(){i.current&&(t.network.current=new qt.a(i.current,t.data,c),console.log("HERE<-domNode.current")),console.log("HERE<-"),window.addEventListener("contextmenu",function(t){return t.preventDefault()}),t.network.current&&(t.network.current.on("doubleClick",function(e){E(!1),t.onDoubleClick(e)}),t.network.current.on("click",t.onClick1),t.network.current.on("click",t.onClick2),t.network.current.on("click",t.onClick3),t.network.current.on("click",t.onClick4),t.network.current.on("click",t.onClick4),t.network.current.on("dragging",function(){t.network.current.unselectAll()}),t.network.current.on("controlNodeDragging",function(){t.network.current.unselectAll()}))},[i,t.data,t.network,c]);var S=function(){return r.a.createElement("div",{id:"network",style:{height:"100%",width:"100%"},ref:i})};return void 0===t.contextMenu?S():r.a.createElement("div",{onContextMenu:f,style:{height:"100%",width:"100%"}},S(),r.a.createElement($t.a,{open:null!==p,onClose:m,anchorReference:"anchorPosition",anchorPosition:null!==p?{top:p.mouseY,left:p.mouseX}:void 0},t.contextMenu(m,f)))},ee=n(266),ne=n(247),oe={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:400,bgcolor:"background.paper",border:"2px solid #000",boxShadow:24,p:4},re=function(t){var e=o.useState(!1),n=Object(lt.a)(e,2),r=n[0],i=n[1];return Object(o.useEffect)(function(){t.isNonDetermenistic&&(i(t.isNonDetermenistic),t.setIsNonDetermenistic(!1))}),o.createElement("div",null,o.createElement(ne.a,{open:r,onClose:function(){return i(!1)},"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description"},o.createElement(ee.a,{sx:oe},o.createElement(v.a,{id:"modal-modal-title",variant:"h6",component:"h2"},"\u041e\u0448\u0438\u0431\u043a\u0430"),o.createElement(v.a,{id:"modal-modal-description",sx:{mt:2}},"\u041d\u0435\u0434\u0435\u0442\u0435\u0440\u043c\u0435\u043d\u0438\u0437\u043c"))))},ie=function(t){var e=o.useState(!1),n=Object(lt.a)(e,2),r=n[0],i=n[1];return Object(o.useEffect)(function(){t.isNonMinimizable&&(i(t.isNonMinimizable),t.setIsNonMinimizable(!1))}),o.createElement("div",null,o.createElement(ne.a,{open:r,onClose:function(){return i(!1)},"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description"},o.createElement(ee.a,{sx:oe},o.createElement(v.a,{id:"modal-modal-title",variant:"h6",component:"h2"},"\u041e\u0448\u0438\u0431\u043a\u0430"),o.createElement(v.a,{id:"modal-modal-description",sx:{mt:2}},"\u041d\u0435\u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e \u043c\u0438\u043d\u0438\u043c\u0438\u0437\u0440\u043e\u0432\u0430\u0442\u044c"))))},ae=function(t){var e=Object(o.useState)(Object(o.useRef)(null)),n=Object(lt.a)(e,2),i=n[0],a=(n[1],Object(o.useState)({edges:{smooth:{enabled:!0,type:"discrete",roundness:.5},color:"#000000",width:.5,arrows:{to:{enabled:!0,scaleFactor:.5}},length:200},manipulation:{enabled:!1,addEdge:function(e,n){console.log("add edge",e),n(e),E(!1),t.network.current.disableEditMode()}},interaction:{keyboard:!1,dragNodes:!0},layout:{hierarchical:{treeSpacing:200,direction:"LR",parentCentralization:!1,sortMethod:"directed",shakeTowards:"roots"}},nodes:{shapeProperties:{interpolation:!1},shape:"box",font:"18px Roboto black",labelHighlightBold:!1,size:40,borderWidth:2,color:{background:"#ffffff",border:"#000000",highlight:{border:"#000000",background:"#ffffff"}}},physics:{enabled:!1}})),s=Object(lt.a)(a,2),c=s[0],u=(s[1],r.a.useState(null)),l=Object(lt.a)(u,2),p=l[0],d=l[1],f=function(t){t.preventDefault(),d(null===p?{mouseX:t.clientX-2,mouseY:t.clientY-4}:null)},m=function(){d(null)},h=Object(o.useState)(!1),v=Object(lt.a)(h,2),g=v[0],E=v[1],b=Object(o.useCallback)(function(e){17===e.keyCode&&(g||(console.log("handleUserKeyPress"),t.network.current.addEdgeMode(),E(!0),console.log("--\x3e"+g)))},[g]),y=Object(o.useCallback)(function(e){17===e.keyCode&&g&&(console.log("handleUserKeyUnPress"),t.network.current.disableEditMode(),E(!1),console.log("--\x3e"+g))},[g]);Object(o.useEffect)(function(){return window.addEventListener("keydown",b),window.addEventListener("keyup",y),console.log("--"+g),function(){window.removeEventListener("keydown",b),window.removeEventListener("keyup",y)}},[b]),Object(o.useLayoutEffect)(function(){i.current&&(t.network.current=new N.b(i.current,t.data,c),console.log("HERE<-domNode.current")),console.log("HERE<-"),window.addEventListener("contextmenu",function(t){return t.preventDefault()}),t.network.current&&(t.network.current.on("doubleClick",function(e){E(!1),t.onDoubleClick(e)}),t.network.current.on("click",t.onClick1),t.network.current.on("click",t.onClick2),t.network.current.on("click",t.onClick3),t.network.current.on("click",t.onClick4),t.network.current.on("click",t.onClick4),t.network.current.on("dragging",function(){t.network.current.unselectAll()}),t.network.current.on("controlNodeDragging",function(){t.network.current.unselectAll()}))},[i,t.data,t.network,c]);var k=function(){return r.a.createElement("div",{id:"vnc",style:{height:"100%",width:"100%"},ref:i})};return void 0===t.contextMenu?k():r.a.createElement("div",{onContextMenu:f,style:{height:"100%",width:"100%"}},k(),r.a.createElement($t.a,{open:null!==p,onClose:m,anchorReference:"anchorPosition",anchorPosition:null!==p?{top:p.mouseY,left:p.mouseX}:void 0},t.contextMenu(m,f)))},se=(n(186),n(270)),ce=n(253),ue=n(271),le=n(272),pe=n(273),de=n(274),fe=n(275),me=n(276),he=n(277),ve=n(131),ge=n.n(ve),Ee=n(133),be=n.n(Ee);function ye(t,e){return new Promise(function(n,o){var r=dt+"/save/".concat(t.id),i=ft();fetch(r,{method:"DELETE",headers:i}).then(function(t){401==t.status&&e(),t.ok||o(),n()}).catch(function(t){return o(t)})})}function ke(t,e,n){return new Promise(function(o,r){var i=dt+"/save/".concat(t),a=ft();a.set("Content-Type","application/json");var s=JSON.stringify(e);fetch(i,{method:"PUT",headers:a,body:s}).then(function(t){401==t.status&&n(),t.ok||r(),o()}).catch(function(t){return r(t)})})}var we=n(130),Se=n.n(we);function _e(t){return new Promise(function(e,n){var o=dt+"/user",r=ft();r.set("Content-Type","application/json");var i=JSON.stringify(t);fetch(o,{method:"PUT",headers:r,body:i}).then(function(t){return t.ok||n(),t.json()}).then(function(t){return e(t)}).catch(function(t){return n(t)})})}var Ce=n(132),xe=n.n(Ce),Oe=function(t){var e,n=t.user,i=t.onAuthFailed,a=t.changeComputerType,s=t.setUser,l=Object(o.useState)([]),p=Object(lt.a)(l,2),d=p[0],f=p[1],m=Object(o.useState)(!1),h=Object(lt.a)(m,2),g=h[0],E=h[1],b=Object(o.useState)(!1),y=Object(lt.a)(b,2),S=y[0],_=y[1],C=Object(o.useState)(null),x=Object(lt.a)(C,2),O=x[0],P=x[1],N=Object(o.useState)(!1),j=Object(lt.a)(N,2),A=j[0],I=j[1],T=Object(o.useState)(null!==(e=null===n||void 0===n?void 0:n.about)&&void 0!==e?e:""),M=Object(lt.a)(T,2),D=M[0],L=M[1],R=Object(o.useState)(!1),z=Object(lt.a)(R,2),H=z[0],B=z[1],F=Object(o.useState)(null),V=Object(lt.a)(F,2),U=V[0],G=V[1],W=Object(o.useState)(null),J=Object(lt.a)(W,2),K=J[0],Z=J[1],Y=Object(Rt.f)(),X=new Et(i),q=function(){var t=Object(u.a)(c.a.mark(function t(){return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!O){t.next=3;break}return t.next=3,it(O);case 3:return t.next=5,rt();case 5:et();case 6:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}(),Q=function(){var t=Object(u.a)(c.a.mark(function t(e,n){var o;return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,X.getSave({id:e,name:n});case 2:(o=t.sent)&&(a(o.save.type,o.save.graph),Y("/"));case 4:case"end":return t.stop()}},t)}));return function(e,n){return t.apply(this,arguments)}}(),$=function(){var t=Object(u.a)(c.a.mark(function t(){return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(A){t.next=4;break}I(!0),t.next=7;break;case 4:return t.next=6,tt();case 6:I(!1);case 7:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}(),tt=function(){var t=Object(u.a)(c.a.mark(function t(){return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:D!=(null===n||void 0===n?void 0:n.about)&&_e({about:D}).then(function(t){s(t)});case 1:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}(),et=function(){E(!1)},nt=function(){_(!1)},ot=function(){B(!1)},rt=function(){var t=Object(u.a)(c.a.mark(function t(){return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ht(i).then(function(t){return f(t)}).catch(function(){return f([])});case 2:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}(),it=function(){var t=Object(u.a)(c.a.mark(function t(e){var n;return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n={id:e},t.next=3,ye(n,i);case 3:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}(),at=function(){var t=Object(u.a)(c.a.mark(function t(e,n){var o;return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return o={isShared:n},t.next=3,ke(e,o,i);case 3:case"end":return t.stop()}},t)}));return function(e,n){return t.apply(this,arguments)}}();return Object(o.useEffect)(function(){rt()},[]),Object(o.useEffect)(function(){var t;L(null!==(t=null===n||void 0===n?void 0:n.about)&&void 0!==t?t:"")},[n]),n&&r.a.createElement("div",{className:"me-page"},r.a.createElement(bt.a,{open:g,onClose:et},r.a.createElement(yt.a,null,"\u0423\u0434\u0430\u043b\u0435\u043d\u0438\u0435 \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u044f"),r.a.createElement(kt.a,null,r.a.createElement(se.a,null,"\u0412\u044b \u0443\u0432\u0435\u0440\u0435\u043d\u044b, \u0447\u0442\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0443\u0434\u0430\u043b\u0438\u0442\u044c \u0432\u044b\u0431\u0440\u0430\u043d\u043d\u043e\u0435 \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u0435?")),r.a.createElement(kt.a,null,r.a.createElement(w.a,{onClick:function(){return q()}},"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"),r.a.createElement(w.a,{onClick:function(){et()}},"\u041d\u0435 \u0443\u0434\u0430\u043b\u044f\u0442\u044c"))),r.a.createElement(bt.a,{open:S,onClose:nt,maxWidth:"md",fullWidth:!0},r.a.createElement(yt.a,null,"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 \u0434\u043e\u0441\u0442\u0443\u043f\u0430"),r.a.createElement(kt.a,null,r.a.createElement(se.a,null,"\u0414\u043e\u0441\u0442\u0443\u043f\u043d\u043e \u0432\u0441\u0435\u043c \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f\u043c \u043f\u043e \u0441\u0441\u044b\u043b\u043a\u0435. \u0417\u0430\u043a\u0440\u044b\u0442\u044c \u0434\u043e\u0441\u0442\u0443\u043f \u043c\u043e\u0436\u043d\u043e \u0432 \u043f\u0440\u043e\u0444\u0438\u043b\u0435 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f."),r.a.createElement(ce.a,{sx:{mt:2},readOnly:!0,fullWidth:!0,value:"https://spbu-se.github.io/WebAutomataConstructor/#/user/".concat(n.id),endAdornment:r.a.createElement(ue.a,{position:"end"},r.a.createElement(Nt.a,{onClick:function(){navigator.clipboard.writeText("https://spbu-se.github.io/WebAutomataConstructor/#/user/".concat(null===n||void 0===n?void 0:n.id))},edge:"end"},r.a.createElement(Se.a,null)))})),r.a.createElement(kt.a,null,r.a.createElement(w.a,{onClick:function(){return nt()}},"\u041e\u043a"))),r.a.createElement(bt.a,{open:H,onClose:ot,maxWidth:"sm",fullWidth:!0},r.a.createElement(yt.a,null,"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u044f"),r.a.createElement(kt.a,null,r.a.createElement(k.a,{sx:{mt:1},label:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435",fullWidth:!0,size:"small",value:K,onChange:function(t){var e=t.target.value;Z(e)}})),r.a.createElement(At.a,null,r.a.createElement(w.a,{onClick:function(){ke(U,{name:K},function(){}).then(Object(u.a)(c.a.mark(function t(){return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,rt();case 2:ot();case 3:case"end":return t.stop()}},t)})))}},"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"),r.a.createElement(w.a,{onClick:function(){return ot()}},"\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c"))),r.a.createElement(Ht.a,null,r.a.createElement(Bt.a,{spacing:4},r.a.createElement(Bt.a,{spacing:1},r.a.createElement(v.a,{variant:"h5"},"\u0410\u043a\u043a\u0430\u0443\u043d\u0442"),r.a.createElement(Bt.a,null,r.a.createElement(v.a,{variant:"body1"},"\u0418\u043c\u044f \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f: ",n.userName),!A&&r.a.createElement(v.a,{variant:"body1"},"\u041e \u0441\u0435\u0431\u0435: ",n.about),A&&r.a.createElement(k.a,{sx:{mt:1},size:"small",label:"\u041e \u0441\u0435\u0431\u0435",value:D,onChange:function(t){var e=t.target.value;L(e)}})),r.a.createElement(ee.a,null,r.a.createElement(w.a,{size:"small",onClick:function(){return $()}},A?"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c":"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c"))),r.a.createElement(Bt.a,{spacing:1},r.a.createElement(v.a,{variant:"h5"},"\u0421\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u044f"),d.length>0&&r.a.createElement(le.a,null,r.a.createElement(pe.a,null,r.a.createElement(de.a,null,r.a.createElement(fe.a,null,r.a.createElement(me.a,null,"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435"),r.a.createElement(me.a,null,"\u0412\u0440\u0435\u043c\u044f \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f"),r.a.createElement(me.a,null,"\u0412\u0440\u0435\u043c\u044f \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f"),r.a.createElement(me.a,null,"\u041f\u043e\u0434\u0435\u043b\u0438\u0442\u044c\u0441\u044f"),r.a.createElement(me.a,null,"\u041e\u0442\u043a\u0440\u044b\u0442\u044c"),r.a.createElement(me.a,null,"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c"),r.a.createElement(me.a,null,"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"))),r.a.createElement(he.a,null,d.map(function(t){return r.a.createElement(fe.a,{key:t.id},r.a.createElement(me.a,null,t.name),r.a.createElement(me.a,null,new Date(t.createdDateTime).toLocaleString("ru-ru")),r.a.createElement(me.a,null,new Date(t.lastModifiedDateTime).toLocaleString("ru-ru")),r.a.createElement(me.a,null,r.a.createElement(w.a,{size:"small",onClick:function(){return e=t.id,n=t.isShared,at(e,!n).then(rt),void(n||_(!0));var e,n}},t.isShared?"\u0417\u0430\u043a\u0440\u044b\u0442\u044c \u0434\u043e\u0441\u0442\u0443\u043f":"\u041f\u043e\u0434\u0435\u043b\u0438\u0442\u044c\u0441\u044f")),r.a.createElement(me.a,null,r.a.createElement(Nt.a,{onClick:function(){return Q(t.id,t.name)}},r.a.createElement(ge.a,null))),r.a.createElement(me.a,null,r.a.createElement(Nt.a,{onClick:function(){return e=t.id,n=t.name,G(e),Z(n),void B(!0);var e,n}},r.a.createElement(xe.a,null))),r.a.createElement(me.a,null,r.a.createElement(Nt.a,{onClick:function(){return e=t.id,P(e),void E(!0);var e}},r.a.createElement(be.a,null))))})))),0===d.length&&r.a.createElement(Ft.a,{severity:"warning",icon:!1},"\u0421\u043e\u0445\u0440\u0430\u043d\u0451\u043d\u043d\u044b\u0445 \u0432\u044b\u0447\u0438\u0441\u043b\u0435\u0442\u0435\u043b\u0435\u0439 \u0435\u0449\u0451 \u043d\u0435\u0442")))))};function Pe(t){return new Promise(function(e,n){var o=dt+"/user/".concat(t),r=mt(ft());fetch(o,r).then(function(t){return t.ok||n(),t.json()}).then(function(t){return e(t)}).catch(function(t){return n(t)})})}function Ne(t){return new Promise(function(e,n){var o=dt+"/save/user/".concat(t),r=mt(ft());fetch(o,r).then(function(t){return t.ok||n(),t.json()}).then(function(t){return e(t)}).catch(function(t){return n(t)})})}n(187);function je(t){return new Promise(function(e,n){var o=dt+"/save/clone/".concat(t),r=ft();fetch(o,{method:"POST",headers:r}).then(function(t){return t.ok||n(),t.json()}).then(function(t){return e(t)}).catch(function(t){return n(t)})})}var Ae=function(t){var e=t.changeComputerType,n=Object(o.useState)(null),i=Object(lt.a)(n,2),a=i[0],s=i[1],l=Object(o.useState)([]),p=Object(lt.a)(l,2),d=p[0],f=p[1],m=Object(o.useState)(!1),h=Object(lt.a)(m,2),g=h[0],E=h[1],b=Object(o.useState)(null),y=Object(lt.a)(b,2),k=y[0],S=y[1],_=Object(o.useState)(null),C=Object(lt.a)(_,2),x=(C[0],C[1],Object(Rt.g)().userId),O=new Et(function(){}),P=Object(Rt.f)(),N=function(){E(!1)},j=function(){var t=Object(u.a)(c.a.mark(function t(){return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Pe(x).then(function(t){console.log(t),s(t)});case 2:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}(),A=function(){var t=Object(u.a)(c.a.mark(function t(){return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Ne(x).then(function(t){console.log(t),f(t)});case 2:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}(),I=function(){var t=Object(u.a)(c.a.mark(function t(n){return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,je(n).then(function(){var t=Object(u.a)(c.a.mark(function t(n){var o;return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,O.getSave({id:n.id,name:n.name});case 2:(o=t.sent)&&(e(o.save.type,o.save.graph),P("/"));case 4:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}());case 2:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}();return Object(o.useEffect)(function(){j(),A()},[]),a&&r.a.createElement("div",{className:"me-page"},r.a.createElement(bt.a,{open:g,onClose:N},r.a.createElement(yt.a,null,"\u041a\u043b\u043e\u043d\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u044f"),r.a.createElement(kt.a,null,r.a.createElement(se.a,null,"\u041a\u043e\u043f\u0438\u044f \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u044f \u043f\u043e\u044f\u0432\u0438\u0442\u0441\u044f \u0432 \u0441\u043f\u0438\u0441\u043a\u0435 \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u0439. \u0412\u044b \u0441\u043c\u043e\u0436\u0435\u0442\u0435 \u0438\u0437\u043c\u0435\u043d\u044f\u0442\u044c \u0435\u0433\u043e \u043d\u0435\u0437\u0430\u0432\u0438\u0441\u0438\u043c\u043e. \u0425\u043e\u0442\u0438\u0442\u0435 \u043f\u0440\u043e\u0434\u043e\u043b\u0436\u0438\u0442\u044c?")),r.a.createElement(kt.a,null,r.a.createElement(w.a,{onClick:function(){I(k)}},"\u0414\u0430, \u043a\u043b\u043e\u043d\u0438\u0440\u043e\u0432\u0430\u0442\u044c"),r.a.createElement(w.a,{onClick:function(){return N()}},"\u041d\u0435\u0442"))),r.a.createElement(Ht.a,null,r.a.createElement(Bt.a,{spacing:4},r.a.createElement(Bt.a,{spacing:1},r.a.createElement(v.a,{variant:"h5"},"\u0410\u043a\u043a\u0430\u0443\u043d\u0442"),r.a.createElement(Bt.a,null,r.a.createElement(v.a,{variant:"body1"},"\u041e \u0441\u0435\u0431\u0435: ",a.about))),r.a.createElement(Bt.a,{spacing:1},r.a.createElement(v.a,{variant:"h5"},"\u0421\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u044f"),d.length>0&&r.a.createElement(le.a,null,r.a.createElement(pe.a,null,r.a.createElement(de.a,null,r.a.createElement(fe.a,null,r.a.createElement(me.a,null,"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435"),r.a.createElement(me.a,null,"\u0412\u0440\u0435\u043c\u044f \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f"),r.a.createElement(me.a,null,"\u0412\u0440\u0435\u043c\u044f \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f"),r.a.createElement(me.a,null,"\u041a\u043b\u043e\u043d\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435"))),r.a.createElement(he.a,null,d.map(function(t){return r.a.createElement(fe.a,{key:t.id},r.a.createElement(me.a,null,t.name),r.a.createElement(me.a,null,new Date(t.createdDateTime).toLocaleString("ru-ru")),r.a.createElement(me.a,null,new Date(t.lastModifiedDateTime).toLocaleString("ru-ru")),r.a.createElement(me.a,null,r.a.createElement(w.a,{size:"small",onClick:function(){return e=t.id,S(e),void E(!0);var e}},"\u041a\u043b\u043e\u043d\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0441\u0435\u0431\u0435")))})))),0===d.length&&r.a.createElement(Ft.a,{severity:"warning",icon:!1},"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u0435\u0449\u0451 \u043d\u0435 \u043f\u043e\u0434\u0435\u043b\u0438\u043b\u0441\u044f \u0441\u0432\u043e\u0438\u043c\u0438 \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u044f\u043c\u0438")))))},Ie=r.a.createContext(null),Te={init:function(){},nfaToDfa:function(){},minimizeDfa:function(){},mooreToMealy:function(){},mealyToMoore:function(){}},Me={changerByStack:function(){},run:function(){},step:function(){},reset:function(){}},De=function(t){var e;return"tm"===t.computerType&&t.wasComputerResetted?r.a.createElement("div",{className:"app__mem_ribbon"},null===(e=t.mem)||void 0===e?void 0:e.map(function(e,n){var o,i;return r.a.createElement("div",{className:"app__mem_cell",style:{border:"".concat(n===t.ptr?"#0041d0":"#000000"," 2px solid")}},Math.abs(Math.abs(n)-Math.abs(t.ptr))<=5?r.a.createElement("div",{ref:t.memRef}):r.a.createElement("div",null),e,null===(o=t.memRef)||void 0===o?void 0:null===(i=o.current)||void 0===i?void 0:i.scrollIntoView({behavior:"smooth"}))})):r.a.createElement("div",null)},Le=function(t){Object(d.a)(n,t);var e=Object(f.a)(n);function n(t){var o;return Object(l.a)(this,n),(o=e.call(this,t)).memRef=r.a.createRef(),o.network=r.a.createRef(),o.networkTST=r.a.createRef(),o.setIsNonDetermenistic=function(t){return o.setState({errIsNonDetermenistic:t})},o.setIsNonMinimizable=function(t){return o.setState({errIsNonMinimizable:t})},o.lastNodeId=0,o.subscribeToShortcuts=function(){document.addEventListener("keydown",function(t){"s"===t.key&&t.ctrlKey&&(t.preventDefault(),o.openSavePopout())})},o.openSavePopout=function(){o.setState({savePopoutOpen:!0})},o.closeSavePopout=function(){o.setState({savePopoutOpen:!1})},o.openWelcomePopout=function(){o.setState({welcomePopoutOpen:!0})},o.closeWelcomePopout=function(){o.setState({welcomePopoutOpen:!1})},o.logout=function(){document.cookie='jwt=""; path=/; secure; max-age=-1',o.setState({isLogin:!1}),o.updateCurrentUser()},o.updateCurrentUser=Object(u.a)(c.a.mark(function t(){return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,new Promise(function(t,e){var n=dt+"/user",o=H("jwt");o||e();var r=new Headers;r.set("Authorization","Bearer ".concat(o));var i=mt(r);fetch(n,i).then(function(t){return t.ok||e(),t.json()}).then(function(e){return t(e)}).catch(function(t){return e(t)})}).then(function(t){return o.setState({user:t})}).catch(function(){return o.setState({user:null})});case 2:case"end":return t.stop()}},t)})),o.setUser=function(t){o.setState({user:t})},o.updateGraph=function(){D(o.state.elements,o.state.computerType)},o.changeNodeLabel=function(t,e){o.state.elements.nodes.forEach(function(n){if(n.id===t){var r=e.split("").filter(function(t){return" "!==t&&"\n"!==t}).join("").split("|"),i=void 0!==r[1]?r[1]:"";o.state.elements.nodes.update({id:n.id,label:e,output:i})}}),o.updateGraph()},o.changeStateIsAdmit=function(t,e){o.state.elements.nodes.forEach(function(n){n.id===t&&o.state.elements.nodes.update({id:n.id,isAdmit:e})}),o.updateGraph()},o.changeStateIsInitial=function(t,e){o.state.elements.nodes.forEach(function(n){n.id===t&&o.state.elements.nodes.update({id:n.id,isInitial:e})}),o.updateGraph()},o.changeStateIsCurrent=function(t,e){o.state.elements.nodes.forEach(function(t){t.isCurrent&&o.state.elements.nodes.update({id:t.id,isCurrent:!1})}),o.state.elements.nodes.forEach(function(n){t.includes(n.id)&&o.state.elements.nodes.update({id:n.id,isCurrent:e})}),o.updateGraph()},o.createNode=function(t){o.lastNodeId++;var e={id:o.lastNodeId,label:"S"+o.lastNodeId,x:t.pointer.canvas.x,y:t.pointer.canvas.y,isAdmit:!1,isInitial:!1,isCurrent:!1};o.state.elements.nodes.add(e)},o.lastHistNodeId=0,o.createHistNode=function(t,e,n,r,i){o.lastHistNodeId++;var a=r?"#0041d0":n?"#ff0072":"#000000",s=i?"#ffff55":"#ffffff",c={id:o.lastHistNodeId,idd:t,label:e,isAdmit:n,isInitial:r,isCurrent:i,color:{background:s,border:a,highlight:{border:a,background:s}}};o.state.treeElems.nodes.add(c)},o.createHistEdge=function(t,e,n){var r=new Set([[{title:n}]]);o.state.treeElems.edges.add({from:t,to:e,transitions:r,label:n})},o.historyEndRef=r.a.createRef(),o.getLastHistNodeId=function(){return o.lastHistNodeId},o.resetHistTree=function(){for(var t=0;t<=o.lastHistNodeId;t++)o.state.treeElems.nodes.remove(t);o.state.treeElems.edges.forEach(function(t){return o.state.treeElems.edges.remove(t.id)}),o.lastHistNodeId=0},o.selectNode=function(t){var e=t.nodes,n=o.state.elements.nodes.get(e);o.setState({selectedNode:n[0]})},o.deselectNode=function(t){0===t.nodes.length&&o.setState({selectedNode:null})},o.deleteNode=function(t){o.state.elements.nodes.remove(t);var e=[];o.state.elements.edges.forEach(function(n){n.from!==t&&n.to!==t||e.push(n.id)}),o.state.elements.edges.remove(e)},o.selectEdge=function(t){var e=t.edges,n=o.state.elements.edges.get(e);o.setState({selectedEdge:n[0]}),console.log("click1  = selectEdge")},o.deselectEdge=function(t){0===t.edges.length&&o.setState({selectedEdge:null})},o.changeEdgeTransition=function(t,e){o.state.elements.edges.update({id:t,label:T(e,o.state.computerType),transitions:e})},o.deleteEdge=function(t){o.state.elements.edges.remove(t)},o.updMem=function(t,e){o.setState({mem:t,ptr:e})},o.NFAContextMenu=function(t,e){return r.a.createElement("div",{onContextMenu:t},r.a.createElement("div",{onClick:e},r.a.createElement("button",{className:"button-context-menu",onClick:Me.step},"\u0428\u0430\u0433")),r.a.createElement("div",{onClick:e},r.a.createElement("button",{className:"button-context-menu",onClick:Me.run},"\u0417\u0430\u043f\u0443\u0441\u043a")),r.a.createElement("div",{onClick:e},r.a.createElement("button",{className:"button-context-menu",onClick:Me.reset},"\u0421\u0431\u0440\u043e\u0441")),r.a.createElement("div",{onClick:e},r.a.createElement("button",{className:"button-context-menu",onClick:Te.nfaToDfa},"\u041d\u041a\u0410->\u0414\u041a\u0410")),r.a.createElement("div",{onClick:e},r.a.createElement("button",{className:"button-context-menu",onClick:o.treeVisible},o.treeContextInfo())))},o.treeVisible=function(){return o.setState({showTree:!o.state.showTree}),!o.state.showTree},o.treeContextInfo=function(){return(o.state.showTree?"\u0417\u0430\u043a\u0440\u044b\u0442\u044c":"\u041e\u0442\u043a\u0440\u044b\u0442\u044c")+" \u0434\u0435\u0440\u0435\u0432\u043e \u0432\u044b\u0447\u0438\u0441\u043b\u0435\u043d\u0438\u0439"},o.DFAContextMenu=function(t,e){return r.a.createElement("div",{onContextMenu:t},r.a.createElement("div",{onClick:e},r.a.createElement("button",{className:"button-context-menu",onClick:Me.step},"\u0428\u0430\u0433")),r.a.createElement("div",{onClick:e},r.a.createElement("button",{className:"button-context-menu",onClick:Me.run},"\u0417\u0430\u043f\u0443\u0441\u043a")),r.a.createElement("div",{onClick:e},r.a.createElement("button",{className:"button-context-menu",onClick:Me.reset},"\u0421\u0431\u0440\u043e\u0441")),r.a.createElement("div",{onClick:e},r.a.createElement("button",{className:"button-context-menu",onClick:Te.minimizeDfa},"\u041c\u0438\u043d\u0438\u043c\u0438\u0437\u0440\u043e\u0432\u0430\u0442\u044c")),r.a.createElement("div",{onClick:e},r.a.createElement("button",{className:"button-context-menu",onClick:o.treeVisible},o.treeContextInfo())))},o.MealyContextMenu=function(t,e){return r.a.createElement("div",{onContextMenu:t},r.a.createElement("div",{onClick:e},r.a.createElement("button",{className:"button-context-menu",onClick:Me.step},"\u0428\u0430\u0433")),r.a.createElement("div",{onClick:e},r.a.createElement("button",{className:"button-context-menu",onClick:Me.run},"\u0417\u0430\u043f\u0443\u0441\u043a")),r.a.createElement("div",{onClick:e},r.a.createElement("button",{className:"button-context-menu",onClick:Me.reset},"\u0421\u0431\u0440\u043e\u0441")),r.a.createElement("div",{onClick:e},r.a.createElement("button",{className:"button-context-menu",onClick:Te.mealyToMoore},"\u041c\u0443\u0440")),r.a.createElement("div",{onClick:e},r.a.createElement("button",{className:"button-context-menu",onClick:o.treeVisible},o.treeContextInfo())))},o.MooreContextMenu=function(t,e){return r.a.createElement("div",{onContextMenu:t},r.a.createElement("div",{onClick:e},r.a.createElement("button",{className:"button-context-menu",onClick:Me.step},"\u0428\u0430\u0433")),r.a.createElement("div",{onClick:e},r.a.createElement("button",{className:"button-context-menu",onClick:Me.run},"\u0417\u0430\u043f\u0443\u0441\u043a")),r.a.createElement("div",{onClick:e},r.a.createElement("button",{className:"button-context-menu",onClick:Me.reset},"\u0421\u0431\u0440\u043e\u0441")),r.a.createElement("div",{onClick:e},r.a.createElement("button",{className:"button-context-menu",onClick:Te.mooreToMealy},"\u041c\u0438\u043b\u0438")),r.a.createElement("div",{onClick:e},r.a.createElement("button",{className:"button-context-menu",onClick:o.treeVisible},o.treeContextInfo())))},o.PDAContextMenu=function(t,e){return r.a.createElement("div",{onContextMenu:t},r.a.createElement("div",{onClick:e},r.a.createElement("button",{className:"button-context-menu",onClick:Me.step},"\u0428\u0430\u0433")),r.a.createElement("div",{onClick:e},r.a.createElement("button",{className:"button-context-menu",onClick:Me.run},"\u0417\u0430\u043f\u0443\u0441\u043a")),r.a.createElement("div",{onClick:e},r.a.createElement("button",{className:"button-context-menu",onClick:Me.reset},"\u0421\u0431\u0440\u043e\u0441")),r.a.createElement("div",{onClick:e},r.a.createElement("button",{className:"button-context-menu",onClick:Me.changerByStack},o.state.byEmptyStack?"\u041f\u043e \u0441\u0442\u0435\u043a\u0443":"\u041f\u043e \u0441\u043e\u0441\u0442\u043e\u044f\u043d\u0438\u044e")),r.a.createElement("div",{onClick:e},r.a.createElement("button",{className:"button-context-menu",onClick:o.treeVisible},o.treeContextInfo())))},o.AnotherContextMenu=function(t,e){return r.a.createElement("div",{onContextMenu:t},r.a.createElement("div",{onClick:e},r.a.createElement("button",{className:"button-context-menu",onClick:Me.step},"\u0428\u0430\u0433")),r.a.createElement("div",{onClick:e},r.a.createElement("button",{className:"button-context-menu",onClick:Me.run},"\u0417\u0430\u043f\u0443\u0441\u043a")),r.a.createElement("div",{onClick:e},r.a.createElement("button",{className:"button-context-menu",onClick:Me.reset},"\u0421\u0431\u0440\u043e\u0441")),r.a.createElement("div",{onClick:e},r.a.createElement("button",{className:"button-context-menu",onClick:o.treeVisible},o.treeContextInfo())))},o.ContextMenu=function(t){switch(t){case"nfa":case"nfa-eps":return o.NFAContextMenu;case"dfa":return o.DFAContextMenu;case"mealy":case"dmealy":return o.MealyContextMenu;case"moore":case"dmoore":return o.MooreContextMenu;case"pda":case"dpda":return o.PDAContextMenu;default:return o.AnotherContextMenu}},o.state={computerType:null,selectedNode:null,selectedEdge:null,inEdgeMode:!1,elements:{nodes:new N.a,edges:new N.a},treeElems:{nodes:new N.a,edges:new N.a},options:{edges:{smooth:{enabled:!0,type:"discrete",roundness:.5},length:200},nodes:{shape:"box",font:"18px Roboto black",labelHighlightBold:!1,widthConstraint:40,color:"red",heightConstraint:40},physics:{enabled:!1}},initiallyStabilized:!1,popout:null,savePopoutOpen:!1,welcomePopoutOpen:!1,isLogin:!0,mem:void 0,ptr:void 0,wasComputerResetted:!1,byEmptyStack:!1,errIsNonDetermenistic:!1,errIsNonMinimizable:!1,showTree:!1,History:function(){return r.a.createElement("div",null)},user:null},o}return Object(p.a)(n,[{key:"componentDidMount",value:function(){var t=Object(u.a)(c.a.mark(function t(){return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.updateCurrentUser();case 2:this.updateGraph(),this.subscribeToShortcuts(),this.openWelcomePopout();case 5:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},{key:"render",value:function(){var t=this;return r.a.createElement(Lt.a,null,r.a.createElement(Rt.c,null,r.a.createElement(Rt.a,{path:"/login",element:r.a.createElement(Ut,null)}),r.a.createElement(Rt.a,{path:"/register",element:r.a.createElement(Wt,null)}),r.a.createElement(Rt.a,{path:"/registered",element:r.a.createElement(Xt,null)}),r.a.createElement(Rt.a,{path:"/success-login",element:r.a.createElement(Yt,{updateCurrentUser:this.updateCurrentUser})}),r.a.createElement(Rt.a,{path:"/me",element:r.a.createElement(Oe,{user:this.state.user,onAuthFailed:this.logout,changeComputerType:function(e,n){var o=n||z[e].defaultGraph;L(o).nodes.forEach(function(t){return console.log(t)}),t.lastNodeId=o.nodes.length,t.setState({computerType:e,elements:L(o)},function(){return t.updateGraph()})},setUser:this.setUser})}),r.a.createElement(Rt.a,{path:"/user/:userId",element:r.a.createElement(Ae,{changeComputerType:function(e,n){var o=n||z[e].defaultGraph;L(o).nodes.forEach(function(t){return console.log(t)}),t.lastNodeId=o.nodes.length,t.setState({computerType:e,elements:L(o)},function(){return t.updateGraph()})}})}),r.a.createElement(Rt.a,{path:"/",element:r.a.createElement(Ie.Provider,{value:this.state.computerType},r.a.createElement("div",{className:"app"},r.a.createElement(jt,{open:this.state.welcomePopoutOpen,onClose:this.closeWelcomePopout,onAuthFailed:this.logout,changeComputerType:function(e,n){var o=n||z[e].defaultGraph;console.log(o),console.log(o.nodes),L(o).nodes.forEach(function(t){return console.log(t)}),t.lastNodeId=o.nodes.length,t.setState({computerType:e,elements:L(o)},function(){return t.updateGraph()})}}),this.state.popout,r.a.createElement(Dt,{open:this.state.savePopoutOpen,onClose:this.closeSavePopout,isLogin:this.state.isLogin,onAuthFailed:this.logout,graph:R(this.state.elements),computerType:this.state.computerType}),r.a.createElement("div",{className:"history-container"},this.state.History()),r.a.createElement("div",{className:"hint-container"},r.a.createElement(h.a,{className:"hint",variant:"outlined"},"Ctrl+S \u2014 \u0441\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \u0430\u0432\u0442\u043e\u043c\u0430\u0442"),r.a.createElement(h.a,{className:"hint",variant:"outlined"},"\u0423\u0434\u0435\u0440\u0436\u0438\u0432\u0430\u0439\u0442\u0435 Ctrl \u0447\u0442\u043e\u0431\u044b \u0441\u043e\u0437\u0434\u0430\u0442\u044c \u0440\u0435\u0431\u0440\u043e"),r.a.createElement(h.a,{className:"hint",variant:"outlined"},"\u0414\u0432\u043e\u0439\u043d\u043e\u0435 \u043d\u0430\u0436\u0430\u0442\u0438\u0435 \u0447\u0442\u043e\u0431\u044b \u0441\u043e\u0437\u0434\u0430\u0442\u044c \u0432\u0435\u0440\u0448\u0438\u043d\u0443"),r.a.createElement(h.a,{className:"hint",variant:"outlined"},"\u041f\u041a\u041c \u0434\u043b\u044f \u043e\u0442\u043a\u0440\u044b\u0442\u0438\u044f \u043a\u043e\u043d\u0442\u0435\u043a\u0441\u0442\u043d\u043e\u0433\u043e \u043c\u0435\u043d\u044e")),r.a.createElement(re,{isNonDetermenistic:this.state.errIsNonDetermenistic,setIsNonDetermenistic:this.setIsNonDetermenistic}),r.a.createElement(ie,{isNonMinimizable:this.state.errIsNonMinimizable,setIsNonMinimizable:this.setIsNonMinimizable}),r.a.createElement(De,{computerType:this.state.computerType,wasComputerResetted:this.state.wasComputerResetted,mem:this.state.mem,ptr:this.state.ptr,memRef:this.memRef}),r.a.createElement(Zt,{onMenuButtonClicked:this.openWelcomePopout,onSaveButtonClicked:this.openSavePopout,onLogoutButtonClicked:this.logout,isLogin:this.state.isLogin}),r.a.createElement("div",{className:"field__container"},r.a.createElement(te,{nodes:this.state.elements.nodes,edges:this.state.elements.edges,data:this.state.elements,onDoubleClick:this.createNode,onClick1:this.selectEdge,onClick2:this.selectNode,onClick3:this.deselectNode,onClick4:this.deselectEdge,network:this.network,contextMenu:this.ContextMenu(this.state.computerType)})),this.state.showTree?r.a.createElement("div",{className:"eval-tree"},r.a.createElement(ae,{nodes:this.state.treeElems.nodes,edges:this.state.treeElems.edges,data:this.state.treeElems,onDoubleClick:this.createNode,onClick1:this.selectEdge,onClick2:this.selectNode,onClick3:this.deselectNode,onClick4:this.deselectEdge,network:this.networkTST,contextMenu:this.ContextMenu(this.state.computerType)})):r.a.createElement("div",null),r.a.createElement("div",{className:"app__right-menu"},r.a.createElement(C,{node:this.state.selectedNode,changeNodeLabel:this.changeNodeLabel,changeStateIsAdmit:this.changeStateIsAdmit,changeStateIsInitial:this.changeStateIsInitial,deleteNode:this.deleteNode,reinitComputer:Te.init}),r.a.createElement(U,{edge:this.state.selectedEdge,changeEdgeTransitions:this.changeEdgeTransition,deleteEdge:this.deleteEdge,computerType:this.state.computerType,reinitComputer:Te.init}),r.a.createElement(ut,{updMem:this.updMem,elements:this.state.elements,treeElems:this.state.treeElems,createHistNode:this.createHistNode,byEmptyStack:this.state.byEmptyStack,createHistEdge:this.createHistEdge,getLastHistNodeId:this.getLastHistNodeId,resetHistTree:this.resetHistTree,changeStateIsCurrent:this.changeStateIsCurrent,network:this.network,changerStack:Me.changerByStack,setInit:function(t){return Te.init=t},setNfaToDfa:function(t){return Te.nfaToDfa=t},setMinimizeDfa:function(t){return Te.minimizeDfa=t},setMooreToMealy:function(t){return Te.mooreToMealy=t},setMealyToMoore:function(t){return Te.mealyToMoore=t},updateElements:function(e){return t.setState({elements:e},function(){return t.updateGraph()})},setComputerType:function(e){return t.setState({computerType:e})},setResettedStatus:function(e){return t.setState({wasComputerResetted:e})},setByEmptyStack:function(e){return t.setState({byEmptyStack:e})},setChangerByStack:function(t){return Me.changerByStack=t},setRun:function(t){return Me.run=t},setStep:function(t){return Me.step=t},setReset:function(t){return Me.reset=t},setHistory:function(e){return t.setState({History:e},function(){var e,n;return null===(e=t.historyEndRef)||void 0===e?void 0:null===(n=e.current)||void 0===n?void 0:n.scrollIntoView({behavior:"smooth"})})},historyEndRef:this.historyEndRef,setIsNonDetermenistic:this.setIsNonDetermenistic,setIsNonMinimizable:this.setIsNonMinimizable,treeContextInfo:this.treeContextInfo,treeVisible:this.treeVisible}))))})))}}]),n}(r.a.Component);a.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(Le,null)),document.getElementById("root"))},29:function(t,e,n){"use strict";e.__esModule=!0,function(t){t[t.L=0]="L",t[t.R=1]="R"}(e.Move||(e.Move={}))},43:function(t,e,n){"use strict";var o=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();e.__esModule=!0;var r=function(t){function e(){var n=t.call(this)||this;return n.name="NonDeterministic",Object.setPrototypeOf(n,e.prototype),n}return o(e,t),e}(Error);e.NonDeterministic=r;var i=function(t){function e(){var n=t.call(this)||this;return n.name="NonMinimizable",Object.setPrototypeOf(n,e.prototype),n}return o(e,t),e}(Error);e.NonMinimizable=i},68:function(t,e,n){"use strict";var o=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),r=this&&this.__assign||function(){return(r=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)};e.__esModule=!0;var i=n(17),a=n(114),s=n(101),c=function(t){function e(e,n,o,r){var s=t.call(this,e,n)||this;return s.stack=new a.Stack,s.setInput=function(t){s.input=[],t.forEach(function(t){s.input.push({idLogic:s.alphabet.get(t),value:t})}),s.restart()},s.haveEpsilon=function(){return void 0!==s.epsId},s.getStartStatements=function(){return s.curPosition.map(function(t){var e,n=t.stmt;return n.stack=null===(e=t.stack)||void 0===e?void 0:e.getStorage(),n})},s.byEmptyStackAdmt=function(t){s.admitByEmptyStack=t},s.treeHist=[],s.pdaStep=function(){var t,e=s._step(s.counterSteps,s.alphabet.get(null===(t=s.input[s.counterSteps])||void 0===t?void 0:t.value),s.historiStep,[],[]);return s.counterSteps=e.counter,s.historiStep=e.history,s.treeHist=e.tree?e.tree:[],e},s.pdaRun=function(){s.historiRun=[],s.counterStepsForResult=0;for(var t=[],e=[],n=0;n<s.input.length-1;n++){var o=s._step(s.counterStepsForResult,s.alphabet.get(s.input[s.counterStepsForResult].value),s.historiRun,t,[]);s.counterStepsForResult=o.counter,s.historiRun=o.history,e.push({byEpsPred:o.byEpsPred,byLetter:o.byLetter,byEpsAfter:o.byEpsAfter})}var r=s._step(s.counterStepsForResult,s.alphabet.get(s.input[s.counterStepsForResult].value),s.historiRun,t,[]);e.push({byEpsPred:r.byEpsPred,byLetter:r.byLetter,byEpsAfter:r.byEpsAfter});var i={nodes:r.nodes,counter:r.counter,isAdmit:r.isAdmit,history:r.history,histTrace:e};return console.log("ret.histTrace"),console.log(i.histTrace),console.log("ret.histTrace"),i},s.step=s.pdaStep,s.run=s.pdaRun,s._step=function(t,e,n,o,r){var i=[],a=[],c=[],u=[],l=function(){s.curPosition=[],u.forEach(function(t){return s.curPosition.push(t)}),u=[]},p=function(){s.curPosition.forEach(function(t){var e,n=s.epsilonStep(t.stmt.idLogic,null===(e=t.stack)||void 0===e?void 0:e.peek(),t.stack,o);null===n||void 0===n||n.forEach(function(t){return u.push(t)})})},d=function(){var t=new Map,e=[];s.curPosition.forEach(function(n){var o={stmt:n.stmt,stack:n.stack};void 0===t.get(JSON.stringify(o))&&(e.push(n),t.set(JSON.stringify(o),n))}),s.curPosition=[],e.forEach(function(t){return s.curPosition.push(t)})};return void 0!==s.epsId&&(p(),l(),d(),s.toNodes(s.curPosition).forEach(function(t){return i.push(t)})),t<s.input.length?(s.curPosition.forEach(function(t){s.letterStep(e,t.stmt.idLogic,t.stack.peek(),t.stack,o).forEach(function(t){return u.push(t)})}),l(),d(),s.toNodes(s.curPosition).forEach(function(t){return c.push(t)}),void 0!==s.epsId&&(p(),l(),d(),s.toNodes(s.curPosition).forEach(function(t){return a.push(t)})),d(),n.push({nodes:s.toNodes(s.curPosition),by:s.input[t].value}),t++,s.treeHist.push(o),r.push({byEpsPred:i,byEpsAfter:a,byLetter:c}),{nodes:s.toNodes(s.curPosition),counter:t,isAdmit:s.haveAdmitting(s.curPosition),history:n,tree:s.treeHist,byEpsPred:i,byEpsAfter:a,byLetter:c,histTrace:[]}):(d(),s.treeHist.push(o),r.push({byEpsPred:i,byEpsAfter:a,byLetter:c}),{nodes:s.toNodes(s.curPosition),counter:t,isAdmit:s.haveAdmitting(s.curPosition),history:n,tree:s.treeHist,byEpsPred:i,byEpsAfter:a,byLetter:c,histTrace:[]})},s.restart=function(){s.counterSteps=0,s.historiStep=[],s.curPosition=[],s.treeHist=[],s.startStatements.forEach(function(t){var e=new a.Stack;e.push(i.BOTTOM),s.curPosition.push({stmt:s.statements.get(t.id),stack:e})})},s.admitByEmptyStack=r,s.epsId=s.alphabet.get(i.EPS),s.stack.push(i.BOTTOM),s.curPosition=[],s.treeHist=[],n.forEach(function(t){var e=new a.Stack;e.push(i.BOTTOM),s.curPosition.push({stmt:s.statements.get(t.id),stack:e})}),s.setInput(o),s.epsId&&s.curPosition.forEach(function(t){s.cycleEps(t.stmt.idLogic,t.stack)}),s}return o(e,t),e.prototype.copyPushList=function(t){var e,n=[];return null===(e=t.stackPush)||void 0===e||e.forEach(function(t){return n.push(t)}),n},e.prototype.pushReverse=function(t,e){t.reverse().forEach(function(t){e.push(t)})},e.prototype.pushTopToNewStack0=function(t,e){t.pop();var n=this.copyPushList(e);this.pushReverse(n,t)},e.permute0=function(t){var e=s.cloneDeep(t);e=e.sort(function(t,e){return t.stackDown&&e.stackDown?t.stackDown<e.stackDown?-1:t.stackDown>e.stackDown?1:0:0});for(var n=[],o=[],r=e[0].stackDown,i=0;i<e.length;i++)e[i].stackDown===r?o.push(e[i]):(n.push(o),r=e[i].stackDown,(o=[]).push(e[i]));n.push(o);var a=[];return function t(e,o,r){if(e<n.length)for(var i=0;i<n[e].length;i++){var c=s.cloneDeep(r);c.push(n[e][i]),t(e+1,0,c)}else a.push(r)}(0,0,[]),a},e.permute=function(t){for(var e,n,o=t.length,r=[t.slice()],i=new Array(o).fill(0),a=1;a<o;)i[a]<a?(e=a%2&&i[a],n=t[a],t[a]=t[e],t[e]=n,i[a]++,a=1,r.push(t.slice())):(i[a]=0,a++);return r},e.prototype.rmRepetitions=function(t,e,n,o,r){var i;i=JSON.stringify(e),void 0===t.get(i)&&(n.push({stmt:this.statements.get(o),stack:r}),t.set(JSON.stringify({stmt:this.statements.get(o),stack:r}),{stmt:this.statements.get(o),stack:r}))},e.prototype.cycleEps=function(t,n){var o=this,r=new Map,s=[],c=[];this.cellMatrix(t,this.epsId).forEach(function(){return c.push(!1)});var u=void 0!==this.cellMatrix(t,this.epsId)[0]?e.permute0(this.cellMatrix(t,this.epsId)):[this.cellMatrix(t,this.epsId)];return u.forEach(function(e){for(var u=0;u<c.length;u++)c[u]=!1;!function t(e,n,u,l){c[n]=!0,e.forEach(function(n,p){if(n.idLogic===u)if(n.stackDown===l.peek()){var d=l.cpyTo(new a.Stack);o.matchPushEpsVal(n,d),o.rmRepetitions(r,{stmt:o.statements.get(u),stack:d},s,u,d),c[p]||t(e,p,u,d)}else n.stackDown===i.EPS&&(d=l.cpyTo(new a.Stack),o.matchDownEpsVal(n,d),o.rmRepetitions(r,{stmt:o.statements.get(u),stack:d},s,u,d),c[p]||t(e,p,u,d))})}(e,0,t,n)}),s},e.prototype.epsilonStep=function(t,e,n,o){var r=this;if(void 0!==this.epsId){for(var s=[],c=0;c<this.statements.size;c++)s.push(!1);var u=function t(e,n,o,c){r.cycleEps(e,n).forEach(function(t){c.push({idLogic:e,top:t.stack})}),c.push({idLogic:e,top:n}),s[e]=!0;for(var u=0;u<r.matrix[e][r.epsId].length;u++)if(!s[r.cellMatrix(e,r.epsId)[u].idLogic])switch(r.cellMatrix(e,r.epsId)[u].stackDown){case o:var l=n.cpyTo(new a.Stack);r.matchPushEpsVal(r.cellMatrix(e,r.epsId)[u],l),t(r.cellMatrix(e,r.epsId)[u].idLogic,l,l.peek(),c);break;case i.EPS:l=n.cpyTo(new a.Stack),r.matchDownEpsVal(r.cellMatrix(e,r.epsId)[u],l),t(r.cellMatrix(e,r.epsId)[u].idLogic,l,l.peek(),c)}return c}(t,n,e,[]),l=[];for(c=0;c<u.length;c++){var p=this.statements.get(this.nodes[u[c].idLogic].id);l.push({stmt:p,stack:u[c].top,from:this.nodes[t],cur:this.nodes[p.idLogic],by:i.EPS,oldStack:n,stackDown:e}),o.push({by:i.EPS,from:this.nodes[t],value:this.nodes[p.idLogic]})}return l}},e.prototype.matchPushEpsVal=function(t,e){if(t.stackPush[0]===i.EPS){if(1!==t.stackPush.length)throw Error("pushing list should be consist by [EPS] for 'pop'");e.pop()}else this.pushTopToNewStack0(e,t)},e.prototype.matchDownEpsVal=function(t,e){if(t.stackPush[0]===i.EPS&&1!==t.stackPush.length)throw Error("pushing list should be consist by [EPS] for 'pop'");if(t.stackPush[0]!==i.EPS){var n=this.copyPushList(t);this.pushReverse(n,e)}},e.prototype.letterStep=function(t,e,n,o,r){var s=this,c=[],u=function(t){var e;return s.alphabet.forEach(function(n,o){t===n&&(e=o)}),e};return this.cellMatrix(e,t).forEach(function(l){switch(l.stackDown){case n:var p=o.cpyTo(new a.Stack);s.matchPushEpsVal(l,p),c.push({stmt:s.statements.get(l.id),stack:p,from:s.nodes[e],cur:s.nodes[l.idLogic],by:u(t),oldStack:o,stackDown:n}),r.push({by:u(t),from:s.nodes[e],value:s.nodes[l.idLogic]});break;case i.EPS:p=o.cpyTo(new a.Stack);s.matchDownEpsVal(l,p),c.push({stmt:s.statements.get(l.id),stack:p,from:s.nodes[e],cur:s.nodes[l.idLogic],by:u(t),oldStack:o,stackDown:i.EPS}),r.push({by:u(t),from:s.nodes[e],value:s.nodes[l.idLogic]})}}),c},e.prototype.isDeterministic=function(){var t=!0;return this.matrix.forEach(function(e){return e.forEach(function(e){var n=e[0],o=e.reduce(function(t,e){return t||e.stackDown===n.stackDown},!1);e.length>1&&o&&(t=!1)})}),t&&!this.haveEpsilon()},e.prototype.haveAdmitting=function(t){var e=!1;return!1===this.admitByEmptyStack||void 0===this.admitByEmptyStack?(t.forEach(function(t){t.stmt.isAdmit&&(e=!0)}),e):(t.forEach(function(t){0===t.stack.size()&&(e=!0)}),e)},e.prototype.toNodes=function(t){var e=this,n=[];return t.forEach(function(t){var o,i,a={id:t.from.id,isAdmit:t.from.isAdmit,stack:t.oldStack?t.oldStack.getStorage():void 0,move:null===(o=t.from)||void 0===o?void 0:o.move,output:null===(i=t.from)||void 0===i?void 0:i.output},s=r(r({},e.nodes[t.stmt.idLogic]),{stack:t.stack.getStorage(),from:a,cur:t.cur,by:t.by,oldStack:t.oldStack.getStorage(),stackDown:t.stackDown});n.push(s)}),n},e}(i.Computer);e.PDA=c;!function(){function t(t){void 0===t&&(t=1/0),this.capacity=t,this.storage=[]}t.prototype.enqueue=function(t){if(this.size()===this.capacity)throw Error("Queue has reached max capacity, you cannot add more items");this.storage.push(t)},t.prototype.dequeue=function(){return this.storage.shift()},t.prototype.size=function(){return this.storage.length},t.prototype.getStorage=function(){return this.storage}}();var u=function(){function t(){this.table=new Map,this.set=[]}return t.prototype.normalize=function(t){var e=s.cloneDeep(t);return e=e.sort()},t.prototype.getItter=function(t){if(!this.has(t))throw Error;var e=0,n=this.normalize(t);return this.set.forEach(function(t,o){JSON.stringify(n)===JSON.stringify(t)&&(e=o)}),e},t.prototype.has=function(t){var e=this.normalize(t),n=JSON.stringify(e);return this.table.has(n)},t.prototype.myForEach=function(t){this.set.forEach(function(e,n){t(e,n)})},t.prototype.add=function(t){var e=this.normalize(t),n=JSON.stringify(e);this.table.has(n)||(this.table.set(n,e),this.set.push(e))},t.prototype.size=function(){return this.set.length},t.prototype.getNth=function(t){return this.set[t]},t.prototype.getIter=function(t){var e=this.normalize(t),n=JSON.stringify(e),o=0;return this.set.forEach(function(t,e){JSON.stringify(t)===n&&(o=e)}),o},t.prototype.getStorage=function(){return this.set},t}();e.ImSet=u},82:function(t,e,n){"use strict";var o=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),r=this&&this.__assign||function(){return(r=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},i=this&&this.__spreadArrays||function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var o=Array(t),r=0;for(e=0;e<n;e++)for(var i=arguments[e],a=0,s=i.length;a<s;a++,r++)o[r]=i[a];return o};e.__esModule=!0;var a=n(68),s=n(17),c=n(114),u=function(t){function e(n,o,u){var l=t.call(this,n,o,u)||this;return l.enfaStep=function(){var t,e=l._step(l.counterSteps,l.alphabet.get(null===(t=l.input[l.counterSteps])||void 0===t?void 0:t.value),l.historiStep,[],[]);return l.counterSteps=e.counter,l.historiStep=e.history,e.nodes.forEach(function(t){return t.stack=void 0}),e.history.forEach(function(t){return t.nodes.forEach(function(t){return t.stack=void 0})}),e},l.enfaRun=function(){var t=[],e=[];l.historiRun=[],l.counterStepsForResult=0;for(var n=0;n<l.input.length-1;n++){var o=l._step(l.counterStepsForResult,l.alphabet.get(l.input[l.counterStepsForResult].value),l.historiRun,t,[]);l.counterStepsForResult=o.counter,l.historiRun=o.history,e.push({byEpsPred:o.byEpsPred,byLetter:o.byLetter,byEpsAfter:o.byEpsAfter})}var i=l._step(l.counterStepsForResult,l.alphabet.get(l.input[l.counterStepsForResult].value),l.historiRun,t,[]);return e.push({byEpsPred:i.byEpsPred,byLetter:i.byLetter,byEpsAfter:i.byEpsAfter}),i.nodes.forEach(function(t){return t.stack=void 0}),i.history.forEach(function(t){return t.nodes.forEach(function(t){return t.stack=void 0})}),console.log("histTrace"),console.log(e),console.log("histTrace"),r(r({},i),{histTrace:e})},l.nfaToDfa=function(){var t=l.startStatements.map(function(t){return t.id}),n=i(l.edges);t.forEach(function(t){return n.push({from:999,to:t,transitions:new Set([[{title:s.EPS}]]),localValue:[]})});var o={id:999,isAdmit:!1},r=i([o],l.nodes),u=new e({edges:n,nodes:r},[o],[]);console.log(u);var p=function(t,e){var n=[];return t.map(function(t){return function(t,e){return u.cellMatrix(t.stmt.idLogic,e).map(function(t){return{stmt:t}})}(t,e)}).forEach(function(t){return t.forEach(function(t){return n.push(t)})}),n},d=function(t){f.push(t)};u.restart();var f=[],m=[],h=new a.ImSet,v=u.curPosition;d(v);for(var g=function(){var t=f.shift(),e=[];return void 0===t||t.length<1?"break":h.has(t)?"continue":(h.add(t.map(function(t){return{stmt:{id:t.stmt.id,idLogic:t.stmt.idLogic,isAdmit:t.stmt.isAdmit},stack:void 0}})),u.getAlphabet().forEach(function(n){if(n!==u.epsId){var o=function(t,e){var n=function(t){if(void 0===u.epsId)return t;var e=[],n=new c.Stack;n.push(s.EPS),t.forEach(function(t){var o=u.epsilonStep(t.stmt.idLogic,s.EPS,n,[]);void 0!==o&&e.push(o)});var o=[];return e.forEach(function(t){return t.forEach(function(t){return o.push(t)})}),o};return n(p(n(t),e))}(t,n),r=[],i=o.map(function(t){return r.includes(t.stmt.idLogic)?{stmt:{id:-100,idLogic:-100,isAdmit:!1},stack:void 0}:(r.push(t.stmt.idLogic),{stmt:{id:t.stmt.id,idLogic:t.stmt.idLogic,isAdmit:t.stmt.isAdmit},stack:void 0})}).filter(function(t){return-100!==(null===t||void 0===t?void 0:t.stmt.idLogic)});e.push(i),o.length>0&&!h.has(o)&&!h.has(i)&&d(i)}}),m.push(e),console.log("OOOOOOOOOO"),f.forEach(function(t){return t.forEach(function(t){return console.log(t)})}),console.log("LLLL"),h.getStorage().forEach(function(t){return t.forEach(function(t){return console.log(t)})}),console.log("LLLL"),void console.log())};f.length>0;){if("break"===g())break}var E=[];m.forEach(function(t,e){u.getAlphabet().forEach(function(n,o){n!==u.epsId&&0!==t[n].length&&E.push({from:e,to:h.getIter(t[n]),transitions:new Set([[{title:o}]])})})});var b=h.getStorage().map(function(t){return{id:h.getIter(t),isAdmit:u.haveAdmitting(t)}}),y=[];E.sort(function(t,e){return t.from-e.from||t.to-e.to});for(var k=0;k<E.length;k++){for(var w=[],S=k,_=function(){var t="";E[S].transitions.forEach(function(e){return e.forEach(function(e){return t=e.title})}),w.push({title:t}),S++};S<E.length&&E[k].from===E[S].from&&E[k].to===E[S].to;)_();k=S-1,y.push({from:E[k].from,to:E[k].to,transitions:new Set([w])})}return{nodes:b,edges:y}},l.step=l.enfaStep,l.run=l.enfaRun,l}return o(e,t),e}(a.PDA);e.EpsilonNFA=u},98:function(t,e,n){"use strict";e.__esModule=!0}},[[163,1,2]]]);
//# sourceMappingURL=main.288f189f.chunk.js.map