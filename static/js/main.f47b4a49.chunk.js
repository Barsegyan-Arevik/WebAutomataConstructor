(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{116:function(t,e,n){"use strict";var o=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),a=this&&this.__assign||function(){return(a=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var a in e=arguments[n])Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t}).apply(this,arguments)};e.__esModule=!0;var i=n(14),r=n(422),s=n(25),c=function(t){function e(e,n,o,a){var s=t.call(this,e,n)||this;return s.matrix=[],s.stack=new r.Stack,s.historiStep=[],s.historiRun=[],s.setInput=function(t){s.input=[],t.forEach(function(t){s.input.push({idLogic:s.alphabet.get(t),value:t})}),s.restart()},s.byEmptyStackAdmt=function(t){s.admitByEmptyStack=t},s.step=function(){var t,e=s._step(s.counterSteps,s.alphabet.get(null===(t=s.input[s.counterSteps])||void 0===t?void 0:t.value),s.historiStep);return s.counterSteps=e.counter,s.historiStep=e.history,console.log("STEP stck: "),e.history.forEach(function(t){return t.nodes.forEach(function(t){return console.log(t.stack)})}),console.log("STEP admit: "),console.log(e.isAdmit),e},s.run=function(){s.historiRun=[],s.counterStepsForResult=0;for(var t=0;t<s.input.length-1;t++){var e=s._step(s.counterStepsForResult,s.alphabet.get(s.input[s.counterStepsForResult].value),s.historiRun);s.counterStepsForResult=e.counter,s.historiRun=e.history}return s._step(s.counterStepsForResult,s.alphabet.get(s.input[s.counterStepsForResult].value),s.historiRun)},s._step=function(t,e,n){var o=[],a=function(){s.curPosition=[],o.forEach(function(t){return s.curPosition.push(t)}),o=[]},i=function(){s.curPosition.forEach(function(t){var e,n=s.epsilonStep(t.stmt.idLogic,null===(e=t.stack)||void 0===e?void 0:e.peek(),t.stack);null===n||void 0===n||n.forEach(function(t){return o.push(t)})})},r=function(){var t=new Map,e=[];s.curPosition.forEach(function(n){void 0===t.get(JSON.stringify(n))&&(e.push(n),t.set(JSON.stringify(n),n))}),s.curPosition=[],e.forEach(function(t){return s.curPosition.push(t)})};return void 0!==s.epsId&&(i(),a()),t<s.input.length?(s.curPosition.forEach(function(t){s.letterStep(e,t.stmt.idLogic,t.stack.peek(),t.stack).forEach(function(t){return o.push(t)})}),a(),void 0!==s.epsId&&(i(),a()),r(),n.push({nodes:s.toNodes(s.curPosition),by:s.input[t].value}),t++,{nodes:s.toNodes(s.curPosition),counter:t,isAdmit:s.haveAdmitting(s.curPosition),history:n}):(r(),{nodes:s.toNodes(s.curPosition),counter:t,isAdmit:s.haveAdmitting(s.curPosition),history:n})},s.restart=function(){s.counterSteps=0,s.historiStep=[],s.curPosition=[],s.startStatements.forEach(function(t){var e=new r.Stack;e.push(i.BOTTOM),s.curPosition.push({stmt:s.statements.get(t.id),stack:e})})},s.nfaToDfa=function(){s.restart();s.curPosition;var t=new l,e=[],n=0,o=[];for(t.add(s.curPosition);n<t.size();)s.curPosition=t.getNth(n),s.alphabet.forEach(function(o){s._step(0,o,[]),s.curPosition.length>0&&t.add(s.curPosition),e.push(s.curPosition),s.curPosition=t.getNth(n)}),o.push(e),e=[],n++;var a=[],i=[],r=new Map;t.myForEach(function(t,e){r.set(JSON.stringify(t),e);var n=s.haveAdmitting(t);a.push({id:e,isAdmit:n})}),t.myForEach(function(t,e){s.alphabet.forEach(function(e,n){var a=r.get(JSON.stringify(t)),s=r.get(JSON.stringify(o[a][e]));void 0!==s&&i.push({from:a,to:s,transitions:new Set([[{title:n}]])})})});var c=[];return a.forEach(function(t){return a.forEach(function(e){var n=[];i.forEach(function(o){t.id===o.from&&e.id===o.to&&n.push(Array.from(o.transitions)[0][0])}),n.length>0&&c.push({from:t.id,to:e.id,transitions:new Set([n])})})}),{nodes:a,edges:c}},s.minimizeDfa=function(){s.restart();var t=[];t.push(new l),t.push(new l);var e=s.matrix.map(function(t){return t.map(function(t){return{group:-1,value:t[0]}})});s.statements.forEach(function(e){e.isAdmit?t[0].add([e.idLogic]):t[1].add([e.idLogic])}),e.forEach(function(e){return e.forEach(function(e){e.value.isAdmit?(e.group=0,t[0].add([e.value.idLogic])):(e.group=1,t[1].add([e.value.idLogic]))})});var n=new u;t.forEach(function(t,e){return n.enqueue(e)});for(var o=function(){var o=n.dequeue();if(void 0!==o){var a=function(e,n){var o=t[e].getNth(0)[0],a=JSON.stringify(n[o].map(function(t){return t.group})),i=new l;return n.forEach(function(n,o){a===JSON.stringify(n.map(function(t){return t.group}))&&t[e].has([o])&&i.add([o])}),i}(o,e);t[o].size()>a.size()&&(n.enqueue(t.length),n.enqueue(o),t.push(a),t[t.length-1].myForEach(function(e,n){void 0!==o&&(t[o]=function(t,e){var n=new l;return t.myForEach(function(t){t[0]!==e[0]&&n.add(t)}),n}(t[o],t[t.length-1].getNth(n)))}),t=t.filter(function(t){return t.size()>0}),e.forEach(function(e,n){return e.forEach(function(e){t[t.length-1].has([e.value.idLogic])&&(e.group=t.length-1)})}))}};n.size()>0;)o();var a=t.map(function(t){return e[t.getNth(0)[0]].map(function(t){return{g:t.group,admt:t.value.isAdmit}})}),i=t.map(function(t,e){return{id:e,isAdmit:0===e}}),r=[];a.forEach(function(t,e){s.alphabet.forEach(function(n,o){r.push({from:e,to:t[n].g,transitions:new Set([[{title:o}]])})})});var c=[];return i.forEach(function(t){return i.forEach(function(e){var n=[];r.forEach(function(o){t.id===o.from&&e.id===o.to&&n.push(Array.from(o.transitions)[0][0])}),n.length>0&&c.push({from:t.id,to:e.id,transitions:new Set([n])})})}),{nodes:i,edges:c}},s.admitByEmptyStack=a,s.epsId=s.alphabet.get(i.EPS),s.createMatrix(),s.stack.push(i.BOTTOM),s.curPosition=[],n.forEach(function(t){var e=new r.Stack;e.push(i.BOTTOM),s.curPosition.push({stmt:s.statements.get(t.id),stack:e})}),s.setInput(o),s.epsId&&s.curPosition.forEach(function(t){s.cycleEps(t.stmt.idLogic,t.stack)}),console.log("-------------------------"),console.log(s.isDeterministic()),console.log("ALPHBT"),s.alphabet.forEach(function(t,e){return console.log(t,e)}),console.log("STMTS"),s.statements.forEach(function(t){return console.log(t)}),console.log("MTX"),s.matrix.forEach(function(t){console.log(),t.forEach(function(t){return console.log(t)})}),console.log("-------------------------"),s}return o(e,t),e.prototype.createMatrix=function(){for(var t=0;t<this.statements.size;t++){this.matrix[t]=[];for(var e=0;e<this.alphabet.size;e++)this.matrix[t][e]=[]}for(t=0;t<this.edges.length;t++){var n=this.statements.get(this.edges[t].from),o=this.statements.get(this.edges[t].to);for(e=0;e<this.edges[t].localValue.length;e++){var r=this.alphabet.get(this.edges[t].localValue[e].title),s=this.edges[t].localValue[e].stackDown,c=this.edges[t].localValue[e].stackPush,u=this.edges[t].localValue[e].move;void 0!==s&&void 0!==c&&""!==s&&0!==c.length||(s=i.EPS,c=[i.EPS]),this.matrix[n.idLogic][r].push(a(a({},o),{stackDown:s,stackPush:c,move:u}))}}this.alphabet.forEach(function(t,e){return console.log(t," ",e)}),this.statements.forEach(function(t){return console.log(t)}),this.matrix.forEach(function(t){console.log(),t.forEach(function(t){return console.log(t)})})},e.prototype.cellMatrix=function(t,e){return this.matrix[t][e]},e.prototype.copyPushList=function(t){var e,n=[];return null===(e=t.stackPush)||void 0===e||e.forEach(function(t){return n.push(t)}),n},e.prototype.pushReverse=function(t,e){t.reverse().forEach(function(t){e.push(t)})},e.prototype.pushTopToNewStack0=function(t,e){t.pop();var n=this.copyPushList(e);this.pushReverse(n,t)},e.permute0=function(t){var e=s.cloneDeep(t);e=e.sort(function(t,e){return t.stackDown&&e.stackDown?t.stackDown<e.stackDown?-1:t.stackDown>e.stackDown?1:0:0});for(var n=[],o=[],a=e[0].stackDown,i=0;i<e.length;i++)e[i].stackDown===a?o.push(e[i]):(n.push(o),a=e[i].stackDown,(o=[]).push(e[i]));n.push(o);var r=[];return function t(e,o,a){if(e<n.length)for(var i=0;i<n[e].length;i++){var c=s.cloneDeep(a);c.push(n[e][i]),t(e+1,0,c)}else r.push(a)}(0,0,[]),r},e.permute=function(t){for(var e,n,o=t.length,a=[t.slice()],i=new Array(o).fill(0),r=1;r<o;)i[r]<r?(e=r%2&&i[r],n=t[r],t[r]=t[e],t[e]=n,i[r]++,r=1,a.push(t.slice())):(i[r]=0,r++);return a},e.prototype.rmRepetitions=function(t,e,n,o,a){var i;i=JSON.stringify(e),void 0===t.get(i)&&(n.push({stmt:this.statements.get(o),stack:a}),t.set(JSON.stringify({stmt:this.statements.get(o),stack:a}),{stmt:this.statements.get(o),stack:a}))},e.prototype.cycleEps=function(t,n){var o=this,a=new Map,s=[],c=[];this.cellMatrix(t,this.epsId).forEach(function(){return c.push(!1)});var u=void 0!==this.cellMatrix(t,this.epsId)[0]?e.permute0(this.cellMatrix(t,this.epsId)):[this.cellMatrix(t,this.epsId)];return u.forEach(function(e){for(var u=0;u<c.length;u++)c[u]=!1;!function t(e,n,u,l){c[n]=!0,e.forEach(function(n,p){if(n.idLogic===u)if(n.stackDown===l.peek()){var d=l.cpyTo(new r.Stack);o.matchPushEpsVal(n,d),o.rmRepetitions(a,{stmt:o.statements.get(u),stack:d},s,u,d),c[p]||t(e,p,u,d)}else n.stackDown===i.EPS&&(d=l.cpyTo(new r.Stack),o.matchDownEpsVal(n,d),o.rmRepetitions(a,{stmt:o.statements.get(u),stack:d},s,u,d),c[p]||t(e,p,u,d))})}(e,0,t,n)}),s},e.prototype.epsilonStep=function(t,e,n){var o=this;if(void 0!==this.epsId){for(var a=[],s=0;s<this.statements.size;s++)a.push(!1);var c=function t(e,n,s,c){o.cycleEps(e,n).forEach(function(t){c.push({idLogic:e,top:t.stack})}),c.push({idLogic:e,top:n}),a[e]=!0;for(var u=0;u<o.matrix[e][o.epsId].length;u++)if(!a[o.cellMatrix(e,o.epsId)[u].idLogic])switch(o.cellMatrix(e,o.epsId)[u].stackDown){case s:var l=n.cpyTo(new r.Stack);o.matchPushEpsVal(o.cellMatrix(e,o.epsId)[u],l),t(o.cellMatrix(e,o.epsId)[u].idLogic,l,l.peek(),c);break;case i.EPS:l=n.cpyTo(new r.Stack),o.matchDownEpsVal(o.cellMatrix(e,o.epsId)[u],l),t(o.cellMatrix(e,o.epsId)[u].idLogic,l,l.peek(),c)}return c}(t,n,e,[]),u=[];for(s=0;s<c.length;s++){var l=this.statements.get(this.nodes[c[s].idLogic].id);u.push({stmt:l,stack:c[s].top})}return u}},e.prototype.matchPushEpsVal=function(t,e){if(t.stackPush[0]===i.EPS){if(1!==t.stackPush.length)throw Error("pushing list should be consist by [EPS] for 'pop'");e.pop()}else this.pushTopToNewStack0(e,t)},e.prototype.matchDownEpsVal=function(t,e){if(t.stackPush[0]===i.EPS&&1!==t.stackPush.length)throw Error("pushing list should be consist by [EPS] for 'pop'");if(t.stackPush[0]!==i.EPS){var n=this.copyPushList(t);this.pushReverse(n,e)}},e.prototype.letterStep=function(t,e,n,o){var a=this,s=[];return this.cellMatrix(e,t).forEach(function(t){switch(t.stackDown){case n:var e=o.cpyTo(new r.Stack);a.matchPushEpsVal(t,e),s.push({stmt:a.statements.get(t.id),stack:e});break;case i.EPS:e=o.cpyTo(new r.Stack);a.matchDownEpsVal(t,e),s.push({stmt:a.statements.get(t.id),stack:e})}}),s},e.prototype.haveEpsilon=function(){return void 0!==this.epsId},e.prototype.isDeterministic=function(){var t=!0;return this.matrix.forEach(function(e){e.forEach(function(e){if(e.length>1){var n=e[0];e.forEach(function(e,o){(0!==o&&void 0===n.stackDown&&e.stackDown||0!==o&&n.stackDown===e.stackDown)&&(t=!1)})}})}),t&&!this.haveEpsilon()},e.prototype.haveAdmitting=function(t){var e=!1;return!1===this.admitByEmptyStack||void 0===this.admitByEmptyStack?(t.forEach(function(t){t.stmt.isAdmit&&(e=!0)}),e):(t.forEach(function(t){0===t.stack.size()&&(e=!0)}),e)},e.prototype.toNodes=function(t){var e=this,n=[];return t.forEach(function(t){var o=a(a({},e.nodes[t.stmt.idLogic]),{stack:t.stack.getStorage()});n.push(o)}),n},e}(i.Computer);e.PDA=c;var u=function(){function t(t){void 0===t&&(t=1/0),this.capacity=t,this.storage=[]}return t.prototype.enqueue=function(t){if(this.size()===this.capacity)throw Error("Queue has reached max capacity, you cannot add more items");this.storage.push(t)},t.prototype.dequeue=function(){return this.storage.shift()},t.prototype.size=function(){return this.storage.length},t.prototype.getStorage=function(){return this.storage},t}(),l=function(){function t(){this.table=new Map,this.set=[]}return t.prototype.normalize=function(t){var e=s.cloneDeep(t);return e=e.sort()},t.prototype.getItter=function(t){if(!this.has(t))throw Error;var e=0,n=this.normalize(t);return this.set.forEach(function(t,o){JSON.stringify(n)===JSON.stringify(t)&&(e=o)}),e},t.prototype.has=function(t){var e=this.normalize(t),n=JSON.stringify(e);return this.table.has(n)},t.prototype.myForEach=function(t){this.set.forEach(function(e,n){t(e,n)})},t.prototype.add=function(t){var e=this.normalize(t),n=JSON.stringify(e);this.table.has(n)||(this.table.set(n,e),this.set.push(e))},t.prototype.size=function(){return this.set.length},t.prototype.getNth=function(t){return this.set[t]},t.prototype.getIter=function(t){var e=this.normalize(t),n=JSON.stringify(e),o=0;return this.set.forEach(function(t,e){JSON.stringify(t)===n&&(o=e)}),o},t}();e.ImSet=l},14:function(t,e,n){"use strict";e.__esModule=!0,e.eof={isAdmit:!1,idLogic:-1,id:-1},e.EPS="Epsilon",e.BOTTOM="Z0";var o=function(){function t(t,e){var n=this;this.input=[],this.alphabet=new Map,this.statements=new Map,this.startStatements=[],this.edges=[],this.counterSteps=0,this.counterStepsForResult=0,this.setStartStatements(t,e),t.edges.sort(function(t,e){return t.from-e.from}).forEach(function(t){return n.edges.push({transitions:t.transitions,from:t.from,to:t.to,localValue:[]})});for(var o=function(t){a.edges[t].localValue=[],a.edges[t].transitions.forEach(function(e){return e.forEach(function(e){return n.edges[t].localValue.push(e)})})},a=this,i=0;i<this.edges.length;i++)o(i);this.getAlphabetFromEdges(),this.getStatementsFromNodes(t.nodes),this.startStatements=e,this.currentNode=e[0],this.nodes=t.nodes}return t.prototype.getAlphabetFromEdges=function(){for(var t=this,e=new Set,n=0;n<this.edges.length;n++)this.edges[n].localValue.forEach(function(t){e.add(t.title)});var o=0;e.forEach(function(e){t.alphabet.set(e,o),o++})},t.prototype.getStatementsFromNodes=function(t){for(var e=0;e<t.length;e++)this.statements.set(t[e].id,{id:t[e].id,isAdmit:t[e].isAdmit,idLogic:e})},t.prototype.setStartStatements=function(t,n){n.length>1&&void 0===this.alphabet.get(e.EPS)&&(this.alphabet.set(e.EPS,this.alphabet.size),n.forEach(function(o){return n.forEach(function(n){t.edges.push({from:o.id,to:n.id,transitions:new Set([[{title:e.EPS}]])})})}))},t}();e.Computer=o},231:function(t,e,n){"use strict";var o=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),a=this&&this.__assign||function(){return(a=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var a in e=arguments[n])Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t}).apply(this,arguments)};e.__esModule=!0;var i=n(36),r=n(116),s=function(){function t(){this.storage=["_"],this.pointer=0}return t.prototype.getPointer=function(){return this.pointer},t.prototype.reset=function(){this.storage=["_"],this.pointer=0},t.prototype.lookUp=function(){return this.storage[this.pointer]},t.prototype.initialize=function(t){var e=this;t.forEach(function(t){return e.mvRight("_",t)}),this.pointer=0},t.prototype.mvRight=function(t,e){this.storage[this.pointer]===t&&(this.storage[this.pointer]=e,this.pointer++),this.pointer===this.storage.length&&this.storage.push("_")},t.prototype.mvLeft=function(t,e){if(0===this.pointer){this.storage[this.pointer]===t&&(this.storage[this.pointer]=e,this.pointer=0);var n=["_"];this.storage.forEach(function(t){return n.push(t)}),this.storage=n}else this.storage[this.pointer]===t&&(this.storage[this.pointer]=e,this.pointer--)},t.prototype.getStorage=function(){return this.storage},t}();e.TMMemory=s;var c=function(t){function e(e,n,o){var r=t.call(this,e,n,o)||this;return r.mem=new s,r.__step=function(t,e,n){var o="";return r.cellMatrix(r.curPosition[0].stmt.idLogic,e).forEach(function(t){t.stackDown===r.mem.lookUp()&&(t.move===i.Move.R&&(r.mem.mvRight(t.stackDown,t.stackPush[0]),o=t.stackDown),t.move===i.Move.L&&(r.mem.mvLeft(t.stackDown,t.stackPush[0]),o=t.stackDown),r.assignCurMt({stmt:r.statements.get(t.id)}))}),n.push({nodes:[r.nodes[r.curPosition[0].stmt.idLogic]],by:o}),console.log("this.mem.getStorage()"),console.log(r.mem.getStorage()),t++,{nodes:[r.nodes[r.curPosition[0].stmt.idLogic]],isAdmit:r.curPosition[0].stmt.isAdmit,counter:t,history:n,memory:r.mem.getStorage(),pointer:r.mem.getPointer()}},r.restart=function(){r.counterSteps=0,r.historiStep=[],r.curPosition=[],r.mem.reset(),r.curPosition=[{stmt:r.statements.get(r.startStatements[0].id)}]},r.run=function(){throw Error("TM run")},r.setInput=function(t){r.input=[],r.mem.reset(),r.mem.initialize(t),r.counterSteps=0,r.historiStep=[],r.curPosition=[],r.curPosition=[{stmt:r.statements.get(r.startStatements[0].id)}],console.log(r.curPosition)},r.step=function(){console.log("STPMT");var t=r.__step(r.counterSteps,0,r.historiStep);return r.counterSteps=t.counter,r.historiStep=t.history,a(a({},t),{memory:r.mem.getStorage()})},r.checkMemFormat(e),r.mem.initialize(o),r.curPosition=[{stmt:r.statements.get(r.startStatements[0].id)}],console.log("MTMTMTMTMTTMMTMTMT::::::::::"),r}return o(e,t),e.prototype.checkMemFormat=function(t){var e=!0;if(t.edges.forEach(function(t){return t.transitions.forEach(function(t){t.forEach(function(t){var n,o;(null===(n=t.stackPush)||void 0===n?void 0:n.length)&&(null===(o=t.stackPush)||void 0===o?void 0:o.length)>1&&(e=!1)})})}),!e)throw Error("Not MT mem")},e.prototype.curMt=function(){return this.curPosition[0]},e.prototype.assignCurMt=function(t){this.curPosition[0]=t},e}(r.PDA);e.TM=c},273:function(t,e,n){t.exports=n(436)},278:function(t,e,n){},279:function(t,e,n){},36:function(t,e,n){"use strict";e.__esModule=!0,function(t){t[t.L=0]="L",t[t.R=1]="R"}(e.Move||(e.Move={}))},415:function(t,e,n){},416:function(t,e,n){},421:function(t,e,n){},422:function(t,e,n){"use strict";e.__esModule=!0;var o=function(){function t(t){void 0===t&&(t=1/0),this.capacity=t,this.storage=[]}return t.prototype.push=function(t){if(this.size()===this.capacity)throw Error("Stack has reached max capacity, you cannot add more items");this.storage.push(t)},t.prototype.pop=function(){return this.storage.pop()},t.prototype.peek=function(){return this.storage[this.size()-1]},t.prototype.size=function(){return this.storage.length},t.prototype.getStorage=function(){var t=[];return this.storage.forEach(function(e){return t.push(e)}),t},t.prototype.cpyTo=function(t){return this.storage.forEach(function(e){return t.push(e)}),t},t}();e.Stack=o},423:function(t,e,n){},425:function(t,e,n){},426:function(t,e,n){},427:function(t,e,n){},428:function(t,e,n){},429:function(t,e,n){},430:function(t,e,n){},434:function(t,e,n){},435:function(t,e,n){},436:function(t,e,n){"use strict";n.r(e);var o=n(0),a=n.n(o),i=n(52),r=n.n(i),s=(n(278),n(19)),c=n(20),u=n(33),l=n(32),p=(n(279),n(226)),d=n.n(p),h=n(25),f=(n(415),n(238)),m=(n(416),n(488)),v=n(444),g=["visible","title","style","className","children"],E=function(t){Object(u.a)(n,t);var e=Object(l.a)(n);function n(){return Object(s.a)(this,n),e.apply(this,arguments)}return Object(c.a)(n,[{key:"render",value:function(){var t=this.props,e=t.visible,n=t.title,o=t.style,i=t.className,r=t.children,s=Object(f.a)(t,g);return a.a.createElement(m.a,Object.assign({className:"control-wrapper".concat(e?"":"--hidden"," ").concat(i),variant:"outlined",style:o},s),a.a.createElement("div",{className:"control-wrapper--content"},a.a.createElement("div",null,a.a.createElement(v.a,{variant:"h6"},n)),a.a.createElement("div",{className:"control-wrapper--child"},r)))}}]),n}(a.a.Component);E.defaultProps={visible:!0};var y=E,S=n(482),b=n(480),k=n(484),_=n(491),w=n(489),P=function(t){Object(u.a)(n,t);var e=Object(l.a)(n);function n(t){var o,a,i,r,c;return Object(s.a)(this,n),(c=e.call(this,t)).onLabelChange=function(t){null!==c.props.node&&(c.props.changeNodeLabel(c.props.node.id,t.target.value),c.setState({label:t.target.value}))},c.onIsAdmitChanged=function(t){null!==c.props.node&&(c.props.changeStateIsAdmit(c.props.node.id,t.target.checked),c.setState({isAdmit:t.target.checked}))},c.onIsInitialChanged=function(t){null===c.props.node||c.props.node.isAdmit||(c.props.changeStateIsInitial(c.props.node.id,t.target.checked),c.setState({isInitial:t.target.checked}))},c.onDeleteClick=function(){null!==c.props.node&&c.props.deleteNode(c.props.node.id)},c.state={prevNodeId:null===(o=c.props.node)||void 0===o?void 0:o.id,label:(null===(a=c.props.node)||void 0===a?void 0:a.label)||"",isAdmit:(null===(i=c.props.node)||void 0===i?void 0:i.isAdmit)||!1,isInitial:(null===(r=c.props.node)||void 0===r?void 0:r.isInitial)||!1},c}return Object(c.a)(n,[{key:"componentDidUpdate",value:function(t,e){var n,o,a,i,r;(null===(n=this.props.node)||void 0===n?void 0:n.id)!==e.prevNodeId&&this.setState({label:(null===(o=this.props.node)||void 0===o?void 0:o.label)||"",isAdmit:(null===(a=this.props.node)||void 0===a?void 0:a.isAdmit)||!1,isInitial:(null===(i=this.props.node)||void 0===i?void 0:i.isInitial)||!1,prevNodeId:null===(r=this.props.node)||void 0===r?void 0:r.id})}},{key:"render",value:function(){return a.a.createElement(y,{title:"\u0421\u043e\u0441\u0442\u043e\u044f\u043d\u0438\u0435",visible:null!==this.props.node},a.a.createElement(w.a,null,a.a.createElement("div",{className:"node-control__item"},a.a.createElement(b.a,{label:"\u0418\u043c\u044f",size:"small",value:this.state.label,onChange:this.onLabelChange})),a.a.createElement("div",{className:"node-control__item"},a.a.createElement(_.a,{control:a.a.createElement(S.a,{checked:this.state.isInitial,onChange:this.onIsInitialChanged}),label:"\u041d\u0430\u0447\u0430\u043b\u044c\u043d\u043e\u0435"})),a.a.createElement("div",{className:"node-control__item"},a.a.createElement(_.a,{control:a.a.createElement(S.a,{checked:this.state.isAdmit,onChange:this.onIsAdmitChanged}),label:"\u0414\u043e\u043f\u0443\u0441\u043a\u0430\u044e\u0449\u0435\u0435"})),a.a.createElement("div",{className:"node-control__item"},a.a.createElement(k.a,{onClick:this.onDeleteClick},"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"))))}}]),n}(a.a.Component),O=n(16),N=n(14),I=n(36),x=function(t){for(var e=function(){var e=0;return t.forEach(function(t){t.forEach(function(t){if(void 0!==t.stackDown&&void 0!==t.stackPush){var n=Math.max.apply(Math,Object(O.a)(t.stackPush.map(function(t){return t===N.EPS?0:t.length})).concat([0])),o=t.title===N.EPS?0:t.title.length,a=t.stackDown===N.EPS?0:t.stackDown.length;e=Math.max.apply(Math,Object(O.a)([n,o,a,e].map(function(t){return t})).concat([0]))}})}),e},n="",o=0;o<7*e();o++)n+=" ";var a=""+n;return t.forEach(function(t){t.forEach(function(t){void 0!==t.title&&t.title.length>0&&(a+=t.title===N.EPS?"\u03b5":t.title,void 0!==t.stackDown&&t.stackDown.length>0&&(a+=", "+(t.stackDown===N.EPS?"\u03b5":t.stackDown)),void 0!==t.stackPush&&t.stackPush.length>0&&""!==t.stackDown&&(a+=" | "+t.stackPush.map(function(t){return t===N.EPS?"\u03b5":t}).join(":")),void 0!==t.move&&(a+=0===t.move?"L":"R"),a=a+"\n"+n)})}),a},j=function(t){var e="";return t.forEach(function(t){t.forEach(function(t){void 0!==t.title&&t.title.length>0&&(e+=t.title===N.EPS?"eps":t.title,void 0!==t.stackDown&&t.stackDown.length>0&&(e+=", "+(t.stackDown===N.EPS?"eps":t.stackDown)),void 0!==t.stackPush&&t.stackPush.length>0&&""!==t.stackDown&&(e+=" | "+t.stackPush.map(function(t){return t===N.EPS?"eps":t}).join(":")),void 0!==t.move&&(e+=">"+(0===t.move?"L":"R")),e+=";\n")})}),e},M=function(t){return t.nodes.forEach(function(t){var e=t.isInitial?"#0041d0":t.isAdmit?"#ff0072":"#000000",n=t.isCurrent?"#ffff55":"#ffffff",o=1.5,a=2,i=4;t.color={background:n,border:e,highlight:{border:e,background:n}},t.borderWidth=t.isInitial||t.isAdmit?a:o,t.borderWidthSelected=i}),t.edges.forEach(function(t){t.label=x(t.transitions)}),t},C=function(t){var e=0===t.nodes.length?"":t.nodes[0].label;return t.nodes.forEach(function(t){for(var n=0;n<t.label.length&&n<e.length&&t.label[n]===e[n];)n++;e=e.substring(0,n)}),e},A={dfa:{name:"\u0414\u041a\u0410",description:"\u041a\u043e\u043d\u0435\u0447\u043d\u044b\u0439 \u0430\u0432\u0442\u043e\u043c\u0430\u0442, \u043f\u0440\u0438\u043d\u0438\u043c\u0430\u044e\u0449\u0438\u0439 \u0438\u043b\u0438 \u043e\u0442\u043a\u043b\u043e\u043d\u044f\u044e\u0449\u0438\u0439 \u0437\u0430\u0434\u0430\u043d\u043d\u0443\u044e \u0441\u0442\u0440\u043e\u043a\u0443 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432",preview:"dfa.png",defaultGraph:{nodes:[{id:1,x:0,y:20,label:"S0",isAdmit:!1,isInitial:!0,isCurrent:!1},{id:2,x:200,y:0,label:"S1",isAdmit:!1,isInitial:!1,isCurrent:!1}],edges:[{from:1,to:2,transitions:new Set([[{title:"0"}]])}]}},nfa:{name:"\u041d\u041a\u0410",description:"\u041c\u043e\u0436\u0435\u0442 \u043d\u0430\u0445\u043e\u0434\u0438\u0442\u044c\u0441\u044f \u0432 \u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u0438\u0445 \u0441\u043e\u0441\u0442\u043e\u044f\u043d\u0438\u044f\u0445 \u043e\u0434\u043d\u043e\u0432\u0440\u0435\u043c\u0435\u043d\u043d\u043e",preview:"nfa.png",defaultGraph:{nodes:[{id:1,x:0,y:0,label:"S0",isAdmit:!1,isInitial:!0,isCurrent:!1},{id:2,x:100,y:100,label:"S1",isAdmit:!1,isInitial:!1,isCurrent:!1},{id:3,x:200,y:200,label:"S2",isAdmit:!1,isInitial:!1,isCurrent:!1},{id:4,x:300,y:300,label:"S3",isAdmit:!0,isInitial:!1,isCurrent:!1}],edges:[{from:1,to:1,transitions:new Set([[{title:"0"},{title:"1"}]])},{from:1,to:2,transitions:new Set([[{title:"0"}]])},{from:2,to:3,transitions:new Set([[{title:"1"}]])},{from:3,to:4,transitions:new Set([[{title:"1"}]])},{from:4,to:4,transitions:new Set([[{title:"0"}]])}]}},"nfa-eps":{name:"\u03b5-\u041d\u041a\u0410",description:"\u0420\u0430\u0441\u0448\u0438\u0440\u0435\u043d\u0438\u0435 \u041d\u041a\u0410, \u0432 \u043a\u043e\u0442\u043e\u0440\u043e\u043c \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u044e\u0442\u0441\u044f \u03b5-\u043f\u0435\u0440\u0435\u0445\u043e\u0434\u044b",preview:"nfa-eps.png",defaultGraph:{nodes:[{id:1,x:0,y:100,label:"S",isAdmit:!1,isInitial:!0,isCurrent:!1},{id:2,x:100,y:100,label:"A1",isAdmit:!1,isInitial:!1,isCurrent:!1},{id:3,x:100,y:200,label:"B1",isAdmit:!1,isInitial:!1,isCurrent:!1},{id:4,x:200,y:100,label:"A2",isAdmit:!1,isInitial:!1,isCurrent:!1},{id:5,x:300,y:100,label:"A3",isAdmit:!1,isInitial:!1,isCurrent:!1},{id:6,x:400,y:100,label:"A4",isAdmit:!0,isInitial:!1,isCurrent:!1},{id:7,x:200,y:200,label:"B2",isAdmit:!1,isInitial:!1,isCurrent:!1},{id:8,x:300,y:200,label:"B3",isAdmit:!1,isInitial:!1,isCurrent:!1},{id:9,x:400,y:200,label:"B4",isAdmit:!0,isInitial:!1,isCurrent:!1}],edges:[{from:1,to:1,transitions:new Set([[{title:"0"},{title:"1"}]])},{from:1,to:2,transitions:new Set([[{title:N.EPS}]])},{from:1,to:3,transitions:new Set([[{title:N.EPS}]])},{from:2,to:4,transitions:new Set([[{title:"0"}]])},{from:4,to:5,transitions:new Set([[{title:"1"}]])},{from:5,to:6,transitions:new Set([[{title:"1"}]])},{from:3,to:7,transitions:new Set([[{title:"1"}]])},{from:7,to:8,transitions:new Set([[{title:"0"}]])},{from:8,to:9,transitions:new Set([[{title:"1"}]])},{from:9,to:9,transitions:new Set([[{title:"0"},{title:"1"}]])},{from:6,to:6,transitions:new Set([[{title:"0"},{title:"1"}]])}]}},pda:{name:"\u041c\u041f",description:"\u0418\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u0442 \u0441\u0442\u0435\u043a \u0434\u043b\u044f \u0445\u0440\u0430\u043d\u0435\u043d\u0438\u044f \u0441\u043e\u0441\u0442\u043e\u044f\u043d\u0438\u0439",preview:"pda.png",defaultGraph:{nodes:[{id:1,x:0,y:0,label:"S0",isAdmit:!1,isInitial:!0,isCurrent:!1},{id:2,x:100,y:0,label:"S1",isAdmit:!1,isInitial:!1,isCurrent:!1},{id:3,x:200,y:0,label:"S2",isAdmit:!1,isInitial:!1,isCurrent:!1}],edges:[{from:1,to:1,transitions:new Set([[{title:"0",stackDown:"Z0",stackPush:["0","Z0"]},{title:"1",stackDown:"Z0",stackPush:["1","Z0"]},{title:"0",stackDown:"0",stackPush:["0","0"]},{title:"0",stackDown:"1",stackPush:["0","1"]},{title:"1",stackDown:"0",stackPush:["1","0"]},{title:"1",stackDown:"1",stackPush:["1","1"]}]])},{from:1,to:2,transitions:new Set([[{title:N.EPS,stackDown:"Z0",stackPush:["Z0"]},{title:N.EPS,stackDown:"0",stackPush:["0"]},{title:N.EPS,stackDown:"1",stackPush:["1"]}]])},{from:2,to:2,transitions:new Set([[{title:"0",stackDown:"0",stackPush:[N.EPS]},{title:"1",stackDown:"1",stackPush:[N.EPS]}]])},{from:2,to:3,transitions:new Set([[{title:N.EPS,stackDown:"Z0",stackPush:[N.EPS]}]])}]}},tm:{name:"\u041c\u0430\u0448\u0438\u043d\u0430 \u0422\u044c\u044e\u0440\u0438\u043d\u0433\u0430",description:"_",preview:"_.png",defaultGraph:{nodes:[{id:1,x:0,y:20,label:"S0",isAdmit:!1,isInitial:!0,isCurrent:!1},{id:2,x:200,y:0,label:"S1",isAdmit:!1,isInitial:!1,isCurrent:!1},{id:3,x:0,y:180,label:"S2",isAdmit:!0,isInitial:!1,isCurrent:!1},{id:4,x:180,y:200,label:"S3",isAdmit:!0,isInitial:!1,isCurrent:!1}],edges:[{from:1,to:1,transitions:new Set([[{title:N.EPS,stackDown:"0",stackPush:["0"],move:I.Move.R},{title:N.EPS,stackDown:"1",stackPush:["1"],move:I.Move.R}]])},{from:1,to:2,transitions:new Set([[{title:N.EPS,stackDown:"_",stackPush:["_"],move:I.Move.L}]])},{from:2,to:2,transitions:new Set([[{title:N.EPS,stackDown:"1",stackPush:["0"],move:I.Move.L}]])},{from:2,to:3,transitions:new Set([[{title:N.EPS,stackDown:"0",stackPush:["1"],move:I.Move.L}]])},{from:2,to:4,transitions:new Set([[{title:N.EPS,stackDown:"_",stackPush:["1"],move:I.Move.L}]])}]}}},T=function(t){var e,n="; ".concat(document.cookie).split("; ".concat(t,"="));if(2===n.length)return null===(e=n.pop())||void 0===e?void 0:e.split(";").shift()},D=(n(421),n(230)),L=n.n(D),R=function(t){return function(e){return a.a.createElement(qt.Consumer,null,function(n){return a.a.createElement(t,Object.assign({computerType:n},e))})}},z=R(function(t){Object(u.a)(n,t);var e=Object(l.a)(n);function n(t){var o,a,i,r,c;return Object(s.a)(this,n),(c=e.call(this,t)).selectTransition=function(t){c.state.activeTransition===t?c.setState({activeTransition:null}):c.setState({activeTransition:t})},c.changeTransitions=function(t){var e=t.target.value;c.setState({transitionsText:e});var n=[];c.state.transitionsText.split("").filter(function(t){return" "!==t&&"\n"!==t}).join("").split(";").forEach(function(t){var e,o=t.split(","),a=o.shift(),i=(o=o.join("").split("|")).shift(),r=o;if("tm"===c.props.computerType){var s=o.join("").split(">");s.reverse(),e=s.shift(),s.reverse(),r=s,console.log("tmp"),console.log(s)}n.push({fst:a,snd:i,trd:r.join(":"),fth:e})});var o=[];n.forEach(function(t){var e;void 0!==t.fst&&o.push({title:"eps"===t.fst?N.EPS:t.fst,stackDown:"eps"===t.snd?N.EPS:t.snd,stackPush:null===(e=t.trd)||void 0===e?void 0:e.split(":").map(function(t){return"eps"===t?N.EPS:t}),move:"L"===t.fth?I.Move.L:I.Move.R})});var a=new Set([o]);c.props.changeEdgeTransitions(c.props.edge.id,a),c.setState({transitionsText:e,transitions:a})},c.changeStackDown=function(t){if(","===t.target.value.slice(-1)){var e=new Set;c.props.changeEdgeTransitions(c.props.edge.id,e),c.setState({transitionsText:x(e)})}},c.deleteEdge=function(){null!==c.props.edge&&c.props.deleteEdge(c.props.edge.id)},c.changeEditMode=function(){c.setState({editMode:!c.state.editMode}),c.updateTransitions()},c.updateTransitions=function(){var t=new Set,e=[];c.state.transitionsText.split("").filter(function(t){return" "!==t&&"\n"!==t}).join("").split(";").forEach(function(t){var n,o=t.split(","),a=o.shift(),i=(o=o.join("").split("|")).shift(),r=o;if("tm"===c.props.computerType){var s=o.join("").split(">");s.reverse(),n=s.shift(),s.reverse(),r=s,console.log("tmp"),console.log(s)}e.push({fst:a,snd:i,trd:r.join(":"),fth:n})});var n=[];e.forEach(function(t){var e;void 0!==t.fst&&n.push({title:"eps"===t.fst?N.EPS:t.fst,stackDown:"eps"===t.snd?N.EPS:t.snd,stackPush:null===(e=t.trd)||void 0===e?void 0:e.split(":").map(function(t){return"eps"===t?N.EPS:t}),move:"L"===t.fth?I.Move.L:I.Move.R})}),n=n.filter(function(t){return t.title.length>0}),t.add(n),c.props.changeEdgeTransitions(c.props.edge.id,t),c.setState({transitionsText:j(t),transitions:t})},c.deleteTransition=function(){if(null!==c.props.edge&&null!==c.state.activeTransition){var t=c.state.transitions;t.delete(c.state.activeTransition),c.props.changeEdgeTransitions(c.props.edge.id,t),c.setState({transitions:t,transitionsText:j(t)})}},c.state={prevEdgeId:null===(o=c.props.edge)||void 0===o?void 0:o.id,transitions:(null===(a=c.props.edge)||void 0===a?void 0:a.transitions)||new Set,transitionsText:j((null===(i=c.props.edge)||void 0===i?void 0:i.transitions)||new Set),displayedTransitionText:j((null===(r=c.props.edge)||void 0===r?void 0:r.transitions)||new Set),activeTransition:null,editMode:!1,countRules:1,rules:[{id:1,value:" "}]},c}return Object(c.a)(n,[{key:"componentDidUpdate",value:function(t,e){var n,o,a,i;(null===(n=this.props.edge)||void 0===n?void 0:n.id)!==e.prevEdgeId&&this.setState({transitions:(null===(o=this.props.edge)||void 0===o?void 0:o.transitions)||new Set,prevEdgeId:null===(a=this.props.edge)||void 0===a?void 0:a.id,transitionsText:j((null===(i=this.props.edge)||void 0===i?void 0:i.transitions)||new Set),activeTransition:null,editMode:!1})}},{key:"addInstruction",value:function(t){var e={id:this.state.rules.length,value:t};this.setState({rules:this.state.rules.concat(e)})}},{key:"render",value:function(){return a.a.createElement(y,{title:"\u041f\u0435\u0440\u0435\u0445\u043e\u0434",visible:null!==this.props.edge},a.a.createElement("div",{className:"edge-control__container"},a.a.createElement("div",{className:"edge-control__item edge-control__transitions"},a.a.createElement(b.a,{id:"filled-multiline-static",multiline:!0,rows:3,variant:"standard",label:"\u041f\u0435\u0440\u0435\u0445\u043e\u0434\u044b",size:"small",value:this.state.transitionsText,onChange:this.changeTransitions,helperText:(this.props.computerType,'\u0421\u043f\u0438\u0441\u043e\u043a \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432 \u0438\u043b\u0438 "eps" \u0447\u0435\u0440\u0435\u0437 \u0437\u0430\u043f\u044f\u0442\u0443\u044e'),onBlur:this.updateTransitions}),a.a.createElement("div",{className:"edge-control__edit-transitions",onClick:this.changeEditMode},a.a.createElement(L.a,null))),a.a.createElement("div",{className:"edge-control__item"},a.a.createElement(k.a,{onClick:this.deleteEdge},"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"))))}}]),n}(a.a.Component)),F=n(118),B=n(239),J=n(60),G=n(68),V=function(t){Object(u.a)(n,t);var e=Object(l.a)(n);function n(t,o,a){var i,r;if(Object(s.a)(this,n),(r=e.call(this,t,o,a)).setInput(a),!Object(B.a)((i=Object(F.a)(r),Object(J.a)(n.prototype)),"isDeterministic",i).call(i))throw new Error("Is not determenistic");return r}return Object(c.a)(n)}(G.EpsilonNFA),q=function(t){Object(u.a)(n,t);var e=Object(l.a)(n);function n(t,o,a){var i;if(Object(s.a)(this,n),(i=e.call(this,t,o,a)).haveEpsilon())throw new Error("Epsilon Transitions");return i}return Object(c.a)(n)}(G.EpsilonNFA),W=(n(423),n(232)),U=n.n(W),Z=n(233),H=n.n(Z),Q=n(479),K=n(116),X=n(231),Y=R(function(t){Object(u.a)(n,t);var e=Object(l.a)(n);function n(t){var o;return Object(s.a)(this,n),(o=e.call(this,t)).historyEndRef=a.a.createRef(),o.getComputer=function(t,e,n,a){switch(t){case"dfa":try{return new V(e,[n],a)}catch(i){return}case"nfa":return new q(e,[n],a);case"nfa-eps":return new G.EpsilonNFA(e,[n],a);case"pda":return new K.PDA(e,[n],a,o.state.byEmptyStack);case"tm":return new X.TM(e,[n],a)}},o.initializeComputer=function(){console.warn("Reinitializing computer");var t=o.props.elements.nodes.find(function(t){return t.isInitial}),e=o.state.input.split("");void 0!==t?o.setState({computer:o.getComputer(o.props.computerType,o.props.elements,t,e),result:void 0}):console.warn("There is no initial node. Computer will not be initialized")},o.ComputerShouldBeUpdated=function(t,e){return t.edges.length!==e.edges.length||t.edges.some(function(t,n){var o=e.edges[n];return t.id!==o.id||t.from!==o.from||t.to!==o.to||!Object(h.isEqual)(o.transitions,t.transitions)})||t.nodes.length!==e.nodes.length||t.nodes.some(function(t,n){var o=e.nodes[n];return t.id!==o.id||t.isAdmit!==o.isAdmit||t.isInitial!==o.isInitial})},o.onInputChanged=function(t){var e,n=t.target.value;o.reset(),null===(e=o.state.computer)||void 0===e||e.setInput(n.split("")),o.setState({input:n})},o.step=function(){if(void 0!==o.state.computer){if(o.state.wasRuned&&(o.setState({wasRuned:!1}),o.reset()),(o.state.currentInputIndex!==o.state.input.length-1||"tm"===o.props.computerType)&&(void 0===o.state.result||-1===o.state.currentInputIndex||"tm"===o.props.computerType)){var t=o.state.computer.step();console.log("~~~",t),o.props.changeStateIsCurrent(t.nodes.map(function(t){return t.id}),!0),o.props.updMem(t.memory,t.pointer);var e=void 0;t.counter===o.state.input.length?e=t.isAdmit:o.state.currentInputIndex+2!==t.counter&&(e=!1);var n=t.nodes.map(function(t){return o.props.elements.nodes.find(function(e){return e.id==t.id})}).filter(function(t){return void 0!==t}).map(function(e,n){return{a:e,b:t.nodes[n].stack}});o.setState({result:e,currentInputIndex:o.state.currentInputIndex+1,history:[].concat(Object(O.a)(o.state.history),[n]),memory:t.memory},function(){var t,e;return null===(t=o.historyEndRef)||void 0===t?void 0:null===(e=t.current)||void 0===e?void 0:e.scrollIntoView({behavior:"smooth"})})}}else console.error("Computer is not initialized yet")},o.reset=function(){var t,e;null===(t=o.state.computer)||void 0===t||t.restart(),o.props.changeStateIsCurrent([],!0),o.setState({result:void 0,currentInputIndex:-1,history:[]}),null===(e=o.state.computer)||void 0===e||e.setInput(o.state.input.split(""))},o.run=function(){if(void 0!==o.state.computer){o.reset();var t=o.state.computer.run();o.setState({result:t.isAdmit,currentInputIndex:-1,history:[]}),o.setState({wasRuned:!0})}else console.error("Computer is not initialized yet")},o.state={input:"",result:void 0,computer:void 0,editMode:!0,currentInputIndex:-1,history:[],byEmptyStack:!1,wasRuned:!1,memory:void 0},o}return Object(c.a)(n,[{key:"componentDidMount",value:function(){this.initializeComputer()}},{key:"componentDidUpdate",value:function(t,e,n){this.ComputerShouldBeUpdated(t.elements,this.props.elements)&&this.initializeComputer()}},{key:"render",value:function(){var t=this;return a.a.createElement(y,{title:"\u0417\u0430\u043f\u0443\u0441\u043a"},a.a.createElement("div",null,a.a.createElement("div",{className:"run-control__item run-control__input__row"},this.state.editMode?a.a.createElement(b.a,{label:"\u0412\u0445\u043e\u0434\u043d\u0430\u044f \u0441\u0442\u0440\u043e\u043a\u0430",size:"small",value:this.state.input,onChange:this.onInputChanged,onBlur:function(){t.state.input.length&&t.setState({editMode:!1})}}):a.a.createElement("div",{className:"run-control__input-value",onClick:function(){t.setState({editMode:!0})}},Array.from(this.state.input).map(function(e,n){return a.a.createElement("span",{className:"run-control__input__span"+(t.state.currentInputIndex===n?"--current":""),key:n},e)})),a.a.createElement("div",{className:"run-control__result"},void 0===this.state.result?null:this.state.result?a.a.createElement(U.a,{style:{color:"var(--commerce)"}}):a.a.createElement(H.a,{style:{color:"var(--destructive)"}}))),a.a.createElement("div",{className:"run-control__item run-control__buttons"},a.a.createElement("div",{className:"run-control__button"},a.a.createElement(k.a,{variant:"outlined",onClick:this.step},"\u0428\u0430\u0433")),a.a.createElement("div",{className:"run-control__button"},a.a.createElement(k.a,{variant:"outlined",onClick:this.run},"\u0417\u0430\u043f\u0443\u0441\u043a")),a.a.createElement("div",{className:"run-control__button"},a.a.createElement(k.a,{variant:"outlined",onClick:this.reset},"\u0421\u0431\u0440\u043e\u0441\u0438\u0442\u044c"))),"pda"===this.props.computerType?a.a.createElement("div",{className:"run-control__button"},a.a.createElement(k.a,{variant:"outlined",color:"secondary",onClick:function(){var e=t.state.byEmptyStack;t.setState({byEmptyStack:!e}),t.state.computer.byEmptyStackAdmt(!e),t.reset()}},this.state.byEmptyStack?"\u041f\u043e \u0441\u0442\u0435\u043a\u0443":"\u041f\u043e \u0441\u043e\u0441\u0442\u043e\u044f\u043d\u0438\u044e")):a.a.createElement("div",null),a.a.createElement("div",{className:"run-control__item run-control__history"},a.a.createElement("div",{className:"run-control__history__header"},a.a.createElement(v.a,{variant:"h6"},"\u0418\u0441\u0442\u043e\u0440\u0438\u044f")),0!==this.state.history.length?a.a.createElement("div",{className:"run-control__history__scroll"},this.state.history.map(function(t,e){return a.a.createElement("div",{className:"run-control__history__row",key:e},a.a.createElement("span",{className:"run-control__history__index"},e+1),t.map(function(t,e){return a.a.createElement(Q.a,{title:a.a.createElement(v.a,{className:"display-linebreak"},void 0!==t.b?t.b.reverse().join("\n"):"")},a.a.createElement("div",{className:"run-control__history__node",style:{border:"".concat(t.a.isInitial?"var(--accent)":t.a.isAdmit?"var(--second-accent)":"#000000"," 2px solid")}},t.a.label))}))}),a.a.createElement("div",{ref:this.historyEndRef})):a.a.createElement("div",{className:"run-control__history__placeholder"},"\u0418\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0439\u0442\u0435 \u043f\u043e\u0448\u0430\u0433\u043e\u0432\u044b\u0439 \u0437\u0430\u043f\u0443\u0441\u043a, \u0447\u0442\u043e\u0431\u044b \u043d\u0430\u0431\u043b\u044e\u0434\u0430\u0442\u044c \u0437\u0430 \u0438\u0441\u0442\u043e\u0440\u0438\u0435\u0439"))))}}]),n}(a.a.Component)),$=n(13),tt=n(17),et=n.n(tt),nt=n(26),ot=function(){function t(){Object(s.a)(this,t)}return Object(c.a)(t,[{key:"getSavesMeta",value:function(){var e=t.getSaves();return new Promise(function(t){t(e)})}},{key:"getSave",value:function(e){var n=t.getSaves().find(function(t){return t.id==e.id});return new Promise(function(t){t(n||null)})}},{key:"save",value:function(e,n,o){if(!localStorage)throw new Error("no local storage");var a=t.getSaves(),i=Math.max.apply(Math,Object(O.a)(a.map(function(t){return t.id})))+1,r=a.findIndex(function(t){return t.name==e}),s={id:0,name:e,save:{graph:n,type:o},user_id:"local"};-1==r?(s.id=i,a.push(s)):(s.id=a[r].id,a[r]=s);var c=JSON.stringify(a,function(t,e){return e instanceof Set?Array.from(e):e});return localStorage.setItem("saves",c),new Promise(function(t){t()})}}],[{key:"getSaves",value:function(){if(!localStorage)throw new Error("no local storage");var t=[];try{t=JSON.parse(localStorage.getItem("saves")||"")}catch(e){return console.warn("Invalid saves in local storage: "+e),[]}return t}}]),t}(),at=new URL(null!=="https://sscss.ru"?"https://sscss.ru":"http://localhost"),it=null!=="2101"?"2101":"8001",rt=null!=="2102"?"2102":"8002",st=null!=="2103"?"2103":"8003";function ct(){var t=new Headers;return t.set("tt","g"),t.set("t",T("token")||""),t}function ut(t){return{method:"GET",headers:t}}function lt(t){return new Promise(function(e,n){var o=at;o.port=st,o.pathname="/saves";var a=ut(ct());fetch(o.href,a).then(function(e){if(401==e.status&&t(),!e.ok)throw new Error(e.status+e.statusText);return e.json()}).then(function(t){return e(t)}).catch(function(t){return n(t)})})}function pt(t,e){return new Promise(function(n,o){var a=at;a.port=st,a.pathname="/saves";var i=JSON.stringify(t),r=function(t,e){return t.set("Content-Type","application/json"),{method:"POST",headers:t,body:e}}(ct(),i);fetch(a.href,r).then(function(t){if(401==t.status&&e(),!t.ok)throw new Error(t.status+t.statusText);n()}).catch(function(t){return o(t)})})}function dt(t,e){return new Promise(function(n,o){var a=at;a.port=st,a.pathname="/saves",a.pathname+="/"+t.id;var i=ut(ct());fetch(a.href,i).then(function(t){if(401==t.status&&e(),!t.ok)throw new Error(t.status+t.statusText);return t.json()}).then(function(t){return n(t)}).catch(function(t){return o(t)})})}var ht=function(){function t(e){Object(s.a)(this,t),this.onAuthFailed=void 0,this.onAuthFailed=e}return Object(c.a)(t,[{key:"getSave",value:function(){var t=Object(nt.a)(et.a.mark(function t(e){var n,o,a;return et.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n={id:e.id},o=null,t.prev=2,t.next=5,dt(n,this.onAuthFailed);case 5:a=t.sent,o={id:a.id,name:a.name,save:JSON.parse(a.save),user_id:a.user_id},t.next=12;break;case 9:t.prev=9,t.t0=t.catch(2),console.error(t.t0);case 12:return t.abrupt("return",o);case 13:case"end":return t.stop()}},t,this,[[2,9]])}));return function(e){return t.apply(this,arguments)}}()},{key:"getSavesMeta",value:function(){var t=Object(nt.a)(et.a.mark(function t(){var e;return et.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=[],t.prev=1,t.next=4,lt(this.onAuthFailed);case 4:e=t.sent,t.next=10;break;case 7:t.prev=7,t.t0=t.catch(1),console.error(t.t0);case 10:return t.abrupt("return",e);case 11:case"end":return t.stop()}},t,this,[[1,7]])}));return function(){return t.apply(this,arguments)}}()},{key:"save",value:function(){var t=Object(nt.a)(et.a.mark(function t(e,n,o){var a,i;return et.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a=JSON.stringify({graph:n,type:o},function(t,e){return e instanceof Set?Array.from(e):e}),i={name:e,save:a},t.prev=2,t.next=5,pt(i,this.onAuthFailed);case 5:t.next=10;break;case 7:t.prev=7,t.t0=t.catch(2),console.error(t.t0);case 10:case"end":return t.stop()}},t,this,[[2,7]])}));return function(e,n,o){return t.apply(this,arguments)}}()}]),t}(),ft=n(492),mt=n(477),vt=n(493),gt=n(490),Et=n(483),yt=n(494),St=n(495),bt=n(485),kt=n(234),_t=n.n(kt),wt=(n(425),n(500)),Pt=function(t){var e=t.open,n=t.onClose,i=t.onAuthFailed,r=t.changeComputerType,s=new ot,c=new ht(i),u=function(){var t=Object(nt.a)(et.a.mark(function t(e){var o;return et.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.getSave(e);case 2:(o=t.sent)&&(r(o.save.type,o.save.graph),n());case 4:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}(),l=function(){var t=Object(nt.a)(et.a.mark(function t(e){var o;return et.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s.getSave(e);case 2:(o=t.sent)&&(r(o.save.type,o.save.graph),n());case 4:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}(),p=function(){var t=Object(nt.a)(et.a.mark(function t(){var e;return et.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return O(!0),t.next=3,c.getSavesMeta();case 3:e=t.sent,g(e),O(!1);case 6:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}(),d=function(){var t=Object(nt.a)(et.a.mark(function t(){var e;return et.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s.getSavesMeta();case 2:e=t.sent,b(e);case 4:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}(),h=Object(o.useState)([]),f=Object($.a)(h,2),v=f[0],g=f[1],E=Object(o.useState)([]),y=Object($.a)(E,2),S=y[0],b=y[1],_=Object(o.useState)(!1),w=Object($.a)(_,2),P=w[0],O=w[1];return Object(o.useEffect)(function(){e&&(d(),p())},[e]),a.a.createElement(ft.a,{open:e,onClose:n,maxWidth:"md",fullWidth:!0},a.a.createElement(mt.a,null,a.a.createElement("p",null,"\u0421\u0438\u043c\u0443\u043b\u044f\u0442\u043e\u0440 \u0430\u0432\u0442\u043e\u043c\u0430\u0442\u043e\u0432")),a.a.createElement(vt.a,null,a.a.createElement(m.a,{className:"welcome-popout__body",variant:"outlined"},a.a.createElement(gt.a,{dense:!0},0!==v.length?a.a.createElement(yt.a,null,"\u041e\u0442\u043a\u0440\u044b\u0442\u044c \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u0435 \u0432 \u043e\u0431\u043b\u0430\u043a\u0435"):null,P?a.a.createElement("div",{className:"welcome-popout__body__cloud-skeleton"},a.a.createElement(bt.a,{className:"welcome-popout__body__cloud-skeleton__rectangle",animation:"wave",variant:"rectangular",height:28}),a.a.createElement(bt.a,{className:"welcome-popout__body__cloud-skeleton__rectangle",animation:"wave",variant:"rectangular",height:28}),a.a.createElement(bt.a,{className:"welcome-popout__body__cloud-skeleton__rectangle",animation:"wave",variant:"rectangular",height:28})):0!==v.length?v.map(function(t){return a.a.createElement(Et.a,{key:t.id,secondaryAction:a.a.createElement(k.a,{variant:"contained",size:"small",onClick:function(){return u(t)}},"\u041e\u0442\u043a\u0440\u044b\u0442\u044c")},a.a.createElement(St.a,null,t.name))}):null,0!==S.length?a.a.createElement(yt.a,null,"\u041e\u0442\u043a\u0440\u044b\u0442\u044c \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u0435 \u0432 \u0431\u0440\u0430\u0443\u0437\u0435\u0440\u0435"):null,0!==S.length?S.map(function(t){return a.a.createElement(Et.a,{key:t.id,secondaryAction:a.a.createElement(k.a,{variant:"contained",size:"small",onClick:function(){return l(t)}},"\u041e\u0442\u043a\u0440\u044b\u0442\u044c")},a.a.createElement(St.a,null,t.name))}):null,a.a.createElement(yt.a,null,"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u043d\u043e\u0432\u044b\u0439 \u0432\u044b\u0447\u0438\u0441\u043b\u0438\u0442\u0435\u043b\u044c"),Object.entries(A).map(function(t){return a.a.createElement(Et.a,{key:t[1].name,secondaryAction:a.a.createElement("div",null,a.a.createElement(k.a,{className:"welcome-popout__create-empty-button",variant:"text",size:"small",onClick:function(){return e=t[0],r(e,{nodes:[],edges:[]}),void n();var e}},"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u043f\u0443\u0441\u0442\u044b\u043c"),a.a.createElement(k.a,{variant:"contained",size:"small",onClick:function(){return e=t[0],r(e,null),void n();var e}},"\u0421\u043e\u0437\u0434\u0430\u0442\u044c"))},a.a.createElement(St.a,{primary:t[1].name,secondary:t[1].description}))}))),a.a.createElement("div",{className:"welcome-popout__footer"},a.a.createElement(wt.a,{href:"https://github.com/spbu-se/WebAutomataConstructor"},a.a.createElement(_t.a,{className:"welcome-popout__github-icon"})))))},Ot=n(497),Nt=n(486),It=n(496),xt=n(478),jt=(n(426),function(t){var e=t.open,n=t.onClose,i=t.isLogin,r=t.onAuthFailed,s=t.graph,c=t.computerType,u=function(){var t=Object(nt.a)(et.a.mark(function t(){var e;return et.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:I(!0),e=[],t.t0=g,t.next="cloud"===t.t0?5:"browser"===t.t0?9:13;break;case 5:return t.next=7,h.getSavesMeta();case 7:return e=t.sent,t.abrupt("break",15);case 9:return t.next=11,p.getSavesMeta();case 11:return e=t.sent,t.abrupt("break",15);case 13:return w([]),t.abrupt("break",15);case 15:w(e),I(!1);case 17:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}(),l=Object(o.useState)(new ot),p=Object($.a)(l,1)[0],d=Object(o.useState)(new ht(r)),h=Object($.a)(d,1)[0],f=Object(o.useState)(i?"cloud":"browser"),v=Object($.a)(f,2),g=v[0],E=v[1],y=Object(o.useState)([]),S=Object($.a)(y,2),_=S[0],w=S[1],P=Object(o.useState)(!1),O=Object($.a)(P,2),N=O[0],I=O[1],x=Object(o.useState)(""),j=Object($.a)(x,2),M=j[0],C=j[1];return Object(o.useEffect)(function(){e&&(E(i?"cloud":"browser"),u())},[e]),Object(o.useEffect)(function(){u()},[g]),Object(o.useEffect)(function(){C("")},[g,e]),a.a.createElement(ft.a,{open:e,onClose:n},a.a.createElement(mt.a,null,a.a.createElement("p",null,"\u0421\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u0435")),a.a.createElement(vt.a,null,a.a.createElement("div",{className:"saving-popout__body"},a.a.createElement("div",{className:"saving-popout__body__sidebar"},a.a.createElement(Nt.a,{orientation:"vertical",exclusive:!0,value:g,onChange:function(t,e){E(e=e||g)}},a.a.createElement(It.a,{value:"cloud",disabled:!i},"\u041e\u0431\u043b\u0430\u043a\u043e"),a.a.createElement(It.a,{value:"browser"},"\u0411\u0440\u0430\u0443\u0437\u0435\u0440"))),a.a.createElement("div",{className:"saving-popout__body__main"},a.a.createElement(m.a,{className:"saving-popout__body__main__paper",variant:"outlined"},N?a.a.createElement("div",{className:"saving-popout__body__main__skeleton"},a.a.createElement(bt.a,{className:"saving-popout__body__main__skeleton__bar",animation:"wave",variant:"rectangular",height:"36"}),a.a.createElement(bt.a,{className:"saving-popout__body__main__skeleton__bar",animation:"wave",variant:"rectangular",height:"36"}),a.a.createElement(bt.a,{className:"saving-popout__body__main__skeleton__bar",animation:"wave",variant:"rectangular",height:"36"})):a.a.createElement(gt.a,{dense:!0},_.map(function(t){return a.a.createElement(Et.a,{key:t.id,disablePadding:!0},a.a.createElement(xt.a,{onClick:function(e){return function(t,e){C(e.name)}(0,t)}},a.a.createElement(St.a,{primary:t.name})))}))))),a.a.createElement(b.a,{className:"saving-popout__save-name-input",variant:"standard",size:"small",label:"\u0418\u043c\u044f \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u044f",value:M,onChange:function(t){var e=t.target.value;C(e)}}),a.a.createElement(Ot.a,null,a.a.createElement(k.a,{color:"primary",onClick:function(t){switch(g){case"cloud":h.save(M,s,c);break;case"browser":p.save(M,s,c)}u(),n()}},"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"),a.a.createElement(k.a,{color:"primary",onClick:n},"\u041e\u0442\u043c\u0435\u043d\u0430"))))}),Mt=n(64),Ct=n(18),At=n(69),Tt=(n(427),n(235)),Dt=(n(428),function(t){var e=t.style,n=t.className,o=function(t){for(var e="",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",o=n.length,a=0;a<t;a++)e+=n.charAt(Math.floor(Math.random()*o));return e}(30);document.cookie="state=".concat(o,"; path=/; max-age=3600; secure");var i="".concat("https://accounts.google.com/o/oauth2/v2/auth","?access_type=").concat("offline","&client_id=").concat("196702226545-b0hbpiq78pg29jle3rigem4jcucu8g36.apps.googleusercontent.com","&redirect_uri=").concat("https://sscss.ru:2101/auth/oauth/google/callback","&response_type=").concat("code","&scope=").concat("https://www.googleapis.com/auth/userinfo.email","&state=").concat(o);return a.a.createElement("div",{className:"google_oauth_button ".concat(n),style:Object(Tt.a)({},e)},a.a.createElement("form",{className:"google_oauth_button__form",method:"POST",action:i},a.a.createElement("button",{className:"google_oauth_button__button",type:"submit",value:"Authorize via Google OAuth"},a.a.createElement("img",{className:"google_oauth_button__logo",src:"media/images/google_logo_18.png",alt:"Google icon","aria-hidden":!0}),a.a.createElement("p",{className:"google_oauth_button__text"},"Sign in with Google"))))}),Lt=function(t){return Object(At.a)(t),a.a.createElement("div",{className:"login-page"},a.a.createElement("div",{className:"login-page__form"},a.a.createElement(Dt,null)))};n(429);var Rt=function(t){Object(At.a)(t);var e=Object(o.useState)("ping..."),n=Object($.a)(e,2),i=n[0],r=n[1],s=function(){var t=Object(nt.a)(et.a.mark(function t(){var e,n;return et.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=null,t.prev=1,t.next=4,new Promise(function(t,e){var n=at;n.port=rt,n.pathname="/ping";var o=ut(ct());fetch(n.href,o).then(function(t){if(!t.ok)throw new Error(t.status+t.statusText);return t.text()}).then(function(e){return t({pong:e})}).catch(function(t){return e(t)})});case 4:n=t.sent,e=n.pong,t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),console.error(t.t0);case 11:return t.abrupt("return",e);case 12:case"end":return t.stop()}},t,null,[[1,8]])}));return function(){return t.apply(this,arguments)}}();return Object(o.useEffect)(function(){s().then(function(t){return r(null!==t&&void 0!==t?t:"Failed to ping")})}),a.a.createElement("div",{className:"ping-page"},i)},zt=(n(430),function(t){return Object(At.a)(t),a.a.createElement("div",{className:"failed-login-page"},a.a.createElement("h1",null,"Login failed"),a.a.createElement(Mt.b,{to:"/login"},"Login page"))}),Ft=n(498),Bt=n(499),Jt=(n(434),function(t){var e=t.onMenuButtonClicked,n=t.onSaveButtonClicked,o=t.onLogoutButtonClicked,i=t.isLogin,r=Object(Ct.f)();return a.a.createElement(Ft.a,{position:"sticky"},a.a.createElement(Bt.a,{variant:"dense"},a.a.createElement("div",{className:"app__header__left"},a.a.createElement(k.a,{className:"app__header__button",color:"inherit",onClick:e},"\u041c\u0435\u043d\u044e"),a.a.createElement(k.a,{className:"app__header__button",color:"inherit",onClick:n},"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c")),a.a.createElement("div",{className:"app__header__right"},a.a.createElement(k.a,{className:"app__header__button",color:"inherit",onClick:i?function(){document.cookie="token=; path=/; secure; max-age=-99999999",o()}:function(){r.push("/login")}},i?"\u0412\u044b\u0439\u0442\u0438":"\u0412\u043e\u0439\u0442\u0438"))))});function Gt(t){return new Promise(function(e,n){var o=at;o.port=it,o.pathname="/auth/obtain",o.pathname+="/"+t.state,fetch(o.href).then(function(t){if(!t.ok)throw new Error(t.status+t.statusText);return t.json()}).then(function(t){return e(t)}).catch(function(t){return n(t)})})}n(435);var Vt=function(t){var e=t.onAuthSuccess,n=function(){var t=Object(nt.a)(et.a.mark(function t(){var n,o;return et.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=T("state")||"",o=null,t.prev=2,t.next=5,Gt({state:n});case 5:o=t.sent,e(),t.next=13;break;case 9:return t.prev=9,t.t0=t.catch(2),console.error(t.t0),t.abrupt("return");case 13:document.cookie="token=".concat(o.value,"; path=/; secure; max-age=86400"),i.push("/");case 15:case"end":return t.stop()}},t,null,[[2,9]])}));return function(){return t.apply(this,arguments)}}();Object(o.useEffect)(function(){n()},[]);var i=Object(Ct.f)();return a.a.createElement("div",null)},qt=a.a.createContext(null),Wt=function(t){Object(u.a)(n,t);var e=Object(l.a)(n);function n(t){var o;return Object(s.a)(this,n),(o=e.call(this,t)).memRef=a.a.createRef(),o.network=void 0,o.lastNodeId=0,o.subscribeToShortcuts=function(){document.addEventListener("keydown",function(t){"Shift"!==t.key||o.state.inEdgeMode||o.enterEdgeMode(),"s"===t.key&&t.ctrlKey&&(t.preventDefault(),o.openSavePopout())}),document.addEventListener("keyup",function(t){"Shift"===t.key&&o.state.inEdgeMode&&o.leaveEdgeMode()})},o.openSavePopout=function(){o.setState({savePopoutOpen:!0})},o.closeSavePopout=function(){o.setState({savePopoutOpen:!1})},o.openWelcomePopout=function(){o.setState({welcomePopoutOpen:!0})},o.closeWelcomePopout=function(){o.setState({welcomePopoutOpen:!1})},o.login=function(){o.setState({isLogin:!0})},o.logout=function(){o.setState({isLogin:!1})},o.changePopout=function(t){o.setState({popout:t})},o.getNodeById=function(t){return o.state.elements.nodes.find(function(e){return e.id===t})},o.getEdgeById=function(t){return o.state.elements.edges.find(function(e){return e.id===t})},o.updateGraph=function(){o.network&&o.network.setData(M(o.state.elements))},o.changeNodeLabel=function(t,e){for(var n=Object(h.cloneDeep)(o.state.elements),a=0;a<n.nodes.length;a++)n.nodes[a].id===t&&(n.nodes[a].label=e);o.setState({elements:n},function(){return o.updateGraph()})},o.changeStateIsAdmit=function(t,e){for(var n=Object(h.cloneDeep)(o.state.elements),a=0;a<n.nodes.length;a++)n.nodes[a].id===t&&(n.nodes[a].isAdmit=e);o.setState({elements:n},function(){return o.updateGraph()})},o.changeStateIsInitial=function(t,e){for(var n=Object(h.cloneDeep)(o.state.elements),a=0;a<n.nodes.length;a++)n.nodes[a].isInitial&&(n.nodes[a].isInitial=!1),n.nodes[a].id===t&&(n.nodes[a].isInitial=e);o.setState({elements:n},function(){return o.updateGraph()})},o.changeStateIsCurrent=function(t,e){for(var n=Object(h.cloneDeep)(o.state.elements),a=0;a<n.nodes.length;a++)n.nodes[a].isCurrent&&(n.nodes[a].isCurrent=!1);for(var i=0;i<n.nodes.length;i++)t.includes(n.nodes[i].id)&&(n.nodes[i].isCurrent=e);o.setState({elements:n},function(){return o.updateGraph()})},o.changeNodePosition=function(t,e,n){for(var a=Object(h.cloneDeep)(o.state.elements),i=0;i<a.nodes.length;i++)a.nodes[i].id===t&&(a.nodes[i].x=e,a.nodes[i].y=n);o.setState({elements:a},function(){return o.updateGraph()})},o.createNode=function(t){var e=t.pointer.canvas.x,n=t.pointer.canvas.y,a=Object(h.cloneDeep)(o.state.elements);a.nodes.push({id:++o.lastNodeId,x:e,y:n,label:C(o.state.elements),isAdmit:!1,isInitial:!1}),o.setState({elements:a},function(){return o.updateGraph()})},o.selectNode=function(t){t.nodes.length>0&&o.setState({selectedNode:o.getNodeById(t.nodes[0])})},o.deselectNode=function(t){0===t.nodes.length&&o.setState({selectedNode:null})},o.deleteNode=function(t){for(var e=Object(h.cloneDeep)(o.state.elements),n=0;n<e.nodes.length;n++)if(e.nodes[n].id===t){e.nodes.splice(n,1);break}for(var a=0;a<e.edges.length;a++)e.edges[a].from!==t&&e.edges[a].to!==t||(e.edges.splice(a,1),a--);o.setState({selectedNode:null}),o.setState({elements:e},function(){return o.updateGraph()})},o.addEdge=function(t,e){var n=Object(h.cloneDeep)(o.state.elements);n.edges.push({from:t,to:e,label:"",transitions:new Set}),o.setState({elements:n},function(){return o.updateGraph()})},o.enterEdgeMode=function(){o.network&&o.network.addEdgeMode(),o.setState({inEdgeMode:!0})},o.leaveEdgeMode=function(){o.network&&o.network.disableEditMode(),o.setState({inEdgeMode:!1})},o.onEdgeDragEnd=function(t){void 0!==t.controlEdge.to&&(o.addEdge(t.controlEdge.from,t.controlEdge.to),o.leaveEdgeMode())},o.selectEdge=function(t){1===t.edges.length&&o.setState({selectedEdge:o.getEdgeById(t.edges[0])})},o.deselectEdge=function(t){0===t.edges.length&&o.setState({selectedEdge:null})},o.changeEdgeLabel=function(t,e){for(var n=Object(h.cloneDeep)(o.state.elements),a=0;a<n.edges.length;a++)n.edges[a].id===t&&(n.edges[a].label="label");o.setState({elements:n},function(){return o.updateGraph()})},o.changeEdgeTransition=function(t,e){for(var n=Object(h.cloneDeep)(o.state.elements),a=0;a<n.edges.length;a++)n.edges[a].id===t&&(n.edges[a].transitions=e,n.edges[a].label=j(e));o.setState({elements:n},function(){return o.updateGraph()})},o.deleteEdge=function(t){for(var e=Object(h.cloneDeep)(o.state.elements),n=0;n<e.edges.length;n++)if(e.edges[n].id===t){e.edges.splice(n,1);break}o.setState({selectedEdge:null}),o.setState({elements:e},function(){return o.updateGraph()})},o.onDragEnd=function(t){if(1===t.nodes.length){var e=t.nodes[0],n=t.pointer.canvas,a=n.x,i=n.y;o.changeNodePosition(e,a,i)}},o.updMem=function(t,e){o.setState({mem:t,ptr:e})},o.memPos=function(t){var e,n;null===(e=o.memRef)||void 0===e||null===(n=e.current)||void 0===n||n.scrollIntoView({behavior:"smooth"})},o.events={doubleClick:o.createNode,selectNode:o.selectNode,selectEdge:o.selectEdge,deselectNode:o.deselectNode,deselectEdge:o.deselectEdge,controlNodeDragEnd:o.onEdgeDragEnd,dragEnd:o.onDragEnd},o.state={computerType:null,selectedNode:null,selectedEdge:null,inEdgeMode:!1,elements:{nodes:[],edges:[]},options:{edges:{smooth:{enabled:!0,type:"discrete",roundness:.5},length:200},nodes:{shape:"box",font:"18px Roboto black",labelHighlightBold:!1,widthConstraint:40,heightConstraint:40},physics:{enabled:!1}},initiallyStabilized:!1,popout:null,savePopoutOpen:!1,welcomePopoutOpen:!1,isLogin:!0,mem:void 0,ptr:void 0},o}return Object(c.a)(n,[{key:"componentDidUpdate",value:function(){}},{key:"componentDidMount",value:function(){this.updateGraph(),this.subscribeToShortcuts(),this.openWelcomePopout()}},{key:"render",value:function(){var t,e=this;return a.a.createElement(Mt.a,null,a.a.createElement(Ct.c,null,a.a.createElement(Ct.a,{path:"/login"},a.a.createElement(Lt,null)),a.a.createElement(Ct.a,{path:"/ping"},a.a.createElement(Rt,null)),a.a.createElement(Ct.a,{path:"/failed-login"},a.a.createElement(zt,null)),a.a.createElement(Ct.a,{path:"/success-login"},a.a.createElement(Vt,{onAuthSuccess:this.login})),a.a.createElement(Ct.a,{path:"/"},a.a.createElement(qt.Provider,{value:this.state.computerType},a.a.createElement("div",{className:"app"},a.a.createElement(Pt,{open:this.state.welcomePopoutOpen,onClose:this.closeWelcomePopout,onAuthFailed:this.logout,changeComputerType:function(t,n){var o=n||A[t].defaultGraph;console.log(o),console.log(o.nodes),e.lastNodeId=o.nodes.length,e.setState({computerType:t,elements:o},function(){return e.updateGraph()})}}),this.state.popout,a.a.createElement(jt,{open:this.state.savePopoutOpen,onClose:this.closeSavePopout,isLogin:this.state.isLogin,onAuthFailed:this.logout,graph:this.state.elements,computerType:this.state.computerType}),a.a.createElement("div",{className:"hint-container"},a.a.createElement(m.a,{className:"hint",variant:"outlined"},"Ctrl+S \u2014 \u0441\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \u0430\u0432\u0442\u043e\u043c\u0430\u0442"),a.a.createElement(m.a,{className:"hint",variant:"outlined"},"\u0423\u0434\u0435\u0440\u0436\u0438\u0432\u0430\u0439\u0442\u0435 Shift \u0447\u0442\u043e\u0431\u044b \u0441\u043e\u0437\u0434\u0430\u0442\u044c \u0440\u0435\u0431\u0440\u043e"),a.a.createElement(m.a,{className:"hint",variant:"outlined"},"\u0414\u0432\u043e\u0439\u043d\u043e\u0435 \u043d\u0430\u0436\u0430\u0442\u0438\u0435 \u0447\u0442\u043e\u0431\u044b \u0441\u043e\u0437\u0434\u0430\u0442\u044c \u0432\u0435\u0440\u0448\u0438\u043d\u0443")),"tm"===this.state.computerType?a.a.createElement("div",{className:"app__mem_ribbon"},null===(t=this.state.mem)||void 0===t?void 0:t.map(function(t,n){var o,i;return a.a.createElement("div",{className:"app__mem_cell",style:{border:"".concat(n===e.state.ptr?"#0041d0":"#000000"," 2px solid")}},Math.abs(Math.abs(n)-Math.abs(e.state.ptr))<=5?a.a.createElement("div",{ref:e.memRef}):a.a.createElement("div",null),t,null===(o=e.memRef)||void 0===o?void 0:null===(i=o.current)||void 0===i?void 0:i.scrollIntoView({behavior:"smooth"}))})):a.a.createElement("div",null),a.a.createElement(Jt,{onMenuButtonClicked:this.openWelcomePopout,onSaveButtonClicked:this.openSavePopout,onLogoutButtonClicked:this.logout,isLogin:this.state.isLogin}),a.a.createElement("div",{className:"field__container"},a.a.createElement(d.a,{getNetwork:function(t){return e.network=t},graph:{nodes:[],edges:[]},options:this.state.options,events:this.events})),a.a.createElement("div",{className:"app__right-menu"},a.a.createElement(P,{node:this.state.selectedNode,changeNodeLabel:this.changeNodeLabel,changeStateIsAdmit:this.changeStateIsAdmit,changeStateIsInitial:this.changeStateIsInitial,deleteNode:this.deleteNode}),a.a.createElement(z,{edge:this.state.selectedEdge,changeEdgeTransitions:this.changeEdgeTransition,deleteEdge:this.deleteEdge}),a.a.createElement(Y,{updMem:this.updMem,elements:this.state.elements,changeStateIsCurrent:this.changeStateIsCurrent})))))))}}]),n}(a.a.Component);r.a.render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(Wt,null)),document.getElementById("root"))},68:function(t,e,n){"use strict";var o=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();e.__esModule=!0;var a=n(116),i=n(25),r=(function(){function t(t){void 0===t&&(t=1/0),this.capacity=t,this.storage=[]}t.prototype.enqueue=function(t){if(this.size()===this.capacity)throw Error("Queue has reached max capacity, you cannot add more items");this.storage.push(t)},t.prototype.dequeue=function(){return this.storage.shift()},t.prototype.size=function(){return this.storage.length}}(),function(){function t(){this.table=new Map,this.set=[]}return t.prototype.normalize=function(t){var e=i.cloneDeep(t);return e=e.sort()},t.prototype.getItter=function(t){if(!this.has(t))throw Error;var e=0,n=this.normalize(t);return this.set.forEach(function(t,o){JSON.stringify(n)===JSON.stringify(t)&&(e=o)}),e},t.prototype.has=function(t){var e=this.normalize(t),n=JSON.stringify(e);return this.table.has(n)},t.prototype.myForEach=function(t){this.set.forEach(function(e,n){t(e,n)})},t.prototype.add=function(t){var e=this.normalize(t),n=JSON.stringify(e);this.table.has(n)||(this.table.set(n,e),this.set.push(e))},t.prototype.size=function(){return this.set.length},t.prototype.getNth=function(t){return this.set[t]},t.prototype.getIter=function(t){var e=this.normalize(t),n=JSON.stringify(e),o=0;return this.set.forEach(function(t,e){JSON.stringify(t)===n&&(o=e)}),o},t}());e.ImSet=r;var s=function(t){function e(e,n,o){var a=t.call(this,e,n,o)||this;return a.step=function(){var t,e=a._step(a.counterSteps,a.alphabet.get(null===(t=a.input[a.counterSteps])||void 0===t?void 0:t.value),a.historiStep);return a.counterSteps=e.counter,a.historiStep=e.history,e.nodes.forEach(function(t){return t.stack=void 0}),e.history.forEach(function(t){return t.nodes.forEach(function(t){return t.stack=void 0})}),e},a.run=function(){a.historiRun=[],a.counterStepsForResult=0;for(var t=0;t<a.input.length-1;t++){var e=a._step(a.counterStepsForResult,a.alphabet.get(a.input[a.counterStepsForResult].value),a.historiRun);a.counterStepsForResult=e.counter,a.historiRun=e.history}var n=a._step(a.counterStepsForResult,a.alphabet.get(a.input[a.counterStepsForResult].value),a.historiRun);return n.nodes.forEach(function(t){return t.stack=void 0}),n.history.forEach(function(t){return t.nodes.forEach(function(t){return t.stack=void 0})}),n},a}return o(e,t),e}(a.PDA);e.EpsilonNFA=s}},[[273,1,2]]]);
//# sourceMappingURL=main.f47b4a49.chunk.js.map